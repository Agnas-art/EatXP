var mv=t=>{throw TypeError(t)};var sp=(t,e,n)=>e.has(t)||mv("Cannot "+n);var ie=(t,e,n)=>(sp(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?mv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ie=(t,e,n,r)=>(sp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rn=(t,e,n)=>(sp(t,e,"access private method"),n);var Au=(t,e,n,r)=>({set _(i){Ie(t,e,i,n)},get _(){return ie(t,e,r)}});function HA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function DS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FS={exports:{}},af={},IS={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),UA=Symbol.for("react.portal"),GA=Symbol.for("react.fragment"),WA=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),qA=Symbol.for("react.provider"),XA=Symbol.for("react.context"),YA=Symbol.for("react.forward_ref"),KA=Symbol.for("react.suspense"),QA=Symbol.for("react.memo"),ZA=Symbol.for("react.lazy"),gv=Symbol.iterator;function JA(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,zS={};function Xo(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||OS}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VS(){}VS.prototype=Xo.prototype;function Qy(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||OS}var Zy=Qy.prototype=new VS;Zy.constructor=Qy;BS(Zy,Xo.prototype);Zy.isPureReactComponent=!0;var yv=Array.isArray,HS=Object.prototype.hasOwnProperty,Jy={current:null},US={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)HS.call(e,r)&&!US.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:iu,type:t,key:s,ref:a,props:i,_owner:Jy.current}}function e3(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ex(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function t3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xv=/\/+/g;function ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t3(""+t.key):e.toString(36)}function Bd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case iu:case UA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+ap(a,0):r,yv(i)?(n="",t!=null&&(n=t.replace(xv,"$&/")+"/"),Bd(i,e,n,"",function(u){return u})):i!=null&&(ex(i)&&(i=e3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",yv(t))for(var o=0;o<t.length;o++){s=t[o];var c=r+ap(s,o);a+=Bd(s,e,n,c,i)}else if(c=JA(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=r+ap(s,o++),a+=Bd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ju(t,e,n){if(t==null)return t;var r=[],i=0;return Bd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function n3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},zd={transition:null},r3={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:zd,ReactCurrentOwner:Jy};function WS(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!ex(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Xo;Ve.Fragment=GA;Ve.Profiler=$A;Ve.PureComponent=Qy;Ve.StrictMode=WA;Ve.Suspense=KA;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r3;Ve.act=WS;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Jy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)HS.call(e,c)&&!US.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:iu,type:t.type,key:i,ref:s,props:r,_owner:a}};Ve.createContext=function(t){return t={$$typeof:XA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qA,_context:t},t.Consumer=t};Ve.createElement=GS;Ve.createFactory=function(t){var e=GS.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:YA,render:t}};Ve.isValidElement=ex;Ve.lazy=function(t){return{$$typeof:ZA,_payload:{_status:-1,_result:t},_init:n3}};Ve.memo=function(t,e){return{$$typeof:QA,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=zd.transition;zd.transition={};try{t()}finally{zd.transition=e}};Ve.unstable_act=WS;Ve.useCallback=function(t,e){return wn.current.useCallback(t,e)};Ve.useContext=function(t){return wn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return wn.current.useEffect(t,e)};Ve.useId=function(){return wn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return wn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};Ve.useRef=function(t){return wn.current.useRef(t)};Ve.useState=function(t){return wn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return wn.current.useTransition()};Ve.version="18.3.1";IS.exports=Ve;var _=IS.exports;const fe=DS(_),tx=HA({__proto__:null,default:fe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3=_,s3=Symbol.for("react.element"),a3=Symbol.for("react.fragment"),o3=Object.prototype.hasOwnProperty,l3=i3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c3={key:!0,ref:!0,__self:!0,__source:!0};function $S(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)o3.call(e,r)&&!c3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:s3,type:t,key:s,ref:a,props:i,_owner:l3.current}}af.Fragment=a3;af.jsx=$S;af.jsxs=$S;FS.exports=af;var l=FS.exports,qS={exports:{}},Un={},XS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var q=V.length;V.push(U);e:for(;0<q;){var W=q-1>>>1,$=V[W];if(0<i($,U))V[W]=U,V[q]=$,q=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],q=V.pop();if(q!==U){V[0]=q;e:for(var W=0,$=V.length,K=$>>>1;W<K;){var B=2*(W+1)-1,Q=V[B],pe=B+1,J=V[pe];if(0>i(Q,q))pe<$&&0>i(J,Q)?(V[W]=J,V[pe]=q,W=pe):(V[W]=Q,V[B]=q,W=B);else if(pe<$&&0>i(J,q))V[W]=J,V[pe]=q,W=pe;else break e}}return U}function i(V,U){var q=V.sortIndex-U.sortIndex;return q!==0?q:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=V)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function S(V){if(y=!1,b(V),!x)if(n(c)!==null)x=!0,j(M);else{var U=n(u);U!==null&&G(S,U.startTime-V)}}function M(V,U){x=!1,y&&(y=!1,g(E),E=-1),p=!0;var q=f;try{for(b(U),h=n(c);h!==null&&(!(h.expirationTime>U)||V&&!F());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var $=W(h.expirationTime<=U);U=t.unstable_now(),typeof $=="function"?h.callback=$:h===n(c)&&r(c),b(U)}else r(c);h=n(c)}if(h!==null)var K=!0;else{var B=n(u);B!==null&&G(S,B.startTime-U),K=!1}return K}finally{h=null,f=q,p=!1}}var w=!1,C=null,E=-1,N=5,L=-1;function F(){return!(t.unstable_now()-L<N)}function D(){if(C!==null){var V=t.unstable_now();L=V;var U=!0;try{U=C(!0,V)}finally{U?k():(w=!1,C=null)}}else w=!1}var k;if(typeof m=="function")k=function(){m(D)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=D,k=function(){z.postMessage(null)}}else k=function(){v(D,0)};function j(V){C=V,w||(w=!0,k())}function G(V,U){E=v(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,j(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var q=f;f=U;try{return V()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var q=f;f=V;try{return U()}finally{f=q}},t.unstable_scheduleCallback=function(V,U,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,V={id:d++,callback:U,priorityLevel:V,startTime:q,expirationTime:$,sortIndex:-1},q>W?(V.sortIndex=q,e(u,V),n(c)===null&&V===n(u)&&(y?(g(E),E=-1):y=!0,G(S,q-W))):(V.sortIndex=$,e(c,V),x||p||(x=!0,j(M))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var U=f;return function(){var q=f;f=U;try{return V.apply(this,arguments)}finally{f=q}}}})(YS);XS.exports=YS;var u3=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=_,Hn=u3;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KS=new Set,bc={};function ha(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(bc[t]=e,t=0;t<e.length;t++)KS.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,h3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vv={},bv={};function f3(t){return Km.call(bv,t)?!0:Km.call(vv,t)?!1:h3.test(t)?bv[t]=!0:(vv[t]=!0,!1)}function p3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m3(t,e,n,r){if(e===null||typeof e>"u"||p3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nx,rx);en[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nx,rx);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nx,rx);en[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ix(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m3(e,n,i,r)&&(n=null),r||i===null?f3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),sx=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),Jm=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),_v=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,op;function zl(t){if(op===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);op=e&&e[1]||""}return`
`+op+t}var lp=!1;function cp(t,e){if(!t||lp)return"";lp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{lp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function g3(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=cp(t.type,!1),t;case 11:return t=cp(t.type.render,!1),t;case 1:return t=cp(t.type,!0),t;default:return""}}function eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $a:return"Fragment";case Wa:return"Portal";case Qm:return"Profiler";case sx:return"StrictMode";case Zm:return"Suspense";case Jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZS:return(t.displayName||"Context")+".Consumer";case QS:return(t._context.displayName||"Context")+".Provider";case ax:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ox:return e=t.displayName||null,e!==null?e:eg(t.type)||"Memo";case Ui:e=t._payload,t=t._init;try{return eg(t(e))}catch{}}return null}function y3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eg(e);case 8:return e===sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x3(t){var e=e2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){t._valueTracker||(t._valueTracker=x3(t))}function t2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tg(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n2(t,e){e=e.checked,e!=null&&ix(t,"checked",e,!1)}function ng(t,e){n2(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&rg(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rg(t,e,n){(e!=="number"||oh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vl=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Vl(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function r2(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function i2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?i2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,s2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v3=["Webkit","ms","Moz","O"];Object.keys(Yl).forEach(function(t){v3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yl[e]=Yl[t]})});function a2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yl.hasOwnProperty(t)&&Yl[t]?(""+e).trim():e+"px"}function o2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var b3=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(b3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=null;function lx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cg=null,po=null,mo=null;function Ev(t){if(t=ou(t)){if(typeof cg!="function")throw Error(he(280));var e=t.stateNode;e&&(e=df(e),cg(t.stateNode,t.type,e))}}function l2(t){po?mo?mo.push(t):mo=[t]:po=t}function c2(){if(po){var t=po,e=mo;if(mo=po=null,Ev(t),e)for(t=0;t<e.length;t++)Ev(e[t])}}function u2(t,e){return t(e)}function d2(){}var up=!1;function h2(t,e,n){if(up)return t(e,n);up=!0;try{return u2(t,e,n)}finally{up=!1,(po!==null||mo!==null)&&(d2(),c2())}}function wc(t,e){var n=t.stateNode;if(n===null)return null;var r=df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var ug=!1;if(xi)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){ug=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{ug=!1}function _3(t,e,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Kl=!1,lh=null,ch=!1,dg=null,w3={onError:function(t){Kl=!0,lh=t}};function S3(t,e,n,r,i,s,a,o,c){Kl=!1,lh=null,_3.apply(w3,arguments)}function M3(t,e,n,r,i,s,a,o,c){if(S3.apply(this,arguments),Kl){if(Kl){var u=lh;Kl=!1,lh=null}else throw Error(he(198));ch||(ch=!0,dg=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tv(t){if(fa(t)!==t)throw Error(he(188))}function C3(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tv(i),t;if(s===r)return Tv(i),e;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function p2(t){return t=C3(t),t!==null?m2(t):null}function m2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=m2(t);if(e!==null)return e;t=t.sibling}return null}var g2=Hn.unstable_scheduleCallback,Nv=Hn.unstable_cancelCallback,E3=Hn.unstable_shouldYield,T3=Hn.unstable_requestPaint,kt=Hn.unstable_now,N3=Hn.unstable_getCurrentPriorityLevel,cx=Hn.unstable_ImmediatePriority,y2=Hn.unstable_UserBlockingPriority,uh=Hn.unstable_NormalPriority,k3=Hn.unstable_LowPriority,x2=Hn.unstable_IdlePriority,of=null,qr=null;function A3(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(of,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:L3,j3=Math.log,P3=Math.LN2;function L3(t){return t>>>=0,t===0?32:31-(j3(t)/P3|0)|0}var Du=64,Fu=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Hl(o):(s&=a,s!==0&&(r=Hl(s)))}else a=n&~i,a!==0?r=Hl(a):s!==0&&(r=Hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function R3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Er(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=R3(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v2(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function dp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function F3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ux(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function b2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _2,dx,w2,S2,M2,fg=!1,Iu=[],ns=null,rs=null,is=null,Sc=new Map,Mc=new Map,Wi=[],I3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kv(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ou(e),e!==null&&dx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function O3(t,e,n,r,i){switch(e){case"focusin":return ns=vl(ns,t,e,n,r,i),!0;case"dragenter":return rs=vl(rs,t,e,n,r,i),!0;case"mouseover":return is=vl(is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,vl(Sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mc.set(s,vl(Mc.get(s)||null,t,e,n,r,i)),!0}return!1}function C2(t){var e=Ds(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=f2(n),e!==null){t.blockedOn=e,M2(t.priority,function(){w2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lg=r,n.target.dispatchEvent(r),lg=null}else return e=ou(n),e!==null&&dx(e),t.blockedOn=n,!1;e.shift()}return!0}function Av(t,e,n){Vd(t)&&n.delete(e)}function B3(){fg=!1,ns!==null&&Vd(ns)&&(ns=null),rs!==null&&Vd(rs)&&(rs=null),is!==null&&Vd(is)&&(is=null),Sc.forEach(Av),Mc.forEach(Av)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,fg||(fg=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,B3)))}function Cc(t){function e(i){return bl(i,t)}if(0<Iu.length){bl(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&bl(ns,t),rs!==null&&bl(rs,t),is!==null&&bl(is,t),Sc.forEach(e),Mc.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)C2(n),n.blockedOn===null&&Wi.shift()}var go=Ti.ReactCurrentBatchConfig,hh=!0;function z3(t,e,n,r){var i=Ze,s=go.transition;go.transition=null;try{Ze=1,hx(t,e,n,r)}finally{Ze=i,go.transition=s}}function V3(t,e,n,r){var i=Ze,s=go.transition;go.transition=null;try{Ze=4,hx(t,e,n,r)}finally{Ze=i,go.transition=s}}function hx(t,e,n,r){if(hh){var i=pg(t,e,n,r);if(i===null)_p(t,e,r,fh,n),kv(t,r);else if(O3(i,t,e,n,r))r.stopPropagation();else if(kv(t,r),e&4&&-1<I3.indexOf(t)){for(;i!==null;){var s=ou(i);if(s!==null&&_2(s),s=pg(t,e,n,r),s===null&&_p(t,e,r,fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _p(t,e,r,null,n)}}var fh=null;function pg(t,e,n,r){if(fh=null,t=lx(r),t=Ds(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function E2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case cx:return 1;case y2:return 4;case uh:case k3:return 16;case x2:return 536870912;default:return 16}default:return 16}}var Ji=null,fx=null,Hd=null;function T2(){if(Hd)return Hd;var t,e=fx,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Hd=i.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ou(){return!0}function jv(){return!1}function Gn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ou:jv,this.isPropagationStopped=jv,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Gn(Yo),au=_t({},Yo,{view:0,detail:0}),H3=Gn(au),hp,fp,_l,lf=_t({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_l&&(_l&&t.type==="mousemove"?(hp=t.screenX-_l.screenX,fp=t.screenY-_l.screenY):fp=hp=0,_l=t),hp)},movementY:function(t){return"movementY"in t?t.movementY:fp}}),Pv=Gn(lf),U3=_t({},lf,{dataTransfer:0}),G3=Gn(U3),W3=_t({},au,{relatedTarget:0}),pp=Gn(W3),$3=_t({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),q3=Gn($3),X3=_t({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y3=Gn(X3),K3=_t({},Yo,{data:0}),Lv=Gn(K3),Q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ej(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J3[t])?!!e[t]:!1}function mx(){return ej}var tj=_t({},au,{key:function(t){if(t.key){var e=Q3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nj=Gn(tj),rj=_t({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rv=Gn(rj),ij=_t({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),sj=Gn(ij),aj=_t({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oj=Gn(aj),lj=_t({},lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cj=Gn(lj),uj=[9,13,27,32],gx=xi&&"CompositionEvent"in window,Ql=null;xi&&"documentMode"in document&&(Ql=document.documentMode);var dj=xi&&"TextEvent"in window&&!Ql,N2=xi&&(!gx||Ql&&8<Ql&&11>=Ql),Dv=" ",Fv=!1;function k2(t,e){switch(t){case"keyup":return uj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function hj(t,e){switch(t){case"compositionend":return A2(e);case"keypress":return e.which!==32?null:(Fv=!0,Dv);case"textInput":return t=e.data,t===Dv&&Fv?null:t;default:return null}}function fj(t,e){if(qa)return t==="compositionend"||!gx&&k2(t,e)?(t=T2(),Hd=fx=Ji=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N2&&e.locale!=="ko"?null:e.data;default:return null}}var pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pj[t.type]:e==="textarea"}function j2(t,e,n,r){l2(r),e=ph(e,"onChange"),0<e.length&&(n=new px("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zl=null,Ec=null;function mj(t){H2(t,0)}function cf(t){var e=Ka(t);if(t2(e))return t}function gj(t,e){if(t==="change")return e}var P2=!1;if(xi){var mp;if(xi){var gp="oninput"in document;if(!gp){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),gp=typeof Ov.oninput=="function"}mp=gp}else mp=!1;P2=mp&&(!document.documentMode||9<document.documentMode)}function Bv(){Zl&&(Zl.detachEvent("onpropertychange",L2),Ec=Zl=null)}function L2(t){if(t.propertyName==="value"&&cf(Ec)){var e=[];j2(e,Ec,t,lx(t)),h2(mj,e)}}function yj(t,e,n){t==="focusin"?(Bv(),Zl=e,Ec=n,Zl.attachEvent("onpropertychange",L2)):t==="focusout"&&Bv()}function xj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cf(Ec)}function vj(t,e){if(t==="click")return cf(e)}function bj(t,e){if(t==="input"||t==="change")return cf(e)}function _j(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:_j;function Tc(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Km.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function zv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vv(t,e){var n=zv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zv(n)}}function R2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D2(){for(var t=window,e=oh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oh(t.document)}return e}function yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wj(t){var e=D2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R2(n.ownerDocument.documentElement,n)){if(r!==null&&yx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Vv(n,s);var a=Vv(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sj=xi&&"documentMode"in document&&11>=document.documentMode,Xa=null,mg=null,Jl=null,gg=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gg||Xa==null||Xa!==oh(r)||(r=Xa,"selectionStart"in r&&yx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jl&&Tc(Jl,r)||(Jl=r,r=ph(mg,"onSelect"),0<r.length&&(e=new px("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ya={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},yp={},F2={};xi&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function uf(t){if(yp[t])return yp[t];if(!Ya[t])return t;var e=Ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F2)return yp[t]=e[n];return t}var I2=uf("animationend"),O2=uf("animationiteration"),B2=uf("animationstart"),z2=uf("transitionend"),V2=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,e){V2.set(t,e),ha(e,[t])}for(var xp=0;xp<Uv.length;xp++){var vp=Uv[xp],Mj=vp.toLowerCase(),Cj=vp[0].toUpperCase()+vp.slice(1);bs(Mj,"on"+Cj)}bs(I2,"onAnimationEnd");bs(O2,"onAnimationIteration");bs(B2,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(z2,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ej=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function Gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,M3(r,e,void 0,t),t.currentTarget=null}function H2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Gv(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Gv(i,o,u),s=c}}}if(ch)throw t=dg,ch=!1,dg=null,t}function ut(t,e){var n=e[_g];n===void 0&&(n=e[_g]=new Set);var r=t+"__bubble";n.has(r)||(U2(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),U2(n,t,r,e)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Nc(t){if(!t[zu]){t[zu]=!0,KS.forEach(function(n){n!=="selectionchange"&&(Ej.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zu]||(e[zu]=!0,bp("selectionchange",!1,e))}}function U2(t,e,n,r){switch(E2(e)){case 1:var i=z3;break;case 4:i=V3;break;default:i=hx}n=i.bind(null,e,n,t),i=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _p(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ds(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}h2(function(){var u=s,d=lx(n),h=[];e:{var f=V2.get(t);if(f!==void 0){var p=px,x=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":p=nj;break;case"focusin":x="focus",p=pp;break;case"focusout":x="blur",p=pp;break;case"beforeblur":case"afterblur":p=pp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=G3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sj;break;case I2:case O2:case B2:p=q3;break;case z2:p=oj;break;case"scroll":p=H3;break;case"wheel":p=cj;break;case"copy":case"cut":case"paste":p=Y3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rv}var y=(e&4)!==0,v=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,b;m!==null;){b=m;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,g!==null&&(S=wc(m,g),S!=null&&y.push(kc(m,S,b)))),v)break;m=m.return}0<y.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==lg&&(x=n.relatedTarget||n.fromElement)&&(Ds(x)||x[vi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Ds(x):null,x!==null&&(v=fa(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(y=Pv,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Rv,S="onPointerLeave",g="onPointerEnter",m="pointer"),v=p==null?f:Ka(p),b=x==null?f:Ka(x),f=new y(S,m+"leave",p,n,d),f.target=v,f.relatedTarget=b,S=null,Ds(d)===u&&(y=new y(g,m+"enter",x,n,d),y.target=b,y.relatedTarget=v,S=y),v=S,p&&x)t:{for(y=p,g=x,m=0,b=y;b;b=ba(b))m++;for(b=0,S=g;S;S=ba(S))b++;for(;0<m-b;)y=ba(y),m--;for(;0<b-m;)g=ba(g),b--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=ba(y),g=ba(g)}y=null}else y=null;p!==null&&Wv(h,f,p,y,!1),x!==null&&v!==null&&Wv(h,v,x,y,!0)}}e:{if(f=u?Ka(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var M=gj;else if(Iv(f))if(P2)M=bj;else{M=xj;var w=yj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=vj);if(M&&(M=M(t,u))){j2(h,M,n,d);break e}w&&w(t,f,u),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&rg(f,"number",f.value)}switch(w=u?Ka(u):window,t){case"focusin":(Iv(w)||w.contentEditable==="true")&&(Xa=w,mg=u,Jl=null);break;case"focusout":Jl=mg=Xa=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,Hv(h,n,d);break;case"selectionchange":if(Sj)break;case"keydown":case"keyup":Hv(h,n,d)}var C;if(gx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qa?k2(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(N2&&n.locale!=="ko"&&(qa||E!=="onCompositionStart"?E==="onCompositionEnd"&&qa&&(C=T2()):(Ji=d,fx="value"in Ji?Ji.value:Ji.textContent,qa=!0)),w=ph(u,E),0<w.length&&(E=new Lv(E,t,null,n,d),h.push({event:E,listeners:w}),C?E.data=C:(C=A2(n),C!==null&&(E.data=C)))),(C=dj?hj(t,n):fj(t,n))&&(u=ph(u,"onBeforeInput"),0<u.length&&(d=new Lv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}H2(h,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wc(t,n),s!=null&&r.unshift(kc(t,s,i)),s=wc(t,e),s!=null&&r.push(kc(t,s,i))),t=t.return}return r}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wv(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=wc(n,s),c!=null&&a.unshift(kc(n,c,o))):i||(c=wc(n,s),c!=null&&a.push(kc(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Tj=/\r\n?/g,Nj=/\u0000|\uFFFD/g;function $v(t){return(typeof t=="string"?t:""+t).replace(Tj,`
`).replace(Nj,"")}function Vu(t,e,n){if(e=$v(e),$v(t)!==e&&n)throw Error(he(425))}function mh(){}var yg=null,xg=null;function vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,kj=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,Aj=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(jj)}:bg;function jj(t){setTimeout(function(){throw t})}function wp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cc(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Ko,Ac="__reactProps$"+Ko,vi="__reactContainer$"+Ko,_g="__reactEvents$"+Ko,Pj="__reactListeners$"+Ko,Lj="__reactHandles$"+Ko;function Ds(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[Ur])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[Ur]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function df(t){return t[Ac]||null}var wg=[],Qa=-1;function _s(t){return{current:t}}function dt(t){0>Qa||(t.current=wg[Qa],wg[Qa]=null,Qa--)}function ot(t,e){Qa++,wg[Qa]=t.current,t.current=e}var ps={},un=_s(ps),An=_s(!1),Js=ps;function Ro(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jn(t){return t=t.childContextTypes,t!=null}function gh(){dt(An),dt(un)}function Yv(t,e,n){if(un.current!==ps)throw Error(he(168));ot(un,e),ot(An,n)}function G2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,y3(t)||"Unknown",i));return _t({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,Js=un.current,ot(un,t),ot(An,An.current),!0}function Kv(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=G2(t,e,Js),r.__reactInternalMemoizedMergedChildContext=t,dt(An),dt(un),ot(un,t)):dt(An),ot(An,n)}var fi=null,hf=!1,Sp=!1;function W2(t){fi===null?fi=[t]:fi.push(t)}function Rj(t){hf=!0,W2(t)}function ws(){if(!Sp&&fi!==null){Sp=!0;var t=0,e=Ze;try{var n=fi;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,hf=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),g2(cx,ws),i}finally{Ze=e,Sp=!1}}return null}var Za=[],Ja=0,xh=null,vh=0,Kn=[],Qn=0,ea=null,mi=1,gi="";function Ps(t,e){Za[Ja++]=vh,Za[Ja++]=xh,xh=t,vh=e}function $2(t,e,n){Kn[Qn++]=mi,Kn[Qn++]=gi,Kn[Qn++]=ea,ea=t;var r=mi;t=gi;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,mi=1<<32-Er(e)+i|n<<i|r,gi=s+t}else mi=1<<s|n<<i|r,gi=t}function xx(t){t.return!==null&&(Ps(t,1),$2(t,1,0))}function vx(t){for(;t===xh;)xh=Za[--Ja],Za[Ja]=null,vh=Za[--Ja],Za[Ja]=null;for(;t===ea;)ea=Kn[--Qn],Kn[Qn]=null,gi=Kn[--Qn],Kn[Qn]=null,mi=Kn[--Qn],Kn[Qn]=null}var zn=null,Bn=null,ft=!1,Mr=null;function q2(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mg(t){if(ft){var e=Bn;if(e){var n=e;if(!Qv(t,e)){if(Sg(t))throw Error(he(418));e=ss(n.nextSibling);var r=zn;e&&Qv(t,e)?q2(r,n):(t.flags=t.flags&-4097|2,ft=!1,zn=t)}}else{if(Sg(t))throw Error(he(418));t.flags=t.flags&-4097|2,ft=!1,zn=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Hu(t){if(t!==zn)return!1;if(!ft)return Zv(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vg(t.type,t.memoizedProps)),e&&(e=Bn)){if(Sg(t))throw X2(),Error(he(418));for(;e;)q2(t,e),e=ss(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?ss(t.stateNode.nextSibling):null;return!0}function X2(){for(var t=Bn;t;)t=ss(t.nextSibling)}function Do(){Bn=zn=null,ft=!1}function bx(t){Mr===null?Mr=[t]:Mr.push(t)}var Dj=Ti.ReactCurrentBatchConfig;function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Uu(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jv(t){var e=t._init;return e(t._payload)}function Y2(t){function e(g,m){if(t){var b=g.deletions;b===null?(g.deletions=[m],g.flags|=16):b.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=cs(g,m),g.index=0,g.sibling=null,g}function s(g,m,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<m?(g.flags|=2,m):b):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,b,S){return m===null||m.tag!==6?(m=Ap(b,g.mode,S),m.return=g,m):(m=i(m,b),m.return=g,m)}function c(g,m,b,S){var M=b.type;return M===$a?d(g,m,b.props.children,S,b.key):m!==null&&(m.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ui&&Jv(M)===m.type)?(S=i(m,b.props),S.ref=wl(g,m,b),S.return=g,S):(S=Kd(b.type,b.key,b.props,null,g.mode,S),S.ref=wl(g,m,b),S.return=g,S)}function u(g,m,b,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=jp(b,g.mode,S),m.return=g,m):(m=i(m,b.children||[]),m.return=g,m)}function d(g,m,b,S,M){return m===null||m.tag!==7?(m=qs(b,g.mode,S,M),m.return=g,m):(m=i(m,b),m.return=g,m)}function h(g,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ap(""+m,g.mode,b),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pu:return b=Kd(m.type,m.key,m.props,null,g.mode,b),b.ref=wl(g,null,m),b.return=g,b;case Wa:return m=jp(m,g.mode,b),m.return=g,m;case Ui:var S=m._init;return h(g,S(m._payload),b)}if(Vl(m)||yl(m))return m=qs(m,g.mode,b,null),m.return=g,m;Uu(g,m)}return null}function f(g,m,b,S){var M=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:o(g,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pu:return b.key===M?c(g,m,b,S):null;case Wa:return b.key===M?u(g,m,b,S):null;case Ui:return M=b._init,f(g,m,M(b._payload),S)}if(Vl(b)||yl(b))return M!==null?null:d(g,m,b,S,null);Uu(g,b)}return null}function p(g,m,b,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(b)||null,o(m,g,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:return g=g.get(S.key===null?b:S.key)||null,c(m,g,S,M);case Wa:return g=g.get(S.key===null?b:S.key)||null,u(m,g,S,M);case Ui:var w=S._init;return p(g,m,b,w(S._payload),M)}if(Vl(S)||yl(S))return g=g.get(b)||null,d(m,g,S,M,null);Uu(m,S)}return null}function x(g,m,b,S){for(var M=null,w=null,C=m,E=m=0,N=null;C!==null&&E<b.length;E++){C.index>E?(N=C,C=null):N=C.sibling;var L=f(g,C,b[E],S);if(L===null){C===null&&(C=N);break}t&&C&&L.alternate===null&&e(g,C),m=s(L,m,E),w===null?M=L:w.sibling=L,w=L,C=N}if(E===b.length)return n(g,C),ft&&Ps(g,E),M;if(C===null){for(;E<b.length;E++)C=h(g,b[E],S),C!==null&&(m=s(C,m,E),w===null?M=C:w.sibling=C,w=C);return ft&&Ps(g,E),M}for(C=r(g,C);E<b.length;E++)N=p(C,g,E,b[E],S),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?E:N.key),m=s(N,m,E),w===null?M=N:w.sibling=N,w=N);return t&&C.forEach(function(F){return e(g,F)}),ft&&Ps(g,E),M}function y(g,m,b,S){var M=yl(b);if(typeof M!="function")throw Error(he(150));if(b=M.call(b),b==null)throw Error(he(151));for(var w=M=null,C=m,E=m=0,N=null,L=b.next();C!==null&&!L.done;E++,L=b.next()){C.index>E?(N=C,C=null):N=C.sibling;var F=f(g,C,L.value,S);if(F===null){C===null&&(C=N);break}t&&C&&F.alternate===null&&e(g,C),m=s(F,m,E),w===null?M=F:w.sibling=F,w=F,C=N}if(L.done)return n(g,C),ft&&Ps(g,E),M;if(C===null){for(;!L.done;E++,L=b.next())L=h(g,L.value,S),L!==null&&(m=s(L,m,E),w===null?M=L:w.sibling=L,w=L);return ft&&Ps(g,E),M}for(C=r(g,C);!L.done;E++,L=b.next())L=p(C,g,E,L.value,S),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?E:L.key),m=s(L,m,E),w===null?M=L:w.sibling=L,w=L);return t&&C.forEach(function(D){return e(g,D)}),ft&&Ps(g,E),M}function v(g,m,b,S){if(typeof b=="object"&&b!==null&&b.type===$a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pu:e:{for(var M=b.key,w=m;w!==null;){if(w.key===M){if(M=b.type,M===$a){if(w.tag===7){n(g,w.sibling),m=i(w,b.props.children),m.return=g,g=m;break e}}else if(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ui&&Jv(M)===w.type){n(g,w.sibling),m=i(w,b.props),m.ref=wl(g,w,b),m.return=g,g=m;break e}n(g,w);break}else e(g,w);w=w.sibling}b.type===$a?(m=qs(b.props.children,g.mode,S,b.key),m.return=g,g=m):(S=Kd(b.type,b.key,b.props,null,g.mode,S),S.ref=wl(g,m,b),S.return=g,g=S)}return a(g);case Wa:e:{for(w=b.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(g,m.sibling),m=i(m,b.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=jp(b,g.mode,S),m.return=g,g=m}return a(g);case Ui:return w=b._init,v(g,m,w(b._payload),S)}if(Vl(b))return x(g,m,b,S);if(yl(b))return y(g,m,b,S);Uu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,b),m.return=g,g=m):(n(g,m),m=Ap(b,g.mode,S),m.return=g,g=m),a(g)):n(g,m)}return v}var Fo=Y2(!0),K2=Y2(!1),bh=_s(null),_h=null,eo=null,_x=null;function wx(){_x=eo=_h=null}function Sx(t){var e=bh.current;dt(bh),t._currentValue=e}function Cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){_h=t,_x=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(_x!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(_h===null)throw Error(he(308));eo=t,_h.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var Fs=null;function Mx(t){Fs===null?Fs=[t]:Fs.push(t)}function Q2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mx(e)):(n.next=i.next,i.next=n),e.interleaved=n,bi(t,r)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Cx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bi(t,n)}return i=r.interleaved,i===null?(e.next=e,Mx(r)):(e.next=i.next,i.next=e),r.interleaved=e,bi(t,n)}function Gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ux(t,n)}}function eb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wh(t,e,n,r){var i=t.updateQueue;Gi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,y=o;switch(f=e,p=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=_t({},h,f);break e;case 2:Gi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);na|=a,t.lanes=a,t.memoizedState=h}}function tb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var lu={},Xr=_s(lu),jc=_s(lu),Pc=_s(lu);function Is(t){if(t===lu)throw Error(he(174));return t}function Ex(t,e){switch(ot(Pc,e),ot(jc,t),ot(Xr,lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sg(e,t)}dt(Xr),ot(Xr,e)}function Io(){dt(Xr),dt(jc),dt(Pc)}function J2(t){Is(Pc.current);var e=Is(Xr.current),n=sg(e,t.type);e!==n&&(ot(jc,t),ot(Xr,n))}function Tx(t){jc.current===t&&(dt(Xr),dt(jc))}var yt=_s(0);function Sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function Nx(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var Wd=Ti.ReactCurrentDispatcher,Cp=Ti.ReactCurrentBatchConfig,ta=0,bt=null,Ft=null,Ht=null,Mh=!1,ec=!1,Lc=0,Fj=0;function sn(){throw Error(he(321))}function kx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function Ax(t,e,n,r,i,s){if(ta=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?zj:Vj,t=n(r,i),ec){s=0;do{if(ec=!1,Lc=0,25<=s)throw Error(he(301));s+=1,Ht=Ft=null,e.updateQueue=null,Wd.current=Hj,t=n(r,i)}while(ec)}if(Wd.current=Ch,e=Ft!==null&&Ft.next!==null,ta=0,Ht=Ft=bt=null,Mh=!1,e)throw Error(he(300));return t}function jx(){var t=Lc!==0;return Lc=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?bt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function ir(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Ht===null?bt.memoizedState:Ht.next;if(e!==null)Ht=e,Ft=t;else{if(t===null)throw Error(he(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?bt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Rc(t,e){return typeof e=="function"?e(t):e}function Ep(t){var e=ir(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((ta&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,bt.lanes|=d,na|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,kr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,na|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tp(t){var e=ir(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);kr(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eM(){}function tM(t,e){var n=bt,r=ir(),i=e(),s=!kr(r.memoizedState,i);if(s&&(r.memoizedState=i,Nn=!0),r=r.queue,Px(iM.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Dc(9,rM.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(he(349));ta&30||nM(n,e,i)}return i}function nM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rM(t,e,n,r){e.value=n,e.getSnapshot=r,sM(e)&&aM(t)}function iM(t,e,n){return n(function(){sM(e)&&aM(t)})}function sM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function aM(t){var e=bi(t,1);e!==null&&Tr(e,t,1,-1)}function nb(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:t},e.queue=t,t=t.dispatch=Bj.bind(null,bt,t),[e.memoizedState,t]}function Dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oM(){return ir().memoizedState}function $d(t,e,n,r){var i=Ir();bt.flags|=t,i.memoizedState=Dc(1|e,n,void 0,r===void 0?null:r)}function ff(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var a=Ft.memoizedState;if(s=a.destroy,r!==null&&kx(r,a.deps)){i.memoizedState=Dc(e,n,s,r);return}}bt.flags|=t,i.memoizedState=Dc(1|e,n,s,r)}function rb(t,e){return $d(8390656,8,t,e)}function Px(t,e){return ff(2048,8,t,e)}function lM(t,e){return ff(4,2,t,e)}function cM(t,e){return ff(4,4,t,e)}function uM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dM(t,e,n){return n=n!=null?n.concat([t]):null,ff(4,4,uM.bind(null,e,t),n)}function Lx(){}function hM(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fM(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pM(t,e,n){return ta&21?(kr(n,e)||(n=v2(),bt.lanes|=n,na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function Ij(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=Cp.transition;Cp.transition={};try{t(!1),e()}finally{Ze=n,Cp.transition=r}}function mM(){return ir().memoizedState}function Oj(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gM(t))yM(e,n);else if(n=Q2(t,e,n,r),n!==null){var i=vn();Tr(n,t,r,i),xM(n,e,r)}}function Bj(t,e,n){var r=ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gM(t))yM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,kr(o,a)){var c=e.interleaved;c===null?(i.next=i,Mx(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Q2(t,e,i,r),n!==null&&(i=vn(),Tr(n,t,r,i),xM(n,e,r))}}function gM(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function yM(t,e){ec=Mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ux(t,n)}}var Ch={readContext:rr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},zj={readContext:rr,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,uM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oj.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:nb,useDebugValue:Lx,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=nb(!1),e=t[0];return t=Ij.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=Ir();if(ft){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Wt===null)throw Error(he(349));ta&30||nM(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rb(iM.bind(null,r,s,t),[t]),r.flags|=2048,Dc(9,rM.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ir(),e=Wt.identifierPrefix;if(ft){var n=gi,r=mi;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vj={readContext:rr,useCallback:hM,useContext:rr,useEffect:Px,useImperativeHandle:dM,useInsertionEffect:lM,useLayoutEffect:cM,useMemo:fM,useReducer:Ep,useRef:oM,useState:function(){return Ep(Rc)},useDebugValue:Lx,useDeferredValue:function(t){var e=ir();return pM(e,Ft.memoizedState,t)},useTransition:function(){var t=Ep(Rc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:eM,useSyncExternalStore:tM,useId:mM,unstable_isNewReconciler:!1},Hj={readContext:rr,useCallback:hM,useContext:rr,useEffect:Px,useImperativeHandle:dM,useInsertionEffect:lM,useLayoutEffect:cM,useMemo:fM,useReducer:Tp,useRef:oM,useState:function(){return Tp(Rc)},useDebugValue:Lx,useDeferredValue:function(t){var e=ir();return Ft===null?e.memoizedState=t:pM(e,Ft.memoizedState,t)},useTransition:function(){var t=Tp(Rc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:eM,useSyncExternalStore:tM,useId:mM,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Eg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pf={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=ls(t),s=yi(r,i);s.payload=e,n!=null&&(s.callback=n),e=as(t,s,i),e!==null&&(Tr(e,t,i,r),Gd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=ls(t),s=yi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=as(t,s,i),e!==null&&(Tr(e,t,i,r),Gd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=ls(t),i=yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=as(t,i,r),e!==null&&(Tr(e,t,r,n),Gd(e,t,r))}};function ib(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tc(n,r)||!Tc(i,s):!0}function vM(t,e,n){var r=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=jn(e)?Js:un.current,r=e.contextTypes,s=(r=r!=null)?Ro(t,i):ps),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pf.enqueueReplaceState(e,e.state,null)}function Tg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=jn(e)?Js:un.current,i.context=Ro(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Eg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pf.enqueueReplaceState(i,i.state,null),wh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e){try{var n="",r=e;do n+=g3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ng(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function bM(t,e,n){n=yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,Og=r),Ng(t,e)},n}function _M(t,e,n){n=yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ng(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ng(t,e),typeof r!="function"&&(os===null?os=new Set([this]):os.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rP.bind(null,t,e,n),e.then(t,t))}function ob(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yi(-1,1),e.tag=2,as(n,e,1))),n.lanes|=1),t)}var Gj=Ti.ReactCurrentOwner,Nn=!1;function mn(t,e,n,r){e.child=t===null?K2(e,null,n,r):Fo(e,t.child,n,r)}function cb(t,e,n,r,i){n=n.render;var s=e.ref;return yo(e,i),r=Ax(t,e,n,r,s,i),n=jx(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ft&&n&&xx(e),e.flags|=1,mn(t,e,r,i),e.child)}function ub(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wM(t,e,s,r,i)):(t=Kd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tc,n(a,r)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function wM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tc(s,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,_i(t,e,i)}return kg(t,e,n,r,i)}function SM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(no,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(no,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ot(no,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ot(no,Fn),Fn|=r;return mn(t,e,i,n),e.child}function MM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,i){var s=jn(n)?Js:un.current;return s=Ro(e,s),yo(e,i),n=Ax(t,e,n,r,s,i),r=jx(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(ft&&r&&xx(e),e.flags|=1,mn(t,e,n,i),e.child)}function db(t,e,n,r,i){if(jn(n)){var s=!0;yh(e)}else s=!1;if(yo(e,i),e.stateNode===null)qd(t,e),vM(e,n,r),Tg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=jn(n)?Js:un.current,u=Ro(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&sb(e,a,r,u),Gi=!1;var f=e.memoizedState;a.state=f,wh(e,r,a,i),c=e.memoizedState,o!==r||f!==c||An.current||Gi?(typeof d=="function"&&(Eg(e,n,d,r),c=e.memoizedState),(o=Gi||ib(e,n,o,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Z2(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:vr(e.type,o),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=rr(c):(c=jn(n)?Js:un.current,c=Ro(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&sb(e,a,r,c),Gi=!1,f=e.memoizedState,a.state=f,wh(e,r,a,i);var x=e.memoizedState;o!==h||f!==x||An.current||Gi?(typeof p=="function"&&(Eg(e,n,p,r),x=e.memoizedState),(u=Gi||ib(e,n,u,r,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,s,i)}function Ag(t,e,n,r,i,s){MM(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Kv(e,n,!1),_i(t,e,s);r=e.stateNode,Gj.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,o,s)):mn(t,e,o,s),e.memoizedState=r.state,i&&Kv(e,n,!0),e.child}function CM(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),Ex(t,e.containerInfo)}function hb(t,e,n,r,i){return Do(),bx(i),e.flags|=256,mn(t,e,n,r),e.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function Pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function EM(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(yt,i&1),t===null)return Mg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=yf(a,r,0,null),t=qs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pg(n),e.memoizedState=jg,t):Rx(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Wj(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=cs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=cs(o,s):(s=qs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Pg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=jg,r}return s=t.child,t=s.sibling,r=cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rx(t,e){return e=yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gu(t,e,n,r){return r!==null&&bx(r),Fo(e,t.child,null,n),t=Rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wj(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Np(Error(he(422))),Gu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yf({mode:"visible",children:r.children},i,0,null),s=qs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,a),e.child.memoizedState=Pg(a),e.memoizedState=jg,s);if(!(e.mode&1))return Gu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(he(419)),r=Np(s,r,void 0),Gu(t,e,a,r)}if(o=(a&t.childLanes)!==0,Nn||o){if(r=Wt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bi(t,i),Tr(r,t,i,-1))}return zx(),r=Np(Error(he(421))),Gu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=ss(i.nextSibling),zn=e,ft=!0,Mr=null,t!==null&&(Kn[Qn++]=mi,Kn[Qn++]=gi,Kn[Qn++]=ea,mi=t.id,gi=t.overflow,ea=e),e=Rx(e,r.children),e.flags|=4096,e)}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cg(t.return,e,n)}function kp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kp(e,!0,n,null,s);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $j(t,e,n){switch(e.tag){case 3:CM(e),Do();break;case 5:J2(e);break;case 1:jn(e.type)&&yh(e);break;case 4:Ex(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot(bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?EM(t,e,n):(ot(yt,yt.current&1),t=_i(t,e,n),t!==null?t.sibling:null);ot(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,SM(t,e,n)}return _i(t,e,n)}var NM,Lg,kM,AM;NM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lg=function(){};kM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Is(Xr.current);var s=null;switch(n){case"input":i=tg(t,i),r=tg(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=ig(t,i),r=ig(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}ag(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",t),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};AM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qj(t,e,n){var r=e.pendingProps;switch(vx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return jn(e.type)&&gh(),an(e),null;case 3:return r=e.stateNode,Io(),dt(An),dt(un),Nx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(Vg(Mr),Mr=null))),Lg(t,e),an(e),null;case 5:Tx(e);var i=Is(Pc.current);if(n=e.type,t!==null&&e.stateNode!=null)kM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return an(e),null}if(t=Is(Xr.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ur]=e,r[Ac]=s,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)ut(Ul[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":wv(r,s),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ut("invalid",r);break;case"textarea":Mv(r,s),ut("invalid",r)}ag(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Vu(r.textContent,o,t),i=["children",""+o]):bc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",r)}switch(n){case"input":Lu(r),Sv(r,s,!0);break;case"textarea":Lu(r),Cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=i2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ur]=e,t[Ac]=r,NM(t,e,!1,!1),e.stateNode=t;e:{switch(a=og(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)ut(Ul[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":wv(t,r),i=tg(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),ut("invalid",t);break;case"textarea":Mv(t,r),i=ig(t,r),ut("invalid",t);break;default:i=r}ag(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?o2(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s2(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_c(t,c):typeof c=="number"&&_c(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ut("scroll",t):c!=null&&ix(t,s,c,a))}switch(n){case"input":Lu(t),Sv(t,r,!1);break;case"textarea":Lu(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)AM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Is(Pc.current),Is(Xr.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(s=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Vu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return an(e),null;case 13:if(dt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Bn!==null&&e.mode&1&&!(e.flags&128))X2(),Do(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[Ur]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),s=!1}else Mr!==null&&(Vg(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ot===0&&(Ot=3):zx())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Io(),Lg(t,e),t===null&&Nc(e.stateNode.containerInfo),an(e),null;case 10:return Sx(e.type._context),an(e),null;case 17:return jn(e.type)&&gh(),an(e),null;case 19:if(dt(yt),s=e.memoizedState,s===null)return an(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sl(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sh(t),a!==null){for(e.flags|=128,Sl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&kt()>Bo&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ft)return an(e),null}else 2*kt()-s.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,n=yt.current,ot(yt,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Bx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function Xj(t,e){switch(vx(e),e.tag){case 1:return jn(e.type)&&gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),dt(An),dt(un),Nx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tx(e),null;case 13:if(dt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Io(),null;case 10:return Sx(e.type._context),null;case 22:case 23:return Bx(),null;case 24:return null;default:return null}}var Wu=!1,cn=!1,Yj=typeof WeakSet=="function"?WeakSet:Set,Se=null;function to(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Rg(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var pb=!1;function Kj(t,e){if(yg=hh,t=D2(),yx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xg={focusedElem:t,selectionRange:n},hh=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,v=x.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:vr(e.type,y),v);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(S){Mt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return x=pb,pb=!1,x}function tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rg(e,n,s)}i=i.next}while(i!==r)}}function mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jM(t){var e=t.alternate;e!==null&&(t.alternate=null,jM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[Ac],delete e[_g],delete e[Pj],delete e[Lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PM(t){return t.tag===5||t.tag===3||t.tag===4}function mb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}var Yt=null,Sr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)LM(t,e,n),n=n.sibling}function LM(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(of,n)}catch{}switch(n.tag){case 5:cn||to(n,e);case 6:var r=Yt,i=Sr;Yt=null,Ni(t,e,n),Yt=r,Sr=i,Yt!==null&&(Sr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Sr?(t=Yt,n=n.stateNode,t.nodeType===8?wp(t.parentNode,n):t.nodeType===1&&wp(t,n),Cc(t)):wp(Yt,n.stateNode));break;case 4:r=Yt,i=Sr,Yt=n.stateNode.containerInfo,Sr=!0,Ni(t,e,n),Yt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Rg(n,e,a),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!cn&&(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Mt(n,e,o)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Ni(t,e,n),cn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function gb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yj),e.forEach(function(r){var i=sP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yt=o.stateNode,Sr=!1;break e;case 3:Yt=o.stateNode.containerInfo,Sr=!0;break e;case 4:Yt=o.stateNode.containerInfo,Sr=!0;break e}o=o.return}if(Yt===null)throw Error(he(160));LM(s,a,i),Yt=null,Sr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Mt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RM(e,t),e=e.sibling}function RM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Dr(t),r&4){try{tc(3,t,t.return),mf(3,t)}catch(y){Mt(t,t.return,y)}try{tc(5,t,t.return)}catch(y){Mt(t,t.return,y)}}break;case 1:ur(e,t),Dr(t),r&512&&n!==null&&to(n,n.return);break;case 5:if(ur(e,t),Dr(t),r&512&&n!==null&&to(n,n.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(y){Mt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&n2(i,s),og(o,a);var u=og(o,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?o2(i,h):d==="dangerouslySetInnerHTML"?s2(i,h):d==="children"?_c(i,h):ix(i,d,h,u)}switch(o){case"input":ng(i,s);break;case"textarea":r2(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?fo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ac]=s}catch(y){Mt(t,t.return,y)}}break;case 6:if(ur(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Mt(t,t.return,y)}}break;case 3:if(ur(e,t),Dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cc(e.containerInfo)}catch(y){Mt(t,t.return,y)}break;case 4:ur(e,t),Dr(t);break;case 13:ur(e,t),Dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ix=kt())),r&4&&gb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(u=cn)||d,ur(e,t),cn=u):ur(e,t),Dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(h=Se=d;Se!==null;){switch(f=Se,p=f.child,f.tag){case 0:case 11:case 14:case 15:tc(4,f,f.return);break;case 1:to(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Mt(r,n,y)}}break;case 5:to(f,f.return);break;case 22:if(f.memoizedState!==null){xb(h);continue}}p!==null?(p.return=f,Se=p):xb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=a2("display",a))}catch(y){Mt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Mt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(e,t),Dr(t),r&4&&gb(t);break;case 21:break;default:ur(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PM(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_c(i,""),r.flags&=-33);var s=mb(t);Ig(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=mb(t);Fg(t,o,a);break;default:throw Error(he(161))}}catch(c){Mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qj(t,e,n){Se=t,DM(t)}function DM(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Wu;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||cn;o=Wu;var u=cn;if(Wu=a,(cn=c)&&!u)for(Se=i;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?vb(i):c!==null?(c.return=a,Se=c):vb(i);for(;s!==null;)Se=s,DM(s),s=s.sibling;Se=i,Wu=o,cn=u}yb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):yb(t)}}function yb(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tb(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tb(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cn||e.flags&512&&Dg(e)}catch(f){Mt(e,e.return,f)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function xb(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function vb(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mf(4,e)}catch(c){Mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Mt(e,i,c)}}var s=e.return;try{Dg(e)}catch(c){Mt(e,s,c)}break;case 5:var a=e.return;try{Dg(e)}catch(c){Mt(e,a,c)}}}catch(c){Mt(e,e.return,c)}if(e===t){Se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Se=o;break}Se=e.return}}var Zj=Math.ceil,Eh=Ti.ReactCurrentDispatcher,Dx=Ti.ReactCurrentOwner,tr=Ti.ReactCurrentBatchConfig,Ge=0,Wt=null,Pt=null,Jt=0,Fn=0,no=_s(0),Ot=0,Fc=null,na=0,gf=0,Fx=0,nc=null,En=null,Ix=0,Bo=1/0,hi=null,Th=!1,Og=null,os=null,$u=!1,es=null,Nh=0,rc=0,Bg=null,Xd=-1,Yd=0;function vn(){return Ge&6?kt():Xd!==-1?Xd:Xd=kt()}function ls(t){return t.mode&1?Ge&2&&Jt!==0?Jt&-Jt:Dj.transition!==null?(Yd===0&&(Yd=v2()),Yd):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:E2(t.type)),t):1}function Tr(t,e,n,r){if(50<rc)throw rc=0,Bg=null,Error(he(185));su(t,n,r),(!(Ge&2)||t!==Wt)&&(t===Wt&&(!(Ge&2)&&(gf|=n),Ot===4&&$i(t,Jt)),Pn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Bo=kt()+500,hf&&ws()))}function Pn(t,e){var n=t.callbackNode;D3(t,e);var r=dh(t,t===Wt?Jt:0);if(r===0)n!==null&&Nv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nv(n),e===1)t.tag===0?Rj(bb.bind(null,t)):W2(bb.bind(null,t)),Aj(function(){!(Ge&6)&&ws()}),n=null;else{switch(b2(r)){case 1:n=cx;break;case 4:n=y2;break;case 16:n=uh;break;case 536870912:n=x2;break;default:n=uh}n=UM(n,FM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FM(t,e){if(Xd=-1,Yd=0,Ge&6)throw Error(he(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=dh(t,t===Wt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kh(t,r);else{e=r;var i=Ge;Ge|=2;var s=OM();(Wt!==t||Jt!==e)&&(hi=null,Bo=kt()+500,$s(t,e));do try{tP();break}catch(o){IM(t,o)}while(!0);wx(),Eh.current=s,Ge=i,Pt!==null?e=0:(Wt=null,Jt=0,e=Ot)}if(e!==0){if(e===2&&(i=hg(t),i!==0&&(r=i,e=zg(t,i))),e===1)throw n=Fc,$s(t,0),$i(t,r),Pn(t,kt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!Jj(i)&&(e=kh(t,r),e===2&&(s=hg(t),s!==0&&(r=s,e=zg(t,s))),e===1))throw n=Fc,$s(t,0),$i(t,r),Pn(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:Ls(t,En,hi);break;case 3:if($i(t,r),(r&130023424)===r&&(e=Ix+500-kt(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bg(Ls.bind(null,t,En,hi),e);break}Ls(t,En,hi);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Er(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zj(r/1960))-r,10<r){t.timeoutHandle=bg(Ls.bind(null,t,En,hi),r);break}Ls(t,En,hi);break;case 5:Ls(t,En,hi);break;default:throw Error(he(329))}}}return Pn(t,kt()),t.callbackNode===n?FM.bind(null,t):null}function zg(t,e){var n=nc;return t.current.memoizedState.isDehydrated&&($s(t,e).flags|=256),t=kh(t,e),t!==2&&(e=En,En=n,e!==null&&Vg(e)),t}function Vg(t){En===null?En=t:En.push.apply(En,t)}function Jj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~Fx,e&=~gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function bb(t){if(Ge&6)throw Error(he(327));xo();var e=dh(t,0);if(!(e&1))return Pn(t,kt()),null;var n=kh(t,e);if(t.tag!==0&&n===2){var r=hg(t);r!==0&&(e=r,n=zg(t,r))}if(n===1)throw n=Fc,$s(t,0),$i(t,e),Pn(t,kt()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ls(t,En,hi),Pn(t,kt()),null}function Ox(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Bo=kt()+500,hf&&ws())}}function ra(t){es!==null&&es.tag===0&&!(Ge&6)&&xo();var e=Ge;Ge|=1;var n=tr.transition,r=Ze;try{if(tr.transition=null,Ze=1,t)return t()}finally{Ze=r,tr.transition=n,Ge=e,!(Ge&6)&&ws()}}function Bx(){Fn=no.current,dt(no)}function $s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kj(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(vx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:Io(),dt(An),dt(un),Nx();break;case 5:Tx(r);break;case 4:Io();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Sx(r.type._context);break;case 22:case 23:Bx()}n=n.return}if(Wt=t,Pt=t=cs(t.current,null),Jt=Fn=e,Ot=0,Fc=null,Fx=gf=na=0,En=nc=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Fs=null}return t}function IM(t,e){do{var n=Pt;try{if(wx(),Wd.current=Ch,Mh){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mh=!1}if(ta=0,Ht=Ft=bt=null,ec=!1,Lc=0,Dx.current=null,n===null||n.return===null){Ot=1,Fc=e,Pt=null;break}e:{var s=t,a=n.return,o=n,c=e;if(e=Jt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ob(a);if(p!==null){p.flags&=-257,lb(p,a,o,s,e),p.mode&1&&ab(s,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){ab(s,u,e),zx();break e}c=Error(he(426))}}else if(ft&&o.mode&1){var v=ob(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lb(v,a,o,s,e),bx(Oo(c,o));break e}}s=c=Oo(c,o),Ot!==4&&(Ot=2),nc===null?nc=[s]:nc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=bM(s,c,e);eb(s,g);break e;case 1:o=c;var m=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(os===null||!os.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=_M(s,o,e);eb(s,S);break e}}s=s.return}while(s!==null)}zM(n)}catch(M){e=M,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function OM(){var t=Eh.current;return Eh.current=Ch,t===null?Ch:t}function zx(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Wt===null||!(na&268435455)&&!(gf&268435455)||$i(Wt,Jt)}function kh(t,e){var n=Ge;Ge|=2;var r=OM();(Wt!==t||Jt!==e)&&(hi=null,$s(t,e));do try{eP();break}catch(i){IM(t,i)}while(!0);if(wx(),Ge=n,Eh.current=r,Pt!==null)throw Error(he(261));return Wt=null,Jt=0,Ot}function eP(){for(;Pt!==null;)BM(Pt)}function tP(){for(;Pt!==null&&!E3();)BM(Pt)}function BM(t){var e=HM(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?zM(t):Pt=e,Dx.current=null}function zM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xj(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=qj(n,e,Fn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function Ls(t,e,n){var r=Ze,i=tr.transition;try{tr.transition=null,Ze=1,nP(t,e,n,r)}finally{tr.transition=i,Ze=r}return null}function nP(t,e,n,r){do xo();while(es!==null);if(Ge&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(F3(t,s),t===Wt&&(Pt=Wt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,UM(uh,function(){return xo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var a=Ze;Ze=1;var o=Ge;Ge|=4,Dx.current=null,Kj(t,n),RM(n,t),wj(xg),hh=!!yg,xg=yg=null,t.current=n,Qj(n),T3(),Ge=o,Ze=a,tr.transition=s}else t.current=n;if($u&&($u=!1,es=t,Nh=i),s=t.pendingLanes,s===0&&(os=null),A3(n.stateNode),Pn(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=Og,Og=null,t;return Nh&1&&t.tag!==0&&xo(),s=t.pendingLanes,s&1?t===Bg?rc++:(rc=0,Bg=t):rc=0,ws(),null}function xo(){if(es!==null){var t=b2(Nh),e=tr.transition,n=Ze;try{if(tr.transition=null,Ze=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,Nh=0,Ge&6)throw Error(he(331));var i=Ge;for(Ge|=4,Se=t.current;Se!==null;){var s=Se,a=s.child;if(Se.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Se=u;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:tc(8,d,s)}var h=d.child;if(h!==null)h.return=d,Se=h;else for(;Se!==null;){d=Se;var f=d.sibling,p=d.return;if(jM(d),d===u){Se=null;break}if(f!==null){f.return=p,Se=f;break}Se=p}}}var x=s.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Se=a;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Se=g;break e}Se=s.return}}var m=t.current;for(Se=m;Se!==null;){a=Se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Se=b;else e:for(a=m;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:mf(9,o)}}catch(M){Mt(o,o.return,M)}if(o===a){Se=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Se=S;break e}Se=o.return}}if(Ge=i,ws(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(of,t)}catch{}r=!0}return r}finally{Ze=n,tr.transition=e}}return!1}function _b(t,e,n){e=Oo(n,e),e=bM(t,e,1),t=as(t,e,1),e=vn(),t!==null&&(su(t,1,e),Pn(t,e))}function Mt(t,e,n){if(t.tag===3)_b(t,t,n);else for(;e!==null;){if(e.tag===3){_b(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=Oo(n,t),t=_M(e,t,1),e=as(e,t,1),t=vn(),e!==null&&(su(e,1,t),Pn(e,t));break}}e=e.return}}function rP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Jt&n)===n&&(Ot===4||Ot===3&&(Jt&130023424)===Jt&&500>kt()-Ix?$s(t,0):Fx|=n),Pn(t,e)}function VM(t,e){e===0&&(t.mode&1?(e=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):e=1);var n=vn();t=bi(t,e),t!==null&&(su(t,e,n),Pn(t,n))}function iP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VM(t,n)}function sP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),VM(t,n)}var HM;HM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,$j(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,ft&&e.flags&1048576&&$2(e,vh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qd(t,e),t=e.pendingProps;var i=Ro(e,un.current);yo(e,n),i=Ax(null,e,r,t,i,n);var s=jx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cx(e),i.updater=pf,e.stateNode=i,i._reactInternals=e,Tg(e,r,t,n),e=Ag(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&xx(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oP(r),t=vr(r,t),i){case 0:e=kg(null,e,r,t,n);break e;case 1:e=db(null,e,r,t,n);break e;case 11:e=cb(null,e,r,t,n);break e;case 14:e=ub(null,e,r,vr(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),db(t,e,r,i,n);case 3:e:{if(CM(e),t===null)throw Error(he(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Z2(t,e),wh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oo(Error(he(423)),e),e=hb(t,e,r,n,i);break e}else if(r!==i){i=Oo(Error(he(424)),e),e=hb(t,e,r,n,i);break e}else for(Bn=ss(e.stateNode.containerInfo.firstChild),zn=e,ft=!0,Mr=null,n=K2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=_i(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return J2(e),t===null&&Mg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,vg(r,i)?a=null:s!==null&&vg(r,s)&&(e.flags|=32),MM(t,e),mn(t,e,a,n),e.child;case 6:return t===null&&Mg(e),null;case 13:return EM(t,e,n);case 4:return Ex(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),cb(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ot(bh,r._currentValue),r._currentValue=a,s!==null)if(kr(s.value,a)){if(s.children===i.children&&!An.current){e=_i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=yi(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Cg(s.return,n,e),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(he(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Cg(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=rr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),ub(t,e,r,i,n);case 15:return wM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),qd(t,e),e.tag=1,jn(r)?(t=!0,yh(e)):t=!1,yo(e,n),vM(e,r,i),Tg(e,r,i,n),Ag(null,e,r,!0,t,n);case 19:return TM(t,e,n);case 22:return SM(t,e,n)}throw Error(he(156,e.tag))};function UM(t,e){return g2(t,e)}function aP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new aP(t,e,n,r)}function Vx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oP(t){if(typeof t=="function")return Vx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ax)return 11;if(t===ox)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Vx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $a:return qs(n.children,i,s,e);case sx:a=8,i|=8;break;case Qm:return t=Zn(12,n,e,i|2),t.elementType=Qm,t.lanes=s,t;case Zm:return t=Zn(13,n,e,i),t.elementType=Zm,t.lanes=s,t;case Jm:return t=Zn(19,n,e,i),t.elementType=Jm,t.lanes=s,t;case JS:return yf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QS:a=10;break e;case ZS:a=9;break e;case ax:a=11;break e;case ox:a=14;break e;case Ui:a=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Zn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qs(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function yf(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=JS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ap(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dp(0),this.expirationTimes=dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hx(t,e,n,r,i,s,a,o,c){return t=new lP(t,e,n,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cx(s),t}function cP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GM(t){if(!t)return ps;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(jn(n))return G2(t,n,e)}return e}function WM(t,e,n,r,i,s,a,o,c){return t=Hx(n,r,!0,t,i,s,a,o,c),t.context=GM(null),n=t.current,r=vn(),i=ls(n),s=yi(r,i),s.callback=e??null,as(n,s,i),t.current.lanes=i,su(t,i,r),Pn(t,r),t}function xf(t,e,n,r){var i=e.current,s=vn(),a=ls(i);return n=GM(n),e.context===null?e.context=n:e.pendingContext=n,e=yi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=as(i,e,a),t!==null&&(Tr(t,i,a,s),Gd(t,i,a)),a}function Ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ux(t,e){wb(t,e),(t=t.alternate)&&wb(t,e)}function uP(){return null}var $M=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gx(t){this._internalRoot=t}vf.prototype.render=Gx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));xf(t,e,null,null)};vf.prototype.unmount=Gx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){xf(null,t,null,null)}),e[vi]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wi.length&&e!==0&&e<Wi[n].priority;n++);Wi.splice(n,0,t),n===0&&C2(t)}};function Wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sb(){}function dP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ah(a);s.call(u)}}var a=WM(e,r,t,0,null,!1,!1,"",Sb);return t._reactRootContainer=a,t[vi]=a.current,Nc(t.nodeType===8?t.parentNode:t),ra(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Ah(c);o.call(u)}}var c=Hx(t,0,!1,null,null,!1,!1,"",Sb);return t._reactRootContainer=c,t[vi]=c.current,Nc(t.nodeType===8?t.parentNode:t),ra(function(){xf(e,c,n,r)}),c}function _f(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Ah(a);o.call(c)}}xf(e,a,t,i)}else a=dP(n,e,t,i,r);return Ah(a)}_2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(ux(e,n|1),Pn(e,kt()),!(Ge&6)&&(Bo=kt()+500,ws()))}break;case 13:ra(function(){var r=bi(t,1);if(r!==null){var i=vn();Tr(r,t,1,i)}}),Ux(t,1)}};dx=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=vn();Tr(e,t,134217728,n)}Ux(t,134217728)}};w2=function(t){if(t.tag===13){var e=ls(t),n=bi(t,e);if(n!==null){var r=vn();Tr(n,t,e,r)}Ux(t,e)}};S2=function(){return Ze};M2=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};cg=function(t,e,n){switch(e){case"input":if(ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=df(r);if(!i)throw Error(he(90));t2(r),ng(r,i)}}}break;case"textarea":r2(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};u2=Ox;d2=ra;var hP={usingClientEntryPoint:!1,Events:[ou,Ka,df,l2,c2,Ox]},Ml={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fP={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p2(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||uP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{of=qu.inject(fP),qr=qu}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wx(e))throw Error(he(200));return cP(t,e,null,n)};Un.createRoot=function(t,e){if(!Wx(t))throw Error(he(299));var n=!1,r="",i=$M;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hx(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,Nc(t.nodeType===8?t.parentNode:t),new Gx(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=p2(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ra(t)};Un.hydrate=function(t,e,n){if(!bf(e))throw Error(he(200));return _f(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!Wx(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=$M;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=WM(e,null,t,1,n??null,i,!1,s,a),t[vi]=e.current,Nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vf(e)};Un.render=function(t,e,n){if(!bf(e))throw Error(he(200));return _f(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!bf(t))throw Error(he(40));return t._reactRootContainer?(ra(function(){_f(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};Un.unstable_batchedUpdates=Ox;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bf(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return _f(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function qM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qM)}catch(t){console.error(t)}}qM(),qS.exports=Un;var pa=qS.exports;const XM=DS(pa);var YM,Mb=pa;YM=Mb.createRoot,Mb.hydrateRoot;const pP=1,mP=1e6;let Pp=0;function gP(){return Pp=(Pp+1)%Number.MAX_SAFE_INTEGER,Pp.toString()}const Lp=new Map,Cb=t=>{if(Lp.has(t))return;const e=setTimeout(()=>{Lp.delete(t),ic({type:"REMOVE_TOAST",toastId:t})},mP);Lp.set(t,e)},yP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Cb(n):t.toasts.forEach(r=>{Cb(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qd=[];let Zd={toasts:[]};function ic(t){Zd=yP(Zd,t),Qd.forEach(e=>{e(Zd)})}function xP({...t}){const e=gP(),n=i=>ic({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>ic({type:"DISMISS_TOAST",toastId:e});return ic({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function KM(){const[t,e]=_.useState(Zd);return _.useEffect(()=>(Qd.push(e),()=>{const n=Qd.indexOf(e);n>-1&&Qd.splice(n,1)}),[t]),{...t,toast:xP,dismiss:n=>ic({type:"DISMISS_TOAST",toastId:n})}}function He(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Eb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function QM(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Eb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Eb(t[i],null)}}}}function Et(...t){return _.useCallback(QM(...t),t)}function cu(t,e=[]){let n=[];function r(s,a){const o=_.createContext(a),c=n.length;n=[...n,a];const u=h=>{var g;const{scope:f,children:p,...x}=h,y=((g=f==null?void 0:f[t])==null?void 0:g[c])||o,v=_.useMemo(()=>x,Object.values(x));return l.jsx(y.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(h,f){var y;const p=((y=f==null?void 0:f[t])==null?void 0:y[c])||o,x=_.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>_.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,vP(i,...e)]}function vP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ic(t){const e=_P(t),n=_.forwardRef((r,i)=>{const{children:s,...a}=r,o=_.Children.toArray(s),c=o.find(SP);if(c){const u=c.props.children,d=o.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...a,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var bP=Ic("Slot");function _P(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const a=CP(i),o=MP(s,i.props);return i.type!==_.Fragment&&(o.ref=r?QM(r,a):a),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZM=Symbol("radix.slottable");function wP(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=ZM,e}function SP(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZM}function MP(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function CP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JM(t){const e=t+"CollectionProvider",[n,r]=cu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:v,children:g}=y,m=fe.useRef(null),b=fe.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:b,collectionRef:m,children:g})};a.displayName=e;const o=t+"CollectionSlot",c=Ic(o),u=fe.forwardRef((y,v)=>{const{scope:g,children:m}=y,b=s(o,g),S=Et(v,b.collectionRef);return l.jsx(c,{ref:S,children:m})});u.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Ic(d),p=fe.forwardRef((y,v)=>{const{scope:g,children:m,...b}=y,S=fe.useRef(null),M=Et(v,S),w=s(d,g);return fe.useEffect(()=>(w.itemMap.set(S,{ref:S,...b}),()=>void w.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:M,children:m})});p.displayName=d;function x(y){const v=s(t+"CollectionConsumer",y);return fe.useCallback(()=>{const m=v.collectionRef.current;if(!m)return[];const b=Array.from(m.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((w,C)=>b.indexOf(w.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},x,r]}var EP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=EP.reduce((t,e)=>{const n=Ic(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function eC(t,e){t&&pa.flushSync(()=>t.dispatchEvent(e))}function Ar(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function TP(t,e=globalThis==null?void 0:globalThis.document){const n=Ar(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NP="DismissableLayer",Hg="dismissableLayer.update",kP="dismissableLayer.pointerDownOutside",AP="dismissableLayer.focusOutside",Tb,tC=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=_.useContext(tC),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),x=Et(e,C=>h(C)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(v),m=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=m>=g,M=PP(C=>{const E=C.target,N=[...u.branches].some(L=>L.contains(E));!S||N||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},f),w=LP(C=>{const E=C.target;[...u.branches].some(L=>L.contains(E))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},f);return TP(C=>{m===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},f),_.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Nb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Tb)}},[d,f,n,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Nb())},[d,u]),_.useEffect(()=>{const C=()=>p({});return document.addEventListener(Hg,C),()=>document.removeEventListener(Hg,C)},[]),l.jsx(nt.div,{...c,ref:x,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,w.onFocusCapture),onBlurCapture:He(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,M.onPointerDownCapture)})});wf.displayName=NP;var jP="DismissableLayerBranch",nC=_.forwardRef((t,e)=>{const n=_.useContext(tC),r=_.useRef(null),i=Et(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(nt.div,{...t,ref:i})});nC.displayName=jP;function PP(t,e=globalThis==null?void 0:globalThis.document){const n=Ar(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){rC(kP,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LP(t,e=globalThis==null?void 0:globalThis.document){const n=Ar(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&rC(AP,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nb(){const t=new CustomEvent(Hg);document.dispatchEvent(t)}function rC(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eC(i,s):i.dispatchEvent(s)}var RP=wf,DP=nC,tn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},FP="Portal",$x=_.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=_.useState(!1);tn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?XM.createPortal(l.jsx(nt.div,{...r,ref:e}),a):null});$x.displayName=FP;function IP(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var qx=t=>{const{present:e,children:n}=t,r=OP(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=Et(r.ref,BP(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};qx.displayName="Presence";function OP(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),a=t?"mounted":"unmounted",[o,c]=IP(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Xu(r.current);s.current=o==="mounted"?u:"none"},[o]),tn(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,p=Xu(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),tn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const y=Xu(r.current).includes(p.animationName);if(p.target===e&&y&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(s.current=Xu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xu(t){return(t==null?void 0:t.animationName)||"none"}function BP(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zP=tx[" useInsertionEffect ".trim().toString()]||tn;function Ug({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=VP({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=_.useCallback(d=>{var h;if(o){const f=HP(d)?d(t):d;f!==t&&((h=a.current)==null||h.call(a,f))}else s(d)},[o,t,s,a]);return[c,u]}function VP({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return zP(()=>{s.current=e},[e]),_.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function HP(t){return typeof t=="function"}var iC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UP="VisuallyHidden",Sf=_.forwardRef((t,e)=>l.jsx(nt.span,{...t,ref:e,style:{...iC,...t.style}}));Sf.displayName=UP;var GP=Sf,Xx="ToastProvider",[Yx,WP,$P]=JM("Toast"),[sC,_Z]=cu("Toast",[$P]),[qP,Mf]=sC(Xx),aC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,c]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),f=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xx}\`. Expected non-empty \`string\`.`),l.jsx(Yx.Provider,{scope:e,children:l.jsx(qP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};aC.displayName=Xx;var oC="ToastViewport",XP=["F8"],Gg="toast.viewportPause",Wg="toast.viewportResume",lC=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=XP,label:i="Notifications ({hotkey})",...s}=t,a=Mf(oC,n),o=WP(n),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=Et(e,h,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;_.useEffect(()=>{const v=g=>{var b;r.length!==0&&r.every(S=>g[S]||g.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),_.useEffect(()=>{const v=c.current,g=h.current;if(x&&v&&g){const m=()=>{if(!a.isClosePausedRef.current){const w=new CustomEvent(Gg);g.dispatchEvent(w),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const w=new CustomEvent(Wg);g.dispatchEvent(w),a.isClosePausedRef.current=!1}},S=w=>{!v.contains(w.relatedTarget)&&b()},M=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",m),v.addEventListener("focusout",S),v.addEventListener("pointermove",m),v.addEventListener("pointerleave",M),window.addEventListener("blur",m),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",m),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",m),v.removeEventListener("pointerleave",M),window.removeEventListener("blur",m),window.removeEventListener("focus",b)}}},[x,a.isClosePausedRef]);const y=_.useCallback(({tabbingDirection:v})=>{const m=o().map(b=>{const S=b.ref.current,M=[S,...oL(S)];return v==="forwards"?M:M.reverse()});return(v==="forwards"?m.reverse():m).flat()},[o]);return _.useEffect(()=>{const v=h.current;if(v){const g=m=>{var M,w,C;const b=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!b){const E=document.activeElement,N=m.shiftKey;if(m.target===v&&N){(M=u.current)==null||M.focus();return}const D=y({tabbingDirection:N?"backwards":"forwards"}),k=D.findIndex(T=>T===E);Rp(D.slice(k+1))?m.preventDefault():N?(w=u.current)==null||w.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[o,y]),l.jsxs(DP,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx($g,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});Rp(v)}}),l.jsx(Yx.Slot,{scope:n,children:l.jsx(nt.ol,{tabIndex:-1,...s,ref:f})}),x&&l.jsx($g,{ref:d,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});Rp(v)}})]})});lC.displayName=oC;var cC="ToastFocusProxy",$g=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Mf(cC,n);return l.jsx(Sf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});$g.displayName=cC;var uu="Toast",YP="toast.swipeStart",KP="toast.swipeMove",QP="toast.swipeCancel",ZP="toast.swipeEnd",uC=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o,c]=Ug({prop:r,defaultProp:i??!0,onChange:s,caller:uu});return l.jsx(qx,{present:n||o,children:l.jsx(tL,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:Ar(t.onPause),onResume:Ar(t.onResume),onSwipeStart:He(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:He(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});uC.displayName=uu;var[JP,eL]=sC(uu,{onClose(){}}),tL=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=t,y=Mf(uu,n),[v,g]=_.useState(null),m=Et(e,T=>g(T)),b=_.useRef(null),S=_.useRef(null),M=i||y.duration,w=_.useRef(0),C=_.useRef(M),E=_.useRef(0),{onToastAdd:N,onToastRemove:L}=y,F=Ar(()=>{var z;(v==null?void 0:v.contains(document.activeElement))&&((z=y.viewport)==null||z.focus()),a()}),D=_.useCallback(T=>{!T||T===1/0||(window.clearTimeout(E.current),w.current=new Date().getTime(),E.current=window.setTimeout(F,T))},[F]);_.useEffect(()=>{const T=y.viewport;if(T){const z=()=>{D(C.current),u==null||u()},j=()=>{const G=new Date().getTime()-w.current;C.current=C.current-G,window.clearTimeout(E.current),c==null||c()};return T.addEventListener(Gg,j),T.addEventListener(Wg,z),()=>{T.removeEventListener(Gg,j),T.removeEventListener(Wg,z)}}},[y.viewport,M,c,u,D]),_.useEffect(()=>{s&&!y.isClosePausedRef.current&&D(M)},[s,M,y.isClosePausedRef,D]),_.useEffect(()=>(N(),()=>L()),[N,L]);const k=_.useMemo(()=>v?yC(v):null,[v]);return y.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(nL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(JP,{scope:n,onClose:F,children:pa.createPortal(l.jsx(Yx.ItemSlot,{scope:n,children:l.jsx(RP,{asChild:!0,onEscapeKeyDown:He(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:He(t.onKeyDown,T=>{T.key==="Escape"&&(o==null||o(T.nativeEvent),T.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:He(t.onPointerDown,T=>{T.button===0&&(b.current={x:T.clientX,y:T.clientY})}),onPointerMove:He(t.onPointerMove,T=>{if(!b.current)return;const z=T.clientX-b.current.x,j=T.clientY-b.current.y,G=!!S.current,V=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,q=V?U(0,z):0,W=V?0:U(0,j),$=T.pointerType==="touch"?10:2,K={x:q,y:W},B={originalEvent:T,delta:K};G?(S.current=K,Yu(KP,h,B,{discrete:!1})):kb(K,y.swipeDirection,$)?(S.current=K,Yu(YP,d,B,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(z)>$||Math.abs(j)>$)&&(b.current=null)}),onPointerUp:He(t.onPointerUp,T=>{const z=S.current,j=T.target;if(j.hasPointerCapture(T.pointerId)&&j.releasePointerCapture(T.pointerId),S.current=null,b.current=null,z){const G=T.currentTarget,V={originalEvent:T,delta:z};kb(z,y.swipeDirection,y.swipeThreshold)?Yu(ZP,p,V,{discrete:!0}):Yu(QP,f,V,{discrete:!0}),G.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),nL=t=>{const{__scopeToast:e,children:n,...r}=t,i=Mf(uu,e),[s,a]=_.useState(!1),[o,c]=_.useState(!1);return sL(()=>a(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx($x,{asChild:!0,children:l.jsx(Sf,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},rL="ToastTitle",dC=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(nt.div,{...r,ref:e})});dC.displayName=rL;var iL="ToastDescription",hC=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(nt.div,{...r,ref:e})});hC.displayName=iL;var fC="ToastAction",pC=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(gC,{altText:n,asChild:!0,children:l.jsx(Kx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fC}\`. Expected non-empty \`string\`.`),null)});pC.displayName=fC;var mC="ToastClose",Kx=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=eL(mC,n);return l.jsx(gC,{asChild:!0,children:l.jsx(nt.button,{type:"button",...r,ref:e,onClick:He(t.onClick,i.onClose)})})});Kx.displayName=mC;var gC=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return l.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function yC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),aL(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...yC(r))}}),e}function Yu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eC(i,s):i.dispatchEvent(s)}var kb=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function sL(t=()=>{}){const e=Ar(t);tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function aL(t){return t.nodeType===t.ELEMENT_NODE}function oL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lL=aC,xC=lC,vC=uC,bC=dC,_C=hC,wC=pC,SC=Kx;function MC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MC(t))&&(r&&(r+=" "),r+=e);return r}const Ab=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jb=CC,EC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return jb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=Ab(d)||Ab(h);return i[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[y,v]=x;return Array.isArray(v)?v.includes({...s,...o}[y]):{...s,...o}[y]===v})?[...u,h,f]:u},[]);return jb(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>_.createElement("svg",{ref:c,...uL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TC("lucide",i),...o},[...a.map(([u,d])=>_.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(dL,{ref:s,iconNode:e,className:TC(`lucide-${cL(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Me("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Me("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Me("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=Me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=Me("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Me("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Me("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Me("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=Me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Me("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Me("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Me("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=Me("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Me("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Me("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Jx="-",zL=t=>{const e=HL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Jx);return o[0]===""&&o.length!==1&&o.shift(),HC(o,e)||VL(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},HC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?HC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Jx);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Lb=/^\[(.+)\]$/,VL=t=>{if(Lb.test(t)){const e=Lb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},HL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return GL(Object.entries(t.classGroups),n).forEach(([s,a])=>{Kg(a,r,s,e)}),r},Kg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Rb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(UL(i)){Kg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Kg(a,Rb(e,s),n,r)})})},Rb=(t,e)=>{let n=t;return e.split(Jx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UL=t=>t.isThemeGetter,GL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,WL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},UC="!",$L=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,d=0,h;for(let v=0;v<o.length;v++){let g=o[v];if(u===0){if(g===i&&(r||o.slice(v,v+s)===e)){c.push(o.slice(d,v)),d=v+s;continue}if(g==="/"){h=v;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?o:o.substring(d),p=f.startsWith(UC),x=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}};return n?o=>n({className:o,parseClassName:a}):a},qL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},XL=t=>({cache:WL(t.cacheSize),parseClassName:$L(t),...zL(t)}),YL=/\s+/,KL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(YL);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,y=r(x?f.substring(0,p):f);if(!y){if(!x){o=u+(o.length>0?" "+o:o);continue}if(y=r(f),!y){o=u+(o.length>0?" "+o:o);continue}x=!1}const v=qL(d).join(":"),g=h?v+UC:v,m=g+y;if(s.includes(m))continue;s.push(m);const b=i(y,x);for(let S=0;S<b.length;++S){const M=b[S];s.push(g+M)}o=u+(o.length>0?" "+o:o)}return o};function QL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=GC(e))&&(r&&(r+=" "),r+=n);return r}const GC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GC(t[r]))&&(n&&(n+=" "),n+=e);return n};function ZL(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=XL(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=KL(c,n);return i(c,d),d}return function(){return s(QL.apply(null,arguments))}}const ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},WC=/^\[(?:([a-z-]+):)?(.+)\]$/i,JL=/^\d+\/\d+$/,eR=new Set(["px","full","screen"]),tR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=t=>bo(t)||eR.has(t)||JL.test(t),ki=t=>Zo(t,"length",fR),bo=t=>!!t&&!Number.isNaN(Number(t)),Dp=t=>Zo(t,"number",bo),Cl=t=>!!t&&Number.isInteger(Number(t)),aR=t=>t.endsWith("%")&&bo(t.slice(0,-1)),Be=t=>WC.test(t),Ai=t=>tR.test(t),oR=new Set(["length","size","percentage"]),lR=t=>Zo(t,oR,$C),cR=t=>Zo(t,"position",$C),uR=new Set(["image","url"]),dR=t=>Zo(t,uR,mR),hR=t=>Zo(t,"",pR),El=()=>!0,Zo=(t,e,n)=>{const r=WC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fR=t=>nR.test(t)&&!rR.test(t),$C=()=>!1,pR=t=>iR.test(t),mR=t=>sR.test(t),gR=()=>{const t=ct("colors"),e=ct("spacing"),n=ct("blur"),r=ct("brightness"),i=ct("borderColor"),s=ct("borderRadius"),a=ct("borderSpacing"),o=ct("borderWidth"),c=ct("contrast"),u=ct("grayscale"),d=ct("hueRotate"),h=ct("invert"),f=ct("gap"),p=ct("gradientColorStops"),x=ct("gradientColorStopPositions"),y=ct("inset"),v=ct("margin"),g=ct("opacity"),m=ct("padding"),b=ct("saturate"),S=ct("scale"),M=ct("sepia"),w=ct("skew"),C=ct("space"),E=ct("translate"),N=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Be,e],D=()=>[Be,e],k=()=>["",ii,ki],T=()=>["auto",bo,Be],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Be],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[bo,Be];return{cacheSize:500,separator:":",theme:{colors:[El],spacing:[ii,ki],blur:["none","",Ai,Be],brightness:W(),borderColor:[t],borderRadius:["none","","full",Ai,Be],borderSpacing:D(),borderWidth:k(),contrast:W(),grayscale:U(),hueRotate:W(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[aR,ki],inset:F(),margin:F(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:U(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Be]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cl,Be]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Cl,Be]}],"grid-cols":[{"grid-cols":[El]}],"col-start-end":[{col:["auto",{span:["full",Cl,Be]},Be]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[El]}],"row-start-end":[{row:["auto",{span:[Cl,Be]},Be]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[Ai]},Ai]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ai,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[El]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",bo,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ii,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ii,ki]}],"underline-offset":[{"underline-offset":["auto",ii,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),cR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[ii,Be]}],"outline-w":[{outline:[ii,ki]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ii,ki]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ai,hR]}],"shadow-color":[{shadow:[El]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ai,Be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Cl,Be]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ii,ki,Dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yR=ZL(gR);function Tt(...t){return yR(CC(t))}const xR=lL,qC=_.forwardRef(({className:t,...e},n)=>l.jsx(xC,{ref:n,className:Tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));qC.displayName=xC.displayName;const vR=EC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XC=_.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(vC,{ref:r,className:Tt(vR({variant:e}),t),...n}));XC.displayName=vC.displayName;const bR=_.forwardRef(({className:t,...e},n)=>l.jsx(wC,{ref:n,className:Tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));bR.displayName=wC.displayName;const YC=_.forwardRef(({className:t,...e},n)=>l.jsx(SC,{ref:n,className:Tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(fu,{className:"h-4 w-4"})}));YC.displayName=SC.displayName;const KC=_.forwardRef(({className:t,...e},n)=>l.jsx(bC,{ref:n,className:Tt("text-sm font-semibold",t),...e}));KC.displayName=bC.displayName;const QC=_.forwardRef(({className:t,...e},n)=>l.jsx(_C,{ref:n,className:Tt("text-sm opacity-90",t),...e}));QC.displayName=_C.displayName;function _R(){const{toasts:t}=KM();return l.jsxs(xR,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return l.jsxs(XC,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(KC,{children:n}),r&&l.jsx(QC,{children:r})]}),i,l.jsx(YC,{})]},e)}),l.jsx(qC,{})]})}var Db=["light","dark"],wR="(prefers-color-scheme: dark)",SR=_.createContext(void 0),MR={setTheme:t=>{},themes:[]},CR=()=>{var t;return(t=_.useContext(SR))!=null?t:MR};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?Db.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,y=!1,v=!0)=>{let g=a?a[x]:x,m=y?x+"|| ''":`'${g}'`,b="";return i&&v&&!y&&Db.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?y||g?b+=`c.add(${m})`:b+="null":g&&(b+=`d[s](n,${m})`),b},p=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var ER=t=>{switch(t){case"success":return kR;case"info":return jR;case"warning":return AR;case"error":return PR;default:return null}},TR=Array(12).fill(0),NR=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},TR.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),LR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RR=()=>{let[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qg=1,DR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Qg++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],fe.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(IR(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Qg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cn=new DR,FR=(t,e)=>{let n=(e==null?void 0:e.id)||Qg++;return Cn.addToast({title:t,...e,id:n}),n},IR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",OR=FR,BR=()=>Cn.toasts,zR=()=>Cn.getActiveToasts();Object.assign(OR,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:BR,getToasts:zR});function VR(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}VR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ku(t){return t.label!==void 0}var HR=3,UR="32px",GR="16px",Fb=4e3,WR=356,$R=14,qR=20,XR=200;function dr(...t){return t.filter(Boolean).join(" ")}function YR(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var KR=t=>{var e,n,r,i,s,a,o,c,u,d,h;let{invert:f,toast:p,unstyled:x,interacting:y,setHeights:v,visibleToasts:g,heights:m,index:b,toasts:S,expanded:M,removeToast:w,defaultRichColors:C,closeButton:E,style:N,cancelButtonStyle:L,actionButtonStyle:F,className:D="",descriptionClassName:k="",duration:T,position:z,gap:j,loadingIcon:G,expandByDefault:V,classNames:U,icons:q,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:$}=t,[K,B]=fe.useState(null),[Q,pe]=fe.useState(null),[J,de]=fe.useState(!1),[_e,be]=fe.useState(!1),[ue,ee]=fe.useState(!1),[le,ae]=fe.useState(!1),[ye,oe]=fe.useState(!1),[O,P]=fe.useState(0),[te,re]=fe.useState(0),X=fe.useRef(p.duration||T||Fb),me=fe.useRef(null),Ne=fe.useRef(null),Te=b===0,I=b+1<=g,se=p.type,xe=p.dismissible!==!1,Ce=p.className||"",ce=p.descriptionClassName||"",ke=fe.useMemo(()=>m.findIndex(Pe=>Pe.toastId===p.id)||0,[m,p.id]),qe=fe.useMemo(()=>{var Pe;return(Pe=p.closeButton)!=null?Pe:E},[p.closeButton,E]),gt=fe.useMemo(()=>p.duration||T||Fb,[p.duration,T]),lr=fe.useRef(0),Je=fe.useRef(0),$n=fe.useRef(0),Bt=fe.useRef(null),[rp,Nu]=z.split("-"),ml=fe.useMemo(()=>m.reduce((Pe,Xe,st)=>st>=ke?Pe:Pe+Xe.height,0),[m,ke]),Lr=RR(),ku=p.invert||f,va=se==="loading";Je.current=fe.useMemo(()=>ke*j+ml,[ke,ml]),fe.useEffect(()=>{X.current=gt},[gt]),fe.useEffect(()=>{de(!0)},[]),fe.useEffect(()=>{let Pe=Ne.current;if(Pe){let Xe=Pe.getBoundingClientRect().height;return re(Xe),v(st=>[{toastId:p.id,height:Xe,position:p.position},...st]),()=>v(st=>st.filter(Ln=>Ln.toastId!==p.id))}},[v,p.id]),fe.useLayoutEffect(()=>{if(!J)return;let Pe=Ne.current,Xe=Pe.style.height;Pe.style.height="auto";let st=Pe.getBoundingClientRect().height;Pe.style.height=Xe,re(st),v(Ln=>Ln.find(A=>A.toastId===p.id)?Ln.map(A=>A.toastId===p.id?{...A,height:st}:A):[{toastId:p.id,height:st,position:p.position},...Ln])},[J,p.title,p.description,v,p.id]);let cr=fe.useCallback(()=>{be(!0),P(Je.current),v(Pe=>Pe.filter(Xe=>Xe.toastId!==p.id)),setTimeout(()=>{w(p)},XR)},[p,w,v,Je]);fe.useEffect(()=>{if(p.promise&&se==="loading"||p.duration===1/0||p.type==="loading")return;let Pe;return M||y||$&&Lr?(()=>{if($n.current<lr.current){let Xe=new Date().getTime()-lr.current;X.current=X.current-Xe}$n.current=new Date().getTime()})():X.current!==1/0&&(lr.current=new Date().getTime(),Pe=setTimeout(()=>{var Xe;(Xe=p.onAutoClose)==null||Xe.call(p,p),cr()},X.current)),()=>clearTimeout(Pe)},[M,y,p,se,$,Lr,cr]),fe.useEffect(()=>{p.delete&&cr()},[cr,p.delete]);function gl(){var Pe,Xe,st;return q!=null&&q.loading?fe.createElement("div",{className:dr(U==null?void 0:U.loader,(Pe=p==null?void 0:p.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":se==="loading"},q.loading):G?fe.createElement("div",{className:dr(U==null?void 0:U.loader,(Xe=p==null?void 0:p.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":se==="loading"},G):fe.createElement(NR,{className:dr(U==null?void 0:U.loader,(st=p==null?void 0:p.classNames)==null?void 0:st.loader),visible:se==="loading"})}return fe.createElement("li",{tabIndex:0,ref:Ne,className:dr(D,Ce,U==null?void 0:U.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[se],(n=p==null?void 0:p.classNames)==null?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":ye,"data-removed":_e,"data-visible":I,"data-y-position":rp,"data-x-position":Nu,"data-index":b,"data-front":Te,"data-swiping":ue,"data-dismissible":xe,"data-type":se,"data-invert":ku,"data-swipe-out":le,"data-swipe-direction":Q,"data-expanded":!!(M||V&&J),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${_e?O:Je.current}px`,"--initial-height":V?"auto":`${te}px`,...N,...p.style},onDragEnd:()=>{ee(!1),B(null),Bt.current=null},onPointerDown:Pe=>{va||!xe||(me.current=new Date,P(Je.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(ee(!0),Bt.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,Xe,st,Ln;if(le||!xe)return;Bt.current=null;let A=Number(((Pe=Ne.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Z=Number(((Xe=Ne.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Y=new Date().getTime()-((st=me.current)==null?void 0:st.getTime()),ne=K==="x"?A:Z,ve=Math.abs(ne)/Y;if(Math.abs(ne)>=qR||ve>.11){P(Je.current),(Ln=p.onDismiss)==null||Ln.call(p,p),pe(K==="x"?A>0?"right":"left":Z>0?"down":"up"),cr(),ae(!0),oe(!1);return}ee(!1),B(null)},onPointerMove:Pe=>{var Xe,st,Ln,A;if(!Bt.current||!xe||((Xe=window.getSelection())==null?void 0:Xe.toString().length)>0)return;let Z=Pe.clientY-Bt.current.y,Y=Pe.clientX-Bt.current.x,ne=(st=t.swipeDirections)!=null?st:YR(z);!K&&(Math.abs(Y)>1||Math.abs(Z)>1)&&B(Math.abs(Y)>Math.abs(Z)?"x":"y");let ve={x:0,y:0};K==="y"?(ne.includes("top")||ne.includes("bottom"))&&(ne.includes("top")&&Z<0||ne.includes("bottom")&&Z>0)&&(ve.y=Z):K==="x"&&(ne.includes("left")||ne.includes("right"))&&(ne.includes("left")&&Y<0||ne.includes("right")&&Y>0)&&(ve.x=Y),(Math.abs(ve.x)>0||Math.abs(ve.y)>0)&&oe(!0),(Ln=Ne.current)==null||Ln.style.setProperty("--swipe-amount-x",`${ve.x}px`),(A=Ne.current)==null||A.style.setProperty("--swipe-amount-y",`${ve.y}px`)}},qe&&!p.jsx?fe.createElement("button",{"aria-label":W,"data-disabled":va,"data-close-button":!0,onClick:va||!xe?()=>{}:()=>{var Pe;cr(),(Pe=p.onDismiss)==null||Pe.call(p,p)},className:dr(U==null?void 0:U.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=q==null?void 0:q.close)!=null?s:LR):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:fe.createElement(fe.Fragment,null,se||p.icon||p.promise?fe.createElement("div",{"data-icon":"",className:dr(U==null?void 0:U.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gl():null,p.type!=="loading"?p.icon||(q==null?void 0:q[se])||ER(se):null):null,fe.createElement("div",{"data-content":"",className:dr(U==null?void 0:U.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},fe.createElement("div",{"data-title":"",className:dr(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?fe.createElement("div",{"data-description":"",className:dr(k,ce,U==null?void 0:U.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&Ku(p.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||L,onClick:Pe=>{var Xe,st;Ku(p.cancel)&&xe&&((st=(Xe=p.cancel).onClick)==null||st.call(Xe,Pe),cr())},className:dr(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&Ku(p.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:Pe=>{var Xe,st;Ku(p.action)&&((st=(Xe=p.action).onClick)==null||st.call(Xe,Pe),!Pe.defaultPrevented&&cr())},className:dr(U==null?void 0:U.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Ib(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function QR(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?GR:UR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var ZR=_.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:x=HR,toastOptions:y,dir:v=Ib(),gap:g=$R,loadingIcon:m,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:M}=t,[w,C]=fe.useState([]),E=fe.useMemo(()=>Array.from(new Set([r].concat(w.filter($=>$.position).map($=>$.position)))),[w,r]),[N,L]=fe.useState([]),[F,D]=fe.useState(!1),[k,T]=fe.useState(!1),[z,j]=fe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=fe.useRef(null),V=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=fe.useRef(null),q=fe.useRef(!1),W=fe.useCallback($=>{C(K=>{var B;return(B=K.find(Q=>Q.id===$.id))!=null&&B.delete||Cn.dismiss($.id),K.filter(({id:Q})=>Q!==$.id)})},[]);return fe.useEffect(()=>Cn.subscribe($=>{if($.dismiss){C(K=>K.map(B=>B.id===$.id?{...B,delete:!0}:B));return}setTimeout(()=>{XM.flushSync(()=>{C(K=>{let B=K.findIndex(Q=>Q.id===$.id);return B!==-1?[...K.slice(0,B),{...K[B],...$},...K.slice(B+1)]:[$,...K]})})})}),[]),fe.useEffect(()=>{if(d!=="system"){j(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:K})=>{j(K?"dark":"light")})}catch{$.addListener(({matches:B})=>{try{j(B?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),fe.useEffect(()=>{w.length<=1&&D(!1)},[w]),fe.useEffect(()=>{let $=K=>{var B,Q;i.every(pe=>K[pe]||K.code===pe)&&(D(!0),(B=G.current)==null||B.focus()),K.code==="Escape"&&(document.activeElement===G.current||(Q=G.current)!=null&&Q.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[i]),fe.useEffect(()=>{if(G.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,q.current=!1)}},[G.current]),fe.createElement("section",{ref:e,"aria-label":`${S} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map(($,K)=>{var B;let[Q,pe]=$.split("-");return w.length?fe.createElement("ol",{key:$,dir:v==="auto"?Ib():v,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Q,"data-lifted":F&&w.length>1&&!s,"data-x-position":pe,style:{"--front-toast-height":`${((B=N[0])==null?void 0:B.height)||0}px`,"--width":`${WR}px`,"--gap":`${g}px`,...p,...QR(c,u)},onBlur:J=>{q.current&&!J.currentTarget.contains(J.relatedTarget)&&(q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||q.current||(q.current=!0,U.current=J.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},w.filter(J=>!J.position&&K===0||J.position===$).map((J,de)=>{var _e,be;return fe.createElement(KR,{key:J.id,icons:b,index:de,toast:J,defaultRichColors:h,duration:(_e=y==null?void 0:y.duration)!=null?_e:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:x,closeButton:(be=y==null?void 0:y.closeButton)!=null?be:a,interacting:k,position:$,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:W,toasts:w.filter(ue=>ue.position==J.position),heights:N.filter(ue=>ue.position==J.position),setHeights:L,expandByDefault:s,gap:g,loadingIcon:m,expanded:F,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});const JR=({...t})=>{const{theme:e="system"}=CR();return l.jsx(ZR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var e5=tx[" useId ".trim().toString()]||(()=>{}),t5=0;function e0(t){const[e,n]=_.useState(e5());return tn(()=>{n(r=>r??String(t5++))},[t]),e?`radix-${e}`:""}const n5=["top","right","bottom","left"],ms=Math.min,In=Math.max,Ph=Math.round,Qu=Math.floor,Yr=t=>({x:t,y:t}),r5={left:"right",right:"left",bottom:"top",top:"bottom"},i5={start:"end",end:"start"};function Zg(t,e,n){return In(t,ms(e,n))}function wi(t,e){return typeof t=="function"?t(e):t}function Si(t){return t.split("-")[0]}function Jo(t){return t.split("-")[1]}function t0(t){return t==="x"?"y":"x"}function n0(t){return t==="y"?"height":"width"}const s5=new Set(["top","bottom"]);function Wr(t){return s5.has(Si(t))?"y":"x"}function r0(t){return t0(Wr(t))}function a5(t,e,n){n===void 0&&(n=!1);const r=Jo(t),i=r0(t),s=n0(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Lh(a)),[a,Lh(a)]}function o5(t){const e=Lh(t);return[Jg(t),e,Jg(e)]}function Jg(t){return t.replace(/start|end/g,e=>i5[e])}const Ob=["left","right"],Bb=["right","left"],l5=["top","bottom"],c5=["bottom","top"];function u5(t,e,n){switch(t){case"top":case"bottom":return n?e?Bb:Ob:e?Ob:Bb;case"left":case"right":return e?l5:c5;default:return[]}}function d5(t,e,n,r){const i=Jo(t);let s=u5(Si(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Jg)))),s}function Lh(t){return t.replace(/left|right|bottom|top/g,e=>r5[e])}function h5(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZC(t){return typeof t!="number"?h5(t):{top:t,right:t,bottom:t,left:t}}function Rh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function zb(t,e,n){let{reference:r,floating:i}=t;const s=Wr(e),a=r0(e),o=n0(a),c=Si(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Jo(e)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1);break}return p}const f5=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=zb(u,r,c),f=r,p={},x=0;for(let y=0;y<o.length;y++){const{name:v,fn:g}=o[y],{x:m,y:b,data:S,reset:M}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=m??d,h=b??h,p={...p,[v]:{...p[v],...S}},M&&x<=50&&(x++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(u=M.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=zb(u,f,c)),y=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function Oc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=wi(e,t),x=ZC(p),v=o[f?h==="floating"?"reference":"floating":h],g=Rh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),m=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},M=Rh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:m,offsetParent:b,strategy:c}):m);return{top:(g.top-M.top+x.top)/S.y,bottom:(M.bottom-g.bottom+x.bottom)/S.y,left:(g.left-M.left+x.left)/S.x,right:(M.right-g.right+x.right)/S.x}}const p5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=wi(t,e)||{};if(u==null)return{};const h=ZC(d),f={x:n,y:r},p=r0(i),x=n0(p),y=await a.getDimensions(u),v=p==="y",g=v?"top":"left",m=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=s.reference[x]+s.reference[p]-f[p]-s.floating[x],M=f[p]-s.reference[p],w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=w?w[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(w)))&&(C=o.floating[b]||s.floating[x]);const E=S/2-M/2,N=C/2-y[x]/2-1,L=ms(h[g],N),F=ms(h[m],N),D=L,k=C-y[x]-F,T=C/2-y[x]/2+E,z=Zg(D,T,k),j=!c.arrow&&Jo(i)!=null&&T!==z&&s.reference[x]/2-(T<D?L:F)-y[x]/2<0,G=j?T<D?T-D:T-k:0;return{[p]:f[p]+G,data:{[p]:z,centerOffset:T-z-G,...j&&{alignmentOffset:G}},reset:j}}}),m5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...v}=wi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Si(i),m=Wr(o),b=Si(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=f||(b||!y?[Lh(o)]:o5(o)),w=x!=="none";!f&&w&&M.push(...d5(o,y,x,S));const C=[o,...M],E=await Oc(e,v),N=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(E[g]),h){const T=a5(i,a,S);N.push(E[T[0]],E[T[1]])}if(L=[...L,{placement:i,overflows:N}],!N.every(T=>T<=0)){var F,D;const T=(((F=s.flip)==null?void 0:F.index)||0)+1,z=C[T];if(z&&(!(h==="alignment"?m!==Wr(z):!1)||L.every(V=>V.overflows[0]>0&&Wr(V.placement)===m)))return{data:{index:T,overflows:L},reset:{placement:z}};let j=(D=L.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!j)switch(p){case"bestFit":{var k;const G=(k=L.filter(V=>{if(w){const U=Wr(V.placement);return U===m||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:k[0];G&&(j=G);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hb(t){return n5.some(e=>t[e]>=0)}const g5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=wi(t,e);switch(r){case"referenceHidden":{const s=await Oc(e,{...i,elementContext:"reference"}),a=Vb(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Hb(a)}}}case"escaped":{const s=await Oc(e,{...i,altBoundary:!0}),a=Vb(s,n.floating);return{data:{escapedOffsets:a,escaped:Hb(a)}}}default:return{}}}}},JC=new Set(["left","top"]);async function y5(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Si(n),o=Jo(n),c=Wr(n)==="y",u=JC.has(a)?-1:1,d=s&&c?-1:1,h=wi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(p=o==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const x5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await y5(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},v5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:g,y:m}=v;return{x:g,y:m}}},...c}=wi(t,e),u={x:n,y:r},d=await Oc(e,c),h=Wr(Si(i)),f=t0(h);let p=u[f],x=u[h];if(s){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",m=p+d[v],b=p-d[g];p=Zg(m,p,b)}if(a){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",m=x+d[v],b=x-d[g];x=Zg(m,x,b)}const y=o.fn({...e,[f]:p,[h]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[h]:a}}}}}},b5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=wi(t,e),d={x:n,y:r},h=Wr(i),f=t0(h);let p=d[f],x=d[h];const y=wi(o,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=f==="y"?"height":"width",S=s.reference[f]-s.floating[b]+v.mainAxis,M=s.reference[f]+s.reference[b]-v.mainAxis;p<S?p=S:p>M&&(p=M)}if(u){var g,m;const b=f==="y"?"width":"height",S=JC.has(Si(i)),M=s.reference[h]-s.floating[b]+(S&&((g=a.offset)==null?void 0:g[h])||0)+(S?0:v.crossAxis),w=s.reference[h]+s.reference[b]+(S?0:((m=a.offset)==null?void 0:m[h])||0)-(S?v.crossAxis:0);x<M?x=M:x>w&&(x=w)}return{[f]:p,[h]:x}}}},_5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=wi(t,e),d=await Oc(e,u),h=Si(i),f=Jo(i),p=Wr(i)==="y",{width:x,height:y}=s.floating;let v,g;h==="top"||h==="bottom"?(v=h,g=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(g=h,v=f==="end"?"top":"bottom");const m=y-d.top-d.bottom,b=x-d.left-d.right,S=ms(y-d[v],m),M=ms(x-d[g],b),w=!e.middlewareData.shift;let C=S,E=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=m),w&&!f){const L=In(d.left,0),F=In(d.right,0),D=In(d.top,0),k=In(d.bottom,0);p?E=x-2*(L!==0||F!==0?L+F:In(d.left,d.right)):C=y-2*(D!==0||k!==0?D+k:In(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:C});const N=await a.getDimensions(o.floating);return x!==N.width||y!==N.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function el(t){return eE(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(eE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eE(t){return Nf()?t instanceof Node||t instanceof Vn(t).Node:!1}function jr(t){return Nf()?t instanceof Element||t instanceof Vn(t).Element:!1}function Jr(t){return Nf()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function Ub(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const w5=new Set(["inline","contents"]);function pu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!w5.has(i)}const S5=new Set(["table","td","th"]);function M5(t){return S5.has(el(t))}const C5=[":popover-open",":modal"];function kf(t){return C5.some(e=>{try{return t.matches(e)}catch{return!1}})}const E5=["transform","translate","scale","rotate","perspective"],T5=["transform","translate","scale","rotate","perspective","filter"],N5=["paint","layout","strict","content"];function i0(t){const e=s0(),n=jr(t)?Pr(t):t;return E5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||T5.some(r=>(n.willChange||"").includes(r))||N5.some(r=>(n.contain||"").includes(r))}function k5(t){let e=gs(t);for(;Jr(e)&&!Ho(e);){if(i0(e))return e;if(kf(e))return null;e=gs(e)}return null}function s0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const A5=new Set(["html","body","#document"]);function Ho(t){return A5.has(el(t))}function Pr(t){return Vn(t).getComputedStyle(t)}function Af(t){return jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gs(t){if(el(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ub(t)&&t.host||ti(t);return Ub(e)?e.host:e}function tE(t){const e=gs(t);return Ho(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&pu(e)?e:tE(e)}function Bc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=tE(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Vn(i);if(s){const o=ey(a);return e.concat(a,a.visualViewport||[],pu(i)?i:[],o&&n?Bc(o):[])}return e.concat(i,Bc(i,[],n))}function ey(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nE(t){const e=Pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jr(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=Ph(n)!==s||Ph(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function a0(t){return jr(t)?t:t.contextElement}function _o(t){const e=a0(t);if(!Jr(e))return Yr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=nE(e);let a=(s?Ph(n.width):n.width)/r,o=(s?Ph(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const j5=Yr(0);function rE(t){const e=Vn(t);return!s0()||!e.visualViewport?j5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=a0(t);let a=Yr(1);e&&(r?jr(r)&&(a=_o(r)):a=_o(t));const o=P5(s,n,r)?rE(s):Yr(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const f=Vn(s),p=r&&jr(r)?Vn(r):r;let x=f,y=ey(x);for(;y&&r&&p!==x;){const v=_o(y),g=y.getBoundingClientRect(),m=Pr(y),b=g.left+(y.clientLeft+parseFloat(m.paddingLeft))*v.x,S=g.top+(y.clientTop+parseFloat(m.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=b,u+=S,x=Vn(y),y=ey(x)}}return Rh({width:d,height:h,x:c,y:u})}function o0(t,e){const n=Af(t).scrollLeft;return e?e.left+n:aa(ti(t)).left+n}function iE(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:o0(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function L5(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=ti(r),o=e?kf(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Yr(1);const d=Yr(0),h=Jr(r);if((h||!h&&!s)&&((el(r)!=="body"||pu(a))&&(c=Af(r)),Jr(r))){const p=aa(r);u=_o(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=a&&!h&&!s?iE(a,c,!0):Yr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function R5(t){return Array.from(t.getClientRects())}function D5(t){const e=ti(t),n=Af(t),r=t.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+o0(t);const o=-n.scrollTop;return Pr(r).direction==="rtl"&&(a+=In(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function F5(t,e){const n=Vn(t),r=ti(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=s0();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}const I5=new Set(["absolute","fixed"]);function O5(t,e){const n=aa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jr(t)?_o(t):Yr(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function Gb(t,e,n){let r;if(e==="viewport")r=F5(t,n);else if(e==="document")r=D5(ti(t));else if(jr(e))r=O5(e,n);else{const i=rE(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rh(r)}function sE(t,e){const n=gs(t);return n===e||!jr(n)||Ho(n)?!1:Pr(n).position==="fixed"||sE(n,e)}function B5(t,e){const n=e.get(t);if(n)return n;let r=Bc(t,[],!1).filter(o=>jr(o)&&el(o)!=="body"),i=null;const s=Pr(t).position==="fixed";let a=s?gs(t):t;for(;jr(a)&&!Ho(a);){const o=Pr(a),c=i0(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&I5.has(i.position)||pu(a)&&!c&&sE(t,a))?r=r.filter(d=>d!==a):i=o,a=gs(a)}return e.set(t,r),r}function z5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?kf(e)?[]:B5(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const h=Gb(e,d,i);return u.top=In(h.top,u.top),u.right=ms(h.right,u.right),u.bottom=ms(h.bottom,u.bottom),u.left=In(h.left,u.left),u},Gb(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function V5(t){const{width:e,height:n}=nE(t);return{width:e,height:n}}function H5(t,e,n){const r=Jr(e),i=ti(e),s=n==="fixed",a=aa(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=Yr(0);function u(){c.x=o0(i)}if(r||!r&&!s)if((el(e)!=="body"||pu(i))&&(o=Af(e)),r){const p=aa(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?iE(i,o):Yr(0),h=a.left+o.scrollLeft-c.x-d.x,f=a.top+o.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Fp(t){return Pr(t).position==="static"}function Wb(t,e){if(!Jr(t)||Pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function aE(t,e){const n=Vn(t);if(kf(t))return n;if(!Jr(t)){let i=gs(t);for(;i&&!Ho(i);){if(jr(i)&&!Fp(i))return i;i=gs(i)}return n}let r=Wb(t,e);for(;r&&M5(r)&&Fp(r);)r=Wb(r,e);return r&&Ho(r)&&Fp(r)&&!i0(r)?n:r||k5(t)||n}const U5=async function(t){const e=this.getOffsetParent||aE,n=this.getDimensions,r=await n(t.floating);return{reference:H5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function G5(t){return Pr(t).direction==="rtl"}const W5={convertOffsetParentRelativeRectToViewportRelativeRect:L5,getDocumentElement:ti,getClippingRect:z5,getOffsetParent:aE,getElementRects:U5,getClientRects:R5,getDimensions:V5,getScale:_o,isElement:jr,isRTL:G5};function oE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $5(t,e){let n=null,r;const i=ti(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(o||e(),!f||!p)return;const x=Qu(h),y=Qu(i.clientWidth-(d+f)),v=Qu(i.clientHeight-(h+p)),g=Qu(d),b={rootMargin:-x+"px "+-y+"px "+-v+"px "+-g+"px",threshold:In(0,ms(1,c))||1};let S=!0;function M(w){const C=w[0].intersectionRatio;if(C!==c){if(!S)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!oE(u,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(M,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,b)}n.observe(t)}return a(!0),s}function q5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=a0(t),d=i||s?[...u?Bc(u):[],...Bc(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=u&&o?$5(u,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(g=>{let[m]=g;m&&m.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let x,y=c?aa(t):null;c&&v();function v(){const g=aa(t);y&&!oE(y,g)&&n(),y=g,x=requestAnimationFrame(v)}return n(),()=>{var g;d.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const X5=x5,Y5=v5,K5=m5,Q5=_5,Z5=g5,$b=p5,J5=b5,e4=(t,e,n)=>{const r=new Map,i={platform:W5,...n},s={...i.platform,_c:r};return f5(t,e,{...i,platform:s})};var t4=typeof document<"u",n4=function(){},Jd=t4?_.useLayoutEffect:n4;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function lE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qb(t,e){const n=lE(t);return Math.round(e*n)/n}function Ip(t){const e=_.useRef(t);return Jd(()=>{e.current=t}),e}function r4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,h]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=_.useState(r);Dh(f,r)||p(r);const[x,y]=_.useState(null),[v,g]=_.useState(null),m=_.useCallback(V=>{V!==w.current&&(w.current=V,y(V))},[]),b=_.useCallback(V=>{V!==C.current&&(C.current=V,g(V))},[]),S=s||x,M=a||v,w=_.useRef(null),C=_.useRef(null),E=_.useRef(d),N=c!=null,L=Ip(c),F=Ip(i),D=Ip(u),k=_.useCallback(()=>{if(!w.current||!C.current)return;const V={placement:e,strategy:n,middleware:f};F.current&&(V.platform=F.current),e4(w.current,C.current,V).then(U=>{const q={...U,isPositioned:D.current!==!1};T.current&&!Dh(E.current,q)&&(E.current=q,pa.flushSync(()=>{h(q)}))})},[f,e,n,F,D]);Jd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const T=_.useRef(!1);Jd(()=>(T.current=!0,()=>{T.current=!1}),[]),Jd(()=>{if(S&&(w.current=S),M&&(C.current=M),S&&M){if(L.current)return L.current(S,M,k);k()}},[S,M,k,L,N]);const z=_.useMemo(()=>({reference:w,floating:C,setReference:m,setFloating:b}),[m,b]),j=_.useMemo(()=>({reference:S,floating:M}),[S,M]),G=_.useMemo(()=>{const V={position:n,left:0,top:0};if(!j.floating)return V;const U=qb(j.floating,d.x),q=qb(j.floating,d.y);return o?{...V,transform:"translate("+U+"px, "+q+"px)",...lE(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,o,j.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:k,refs:z,elements:j,floatingStyles:G}),[d,k,z,j,G])}const i4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$b({element:r.current,padding:i}).fn(n):{}:r?$b({element:r,padding:i}).fn(n):{}}}},s4=(t,e)=>({...X5(t),options:[t,e]}),a4=(t,e)=>({...Y5(t),options:[t,e]}),o4=(t,e)=>({...J5(t),options:[t,e]}),l4=(t,e)=>({...K5(t),options:[t,e]}),c4=(t,e)=>({...Q5(t),options:[t,e]}),u4=(t,e)=>({...Z5(t),options:[t,e]}),d4=(t,e)=>({...i4(t),options:[t,e]});var h4="Arrow",cE=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return l.jsx(nt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});cE.displayName=h4;var f4=cE;function p4(t){const[e,n]=_.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var l0="Popper",[uE,jf]=cu(l0),[m4,dE]=uE(l0),hE=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return l.jsx(m4,{scope:e,anchor:r,onAnchorChange:i,children:n})};hE.displayName=l0;var fE="PopperAnchor",pE=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=dE(fE,n),a=_.useRef(null),o=Et(e,a);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(nt.div,{...i,ref:o})});pE.displayName=fE;var c0="PopperContent",[g4,y4]=uE(c0),mE=_.forwardRef((t,e)=>{var J,de,_e,be,ue,ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...y}=t,v=dE(c0,n),[g,m]=_.useState(null),b=Et(e,le=>m(le)),[S,M]=_.useState(null),w=p4(S),C=(w==null?void 0:w.width)??0,E=(w==null?void 0:w.height)??0,N=r+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],D=F.length>0,k={padding:L,boundary:F.filter(v4),altBoundary:D},{refs:T,floatingStyles:z,placement:j,isPositioned:G,middlewareData:V}=r4({strategy:"fixed",placement:N,whileElementsMounted:(...le)=>q5(...le,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[s4({mainAxis:i+E,alignmentAxis:a}),c&&a4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?o4():void 0,...k}),c&&l4({...k}),c4({...k,apply:({elements:le,rects:ae,availableWidth:ye,availableHeight:oe})=>{const{width:O,height:P}=ae.reference,te=le.floating.style;te.setProperty("--radix-popper-available-width",`${ye}px`),te.setProperty("--radix-popper-available-height",`${oe}px`),te.setProperty("--radix-popper-anchor-width",`${O}px`),te.setProperty("--radix-popper-anchor-height",`${P}px`)}}),S&&d4({element:S,padding:o}),b4({arrowWidth:C,arrowHeight:E}),f&&u4({strategy:"referenceHidden",...k})]}),[U,q]=xE(j),W=Ar(x);tn(()=>{G&&(W==null||W())},[G,W]);const $=(J=V.arrow)==null?void 0:J.x,K=(de=V.arrow)==null?void 0:de.y,B=((_e=V.arrow)==null?void 0:_e.centerOffset)!==0,[Q,pe]=_.useState();return tn(()=>{g&&pe(window.getComputedStyle(g).zIndex)},[g]),l.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:G?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(be=V.transformOrigin)==null?void 0:be.x,(ue=V.transformOrigin)==null?void 0:ue.y].join(" "),...((ee=V.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(g4,{scope:n,placedSide:U,onArrowChange:M,arrowX:$,arrowY:K,shouldHideArrow:B,children:l.jsx(nt.div,{"data-side":U,"data-align":q,...y,ref:b,style:{...y.style,animation:G?void 0:"none"}})})})});mE.displayName=c0;var gE="PopperArrow",x4={top:"bottom",right:"left",bottom:"top",left:"right"},yE=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=y4(gE,r),a=x4[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(f4,{...i,ref:n,style:{...i.style,display:"block"}})})});yE.displayName=gE;function v4(t){return t!==null}var b4=t=>({name:"transformOrigin",options:t,fn(e){var v,g,m;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=xE(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=i.arrow)==null?void 0:g.x)??0)+o/2,p=(((m=i.arrow)==null?void 0:m.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=a?h:`${f}px`,y=`${-c}px`):u==="top"?(x=a?h:`${f}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=a?h:`${p}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=a?h:`${p}px`),{data:{x,y}}}});function xE(t){const[e,n="center"]=t.split("-");return[e,n]}var _4=hE,vE=pE,bE=mE,_E=yE,[Pf,wZ]=cu("Tooltip",[jf]),u0=jf(),wE="TooltipProvider",w4=700,Xb="tooltip.open",[S4,SE]=Pf(wE),ME=t=>{const{__scopeTooltip:e,delayDuration:n=w4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=_.useRef(!0),o=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(S4,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:_.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};ME.displayName=wE;var CE="Tooltip",[SZ,Lf]=Pf(CE),ty="TooltipTrigger",M4=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Lf(ty,n),s=SE(ty,n),a=u0(n),o=_.useRef(null),c=Et(e,o,i.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(vE,{asChild:!0,...a,children:l.jsx(nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:He(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:He(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:He(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:He(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:He(t.onBlur,i.onClose),onClick:He(t.onClick,i.onClose)})})});M4.displayName=ty;var C4="TooltipPortal",[MZ,E4]=Pf(C4,{forceMount:void 0}),Uo="TooltipContent",EE=_.forwardRef((t,e)=>{const n=E4(Uo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Lf(Uo,t.__scopeTooltip);return l.jsx(qx,{present:r||a.open,children:a.disableHoverableContent?l.jsx(TE,{side:i,...s,ref:e}):l.jsx(T4,{side:i,...s,ref:e})})}),T4=_.forwardRef((t,e)=>{const n=Lf(Uo,t.__scopeTooltip),r=SE(Uo,t.__scopeTooltip),i=_.useRef(null),s=Et(e,i),[a,o]=_.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=_.useCallback(()=>{o(null),h(!1)},[h]),p=_.useCallback((x,y)=>{const v=x.currentTarget,g={x:x.clientX,y:x.clientY},m=P4(g,v.getBoundingClientRect()),b=L4(g,m),S=R4(y.getBoundingClientRect()),M=F4([...b,...S]);o(M),h(!0)},[h]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(c&&d){const x=v=>p(v,d),y=v=>p(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[c,d,p,f]),_.useEffect(()=>{if(a){const x=y=>{const v=y.target,g={x:y.clientX,y:y.clientY},m=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!D4(g,a);m?f():b&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,a,u,f]),l.jsx(TE,{...t,ref:s})}),[N4,k4]=Pf(CE,{isInside:!1}),A4=wP("TooltipContent"),TE=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=Lf(Uo,n),u=u0(n),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(Xb,d),()=>document.removeEventListener(Xb,d)),[d]),_.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(bE,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(A4,{children:r}),l.jsx(N4,{scope:n,isInside:!0,children:l.jsx(GP,{id:c.contentId,role:"tooltip",children:i||r})})]})})});EE.displayName=Uo;var NE="TooltipArrow",j4=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=u0(n);return k4(NE,n).isInside?null:l.jsx(_E,{...i,...r,ref:e})});j4.displayName=NE;function P4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function L4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function R4(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function D4(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,d=o.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function F4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I4(e)}function I4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var O4=ME,kE=EE;const B4=O4,z4=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(kE,{ref:r,sideOffset:e,className:Tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));z4.displayName=kE.displayName;var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Df=typeof window>"u"||"Deno"in globalThis;function br(){}function V4(t,e){return typeof t=="function"?t(e):t}function H4(t){return typeof t=="number"&&t>=0&&t!==1/0}function U4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ny(t,e){return typeof t=="function"?t(e):t}function G4(t,e){return typeof t=="function"?t(e):t}function Yb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==d0(a,e.options))return!1}else if(!Vc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function Kb(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(zc(e.options.mutationKey)!==zc(s))return!1}else if(!Vc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function d0(t,e){return((e==null?void 0:e.queryKeyHashFn)||zc)(t)}function zc(t){return JSON.stringify(t,(e,n)=>ry(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Vc(t[n],e[n])):!1}function AE(t,e){if(t===e)return t;const n=Qb(t)&&Qb(e);if(n||ry(t)&&ry(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:s[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,u++):(o[h]=AE(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function Qb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ry(t){if(!Zb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Zb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zb(t){return Object.prototype.toString.call(t)==="[object Object]"}function W4(t){return new Promise(e=>{setTimeout(e,t)})}function $4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AE(t,e):e}function q4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function X4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var h0=Symbol();function jE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===h0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var zs,Xi,Co,TS,Y4=(TS=class extends Rf{constructor(){super();$e(this,zs);$e(this,Xi);$e(this,Co);Ie(this,Co,e=>{if(!Df&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ie(this,Xi)||this.setEventListener(ie(this,Co))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Xi))==null||e.call(this),Ie(this,Xi,void 0))}setEventListener(e){var n;Ie(this,Co,e),(n=ie(this,Xi))==null||n.call(this),Ie(this,Xi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ie(this,zs)!==e&&(Ie(this,zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ie(this,zs)=="boolean"?ie(this,zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},zs=new WeakMap,Xi=new WeakMap,Co=new WeakMap,TS),PE=new Y4,Eo,Yi,To,NS,K4=(NS=class extends Rf{constructor(){super();$e(this,Eo,!0);$e(this,Yi);$e(this,To);Ie(this,To,e=>{if(!Df&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ie(this,Yi)||this.setEventListener(ie(this,To))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,Yi))==null||e.call(this),Ie(this,Yi,void 0))}setEventListener(e){var n;Ie(this,To,e),(n=ie(this,Yi))==null||n.call(this),Ie(this,Yi,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Eo)!==e&&(Ie(this,Eo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ie(this,Eo)}},Eo=new WeakMap,Yi=new WeakMap,To=new WeakMap,NS),Fh=new K4;function Q4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Z4(t){return Math.min(1e3*2**t,3e4)}function LE(t){return(t??"online")==="online"?Fh.isOnline():!0}var RE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Op(t){return t instanceof RE}function DE(t){let e=!1,n=0,r=!1,i;const s=Q4(),a=y=>{var v;r||(f(new RE(y)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>PE.isFocused()&&(t.networkMode==="always"||Fh.isOnline())&&t.canRun(),d=()=>LE(t.networkMode)&&t.canRun(),h=y=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,y),i==null||i(),s.reject(y))},p=()=>new Promise(y=>{var v;i=g=>{(r||u())&&y(g)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var w;if(r)return;const m=t.retry??(Df?0:3),b=t.retryDelay??Z4,S=typeof b=="function"?b(n,g):b,M=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,g);if(e||!M){f(g);return}n++,(w=t.onFail)==null||w.call(t,n,g),W4(S).then(()=>u()?void 0:p()).then(()=>{e?f(g):x()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),s)}}var J4=t=>setTimeout(t,0);function eD(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=J4;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var gn=eD(),Vs,kS,FE=(kS=class{constructor(){$e(this,Vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H4(this.gcTime)&&Ie(this,Vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Df?1/0:5*60*1e3))}clearGcTimeout(){ie(this,Vs)&&(clearTimeout(ie(this,Vs)),Ie(this,Vs,void 0))}},Vs=new WeakMap,kS),No,Hs,Yn,Us,ln,nu,Gs,_r,di,AS,tD=(AS=class extends FE{constructor(e){super();$e(this,_r);$e(this,No);$e(this,Hs);$e(this,Yn);$e(this,Us);$e(this,ln);$e(this,nu);$e(this,Gs);Ie(this,Gs,!1),Ie(this,nu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Us,e.client),Ie(this,Yn,ie(this,Us).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,No,rD(this.options)),this.state=e.state??ie(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,ln))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,nu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,Yn).remove(this)}setData(e,n){const r=$4(this.state.data,e,this.options);return rn(this,_r,di).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){rn(this,_r,di).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ie(this,ln))==null?void 0:r.promise;return(i=ie(this,ln))==null||i.cancel(e),n?n.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,No))}isActive(){return this.observers.some(e=>G4(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ny(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!U4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,ln))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ie(this,ln))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,Yn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ie(this,ln)&&(ie(this,Gs)?ie(this,ln).cancel({revert:!0}):ie(this,ln).cancelRetry()),this.scheduleGc()),ie(this,Yn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rn(this,_r,di).call(this,{type:"invalidate"})}fetch(e,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ie(this,ln))return ie(this,ln).continueRetry(),ie(this,ln).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ie(this,Gs,!0),r.signal)})},s=()=>{const f=jE(this.options,n),x=(()=>{const y={client:ie(this,Us),queryKey:this.queryKey,meta:this.meta};return i(y),y})();return Ie(this,Gs,!1),this.options.persister?this.options.persister(f,x,this):f(x)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ie(this,Us),state:this.state,fetchFn:s};return i(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),Ie(this,Hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&rn(this,_r,di).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,x,y,v;Op(f)&&f.silent||rn(this,_r,di).call(this,{type:"error",error:f}),Op(f)||((x=(p=ie(this,Yn).config).onError)==null||x.call(p,f,this),(v=(y=ie(this,Yn).config).onSettled)==null||v.call(y,this.state.data,f,this)),this.scheduleGc()};return Ie(this,ln,DE({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,x,y,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){c(g);return}(x=(p=ie(this,Yn).config).onSuccess)==null||x.call(p,f,this),(v=(y=ie(this,Yn).config).onSettled)==null||v.call(y,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{rn(this,_r,di).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{rn(this,_r,di).call(this,{type:"pause"})},onContinue:()=>{rn(this,_r,di).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ie(this,ln).start()}},No=new WeakMap,Hs=new WeakMap,Yn=new WeakMap,Us=new WeakMap,ln=new WeakMap,nu=new WeakMap,Gs=new WeakMap,_r=new WeakSet,di=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nD(r.data,this.options),fetchMeta:e.meta??null};case"success":return Ie(this,Hs,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Op(i)&&i.revert&&ie(this,Hs)?{...ie(this,Hs),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ie(this,Yn).notify({query:this,type:"updated",action:e})})},AS);function nD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function rD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,jS,iD=(jS=class extends Rf{constructor(e={}){super();$e(this,Or);this.config=e,Ie(this,Or,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??d0(i,n);let a=this.get(s);return a||(a=new tD({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){ie(this,Or).has(e.queryHash)||(ie(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ie(this,Or).get(e.queryHash);n&&(e.destroy(),n===e&&ie(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Or).get(e)}getAll(){return[...ie(this,Or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Yb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Yb(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,jS),Br,pn,Ws,zr,zi,PS,sD=(PS=class extends FE{constructor(e){super();$e(this,zr);$e(this,Br);$e(this,pn);$e(this,Ws);this.mutationId=e.mutationId,Ie(this,pn,e.mutationCache),Ie(this,Br,[]),this.state=e.state||aD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,Br).includes(e)||(ie(this,Br).push(e),this.clearGcTimeout(),ie(this,pn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Br,ie(this,Br).filter(n=>n!==e)),this.scheduleGc(),ie(this,pn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,Br).length||(this.state.status==="pending"?this.scheduleGc():ie(this,pn).remove(this))}continue(){var e;return((e=ie(this,Ws))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,c,u,d,h,f,p,x,y,v,g,m,b,S,M,w,C,E;const n=()=>{rn(this,zr,zi).call(this,{type:"continue"})};Ie(this,Ws,DE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,L)=>{rn(this,zr,zi).call(this,{type:"failed",failureCount:N,error:L})},onPause:()=>{rn(this,zr,zi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,pn).canRun(this)}));const r=this.state.status==="pending",i=!ie(this,Ws).canStart();try{if(r)n();else{rn(this,zr,zi).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=ie(this,pn).config).onMutate)==null?void 0:a.call(s,e,this));const L=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));L!==this.state.context&&rn(this,zr,zi).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const N=await ie(this,Ws).start();return await((d=(u=ie(this,pn).config).onSuccess)==null?void 0:d.call(u,N,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,N,e,this.state.context)),await((x=(p=ie(this,pn).config).onSettled)==null?void 0:x.call(p,N,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,N,null,e,this.state.context)),rn(this,zr,zi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((m=(g=ie(this,pn).config).onError)==null?void 0:m.call(g,N,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,N,e,this.state.context)),await((w=(M=ie(this,pn).config).onSettled)==null?void 0:w.call(M,void 0,N,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,N,e,this.state.context)),N}finally{rn(this,zr,zi).call(this,{type:"error",error:N})}}finally{ie(this,pn).runNext(this)}}},Br=new WeakMap,pn=new WeakMap,Ws=new WeakMap,zr=new WeakSet,zi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{ie(this,Br).forEach(r=>{r.onMutationUpdate(e)}),ie(this,pn).notify({mutation:this,type:"updated",action:e})})},PS);function aD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,wr,ru,LS,oD=(LS=class extends Rf{constructor(e={}){super();$e(this,pi);$e(this,wr);$e(this,ru);this.config=e,Ie(this,pi,new Set),Ie(this,wr,new Map),Ie(this,ru,0)}build(e,n,r){const i=new sD({mutationCache:this,mutationId:++Au(this,ru)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ie(this,pi).add(e);const n=Zu(e);if(typeof n=="string"){const r=ie(this,wr).get(n);r?r.push(e):ie(this,wr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,pi).delete(e)){const n=Zu(e);if(typeof n=="string"){const r=ie(this,wr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ie(this,wr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Zu(e);if(typeof n=="string"){const r=ie(this,wr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Zu(e);if(typeof n=="string"){const i=(r=ie(this,wr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{ie(this,pi).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,pi).clear(),ie(this,wr).clear()})}getAll(){return Array.from(ie(this,pi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Kb(n,r))}findAll(e={}){return this.getAll().filter(n=>Kb(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(br))))}},pi=new WeakMap,wr=new WeakMap,ru=new WeakMap,LS);function Zu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Jb(t){return{onFetch:(e,n)=>{var d,h,f,p,x;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},g=jE(e.options,e.fetchOptions),m=async(b,S,M)=>{if(y)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:S,direction:M?"backward":"forward",meta:e.options.meta};return v(F),F})(),E=await g(C),{maxPages:N}=e.options,L=M?X4:q4;return{pages:L(b.pages,E,N),pageParams:L(b.pageParams,S,N)}};if(i&&s.length){const b=i==="backward",S=b?lD:e_,M={pages:s,pageParams:a},w=S(r,M);o=await m(M,w,b)}else{const b=t??s.length;do{const S=c===0?a[0]??r.initialPageParam:e_(r,o);if(c>0&&S==null)break;o=await m(o,S),c++}while(c<b)}return o};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function e_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function lD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var wt,Ki,Qi,ko,Ao,Zi,jo,Po,RS,cD=(RS=class{constructor(t={}){$e(this,wt);$e(this,Ki);$e(this,Qi);$e(this,ko);$e(this,Ao);$e(this,Zi);$e(this,jo);$e(this,Po);Ie(this,wt,t.queryCache||new iD),Ie(this,Ki,t.mutationCache||new oD),Ie(this,Qi,t.defaultOptions||{}),Ie(this,ko,new Map),Ie(this,Ao,new Map),Ie(this,Zi,0)}mount(){Au(this,Zi)._++,ie(this,Zi)===1&&(Ie(this,jo,PE.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,wt).onFocus())})),Ie(this,Po,Fh.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,wt).onOnline())})))}unmount(){var t,e;Au(this,Zi)._--,ie(this,Zi)===0&&((t=ie(this,jo))==null||t.call(this),Ie(this,jo,void 0),(e=ie(this,Po))==null||e.call(this),Ie(this,Po,void 0))}isFetching(t){return ie(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Ki).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ie(this,wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ny(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ie(this,wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ie(this,wt).get(r.queryHash),s=i==null?void 0:i.state.data,a=V4(e,s);if(a!==void 0)return ie(this,wt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>ie(this,wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ie(this,wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ie(this,wt);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ie(this,wt);return gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gn.batch(()=>ie(this,wt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(br).catch(br)}invalidateQueries(t,e={}){return gn.batch(()=>(ie(this,wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gn.batch(()=>ie(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(br)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(br)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ie(this,wt).build(this,e);return n.isStaleByTime(ny(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(br).catch(br)}fetchInfiniteQuery(t){return t.behavior=Jb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(br).catch(br)}ensureInfiniteQueryData(t){return t.behavior=Jb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fh.isOnline()?ie(this,Ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,wt)}getMutationCache(){return ie(this,Ki)}getDefaultOptions(){return ie(this,Qi)}setDefaultOptions(t){Ie(this,Qi,t)}setQueryDefaults(t,e){ie(this,ko).set(zc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,ko).values()],n={};return e.forEach(r=>{Vc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ie(this,Ao).set(zc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Ao).values()],n={};return e.forEach(r=>{Vc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,Qi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=d0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===h0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Qi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,wt).clear(),ie(this,Ki).clear()}},wt=new WeakMap,Ki=new WeakMap,Qi=new WeakMap,ko=new WeakMap,Ao=new WeakMap,Zi=new WeakMap,jo=new WeakMap,Po=new WeakMap,RS),uD=_.createContext(void 0),dD=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(uD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(this,arguments)}var ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ts||(ts={}));const t_="popstate";function hD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return iy("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:OE(i)}return pD(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fD(){return Math.random().toString(36).substr(2,8)}function n_(t,e){return{usr:t.state,key:t.key,idx:e}}function iy(t,e,n,r){return n===void 0&&(n=null),Hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||fD()})}function OE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ts.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Hc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=ts.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:o,location:y.location,delta:g})}function f(v,g){o=ts.Push;let m=iy(y.location,v,g);u=d()+1;let b=n_(m,u),S=y.createHref(m);try{a.pushState(b,"",S)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(S)}s&&c&&c({action:o,location:y.location,delta:1})}function p(v,g){o=ts.Replace;let m=iy(y.location,v,g);u=d();let b=n_(m,u),S=y.createHref(m);a.replaceState(b,"",S),s&&c&&c({action:o,location:y.location,delta:0})}function x(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof v=="string"?v:OE(v);return m=m.replace(/ $/,"%20"),Lt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(t_,h),c=v,()=>{i.removeEventListener(t_,h),c=null}},createHref(v){return e(i,v)},createURL:x,encodeLocation(v){let g=x(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(v){return a.go(v)}};return y}var r_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r_||(r_={}));function mD(t,e,n){return n===void 0&&(n="/"),gD(t,e,n,!1)}function gD(t,e,n,r){let i=typeof e=="string"?tl(e):e,s=VE(i.pathname||"/",n);if(s==null)return null;let a=BE(t);yD(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=ND(s);o=ED(a[c],u,r)}return o}function BE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Xs([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BE(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:MD(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of zE(s.path))i(s,a,c)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=zE(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function yD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xD=/^:[\w-]+$/,vD=3,bD=2,_D=1,wD=10,SD=-2,i_=t=>t==="*";function MD(t,e){let n=t.split("/"),r=n.length;return n.some(i_)&&(r+=SD),e&&(r+=bD),n.filter(i=>!i_(i)).reduce((i,s)=>i+(xD.test(s)?vD:s===""?_D:wD),r)}function CD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ED(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=s_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=s_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Xs([s,h.pathname]),pathnameBase:PD(Xs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Xs([s,h.pathnameBase]))}return a}function s_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function TD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ND(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tl(t):t;return{pathname:n?n.startsWith("/")?n:AD(n,e):e,search:LD(r),hash:RD(i)}}function AD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HE(t,e){let n=jD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tl(t):(i=Hc({},t),Lt(!i.pathname||!i.pathname.includes("?"),Bp("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),Bp("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),Bp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=kD(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),PD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GE=["post","put","patch","delete"];new Set(GE);const FD=["get",...GE];new Set(FD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}const f0=_.createContext(null),ID=_.createContext(null),mu=_.createContext(null),Ff=_.createContext(null),ga=_.createContext({outlet:null,matches:[],isDataRoute:!1}),WE=_.createContext(null);function gu(){return _.useContext(Ff)!=null}function nl(){return gu()||Lt(!1),_.useContext(Ff).location}function $E(t){_.useContext(mu).static||_.useLayoutEffect(t)}function yu(){let{isDataRoute:t}=_.useContext(ga);return t?KD():OD()}function OD(){gu()||Lt(!1);let t=_.useContext(f0),{basename:e,future:n,navigator:r}=_.useContext(mu),{matches:i}=_.useContext(ga),{pathname:s}=nl(),a=JSON.stringify(HE(i,n.v7_relativeSplatPath)),o=_.useRef(!1);return $E(()=>{o.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=UE(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,s,t])}function BD(t,e){return zD(t,e)}function zD(t,e,n,r){gu()||Lt(!1);let{navigator:i}=_.useContext(mu),{matches:s}=_.useContext(ga),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=nl(),d;if(e){var h;let v=typeof e=="string"?tl(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Lt(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=mD(t,{pathname:p}),y=WD(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Xs([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xs([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&y?_.createElement(Ff.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ts.Pop}},y):y}function VD(){let t=YD(),e=DD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const HD=_.createElement(VD,null);class UD extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(ga.Provider,{value:this.props.routeContext},_.createElement(WE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GD(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(f0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(ga.Provider,{value:e},r)}function WD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Lt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,y=null,v=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||HD,c&&(u<0&&f===0?(x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),m=()=>{let b;return p?b=y:x?b=v:h.route.Component?b=_.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,_.createElement(GD,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(UD,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var qE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qE||{}),Ih=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ih||{});function $D(t){let e=_.useContext(f0);return e||Lt(!1),e}function qD(t){let e=_.useContext(ID);return e||Lt(!1),e}function XD(t){let e=_.useContext(ga);return e||Lt(!1),e}function XE(t){let e=XD(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function YD(){var t;let e=_.useContext(WE),n=qD(Ih.UseRouteError),r=XE(Ih.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KD(){let{router:t}=$D(qE.UseNavigateStable),e=XE(Ih.UseNavigateStable),n=_.useRef(!1);return $E(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uc({fromRouteId:e},s)))},[t,e])}function QD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ZD(t){let{to:e,replace:n,state:r,relative:i}=t;gu()||Lt(!1);let{future:s,static:a}=_.useContext(mu),{matches:o}=_.useContext(ga),{pathname:c}=nl(),u=yu(),d=UE(e,HE(o,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Ua(t){Lt(!1)}function JD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ts.Pop,navigator:s,static:a=!1,future:o}=t;gu()&&Lt(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:s,static:a,future:Uc({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=tl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,y=_.useMemo(()=>{let v=VE(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:i}},[c,d,h,f,p,x,i]);return y==null?null:_.createElement(mu.Provider,{value:u},_.createElement(Ff.Provider,{children:n,value:y}))}function eF(t){let{children:e,location:n}=t;return BD(sy(e),n)}new Promise(()=>{});function sy(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,sy(r.props.children,s));return}r.type!==Ua&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sy(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tF="6";try{window.__reactRouterVersion=tF}catch{}const nF="startTransition",a_=tx[nF];function rF(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=hD({window:i,v5Compat:!0}));let a=s.current,[o,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&a_?a_(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>QD(r),[r]),_.createElement(JD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var o_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o_||(o_={}));var l_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(l_||(l_={}));const p0=_.createContext(void 0),iF=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0),[s,a]=_.useState(new Map),[o,c]=_.useState(new Map);_.useEffect(()=>{try{const g=localStorage.getItem("auth_user"),m=localStorage.getItem("registered_users");if(g){const b=JSON.parse(g);n(b)}if(m){const b=JSON.parse(m);a(new Map(Object.entries(b)))}}catch(g){console.error("Failed to restore auth state:",g),localStorage.removeItem("auth_user")}finally{i(!1)}},[]);const u=()=>Math.floor(1e5+Math.random()*9e5).toString(),d=async(g,m,b)=>new Promise(S=>{setTimeout(()=>{if(s.has(g)){S({success:!1,message:"Email already registered"});return}if(!g||!m||!b){S({success:!1,message:"All fields are required"});return}if(b.length<6){S({success:!1,message:"Password must be at least 6 characters"});return}const M=new Map(s);M.set(g,{email:g,name:m,password:b}),a(M);const w=Object.fromEntries(M);localStorage.setItem("registered_users",JSON.stringify(w)),S({success:!0,message:"Registration successful. Please login."})},500)}),h=async g=>new Promise(m=>{setTimeout(()=>{if(!s.has(g)){m({success:!1,message:"Email not registered. Please register first."});return}const b=u(),S=new Map(o);S.set(g,{otp:b,timestamp:Date.now()}),c(S),console.log("%c OTP Generated!","font-size: 16px; font-weight: bold; color: #2563eb;"),console.log(`%cEmail: ${g}`,"font-size: 14px; color: #0f172a;"),console.log(`%cOTP Code: ${b}`,"font-size: 18px; font-weight: bold; color: #dc2626; background: #fee2e2; padding: 8px;"),console.log("%c Valid for 5 minutes","font-size: 12px; color: #ea580c;"),alert(` OTP: ${b}

 Copy this 6-digit code and paste it in the OTP field.
 Valid for 5 minutes`),m({success:!0,message:"OTP sent! Check the console (F12) or the popup alert."})},500)}),f=async(g,m)=>new Promise(b=>{setTimeout(()=>{const S=o.get(g);if(!S){b({success:!1,message:"OTP not found. Please request a new OTP."});return}if(Date.now()-S.timestamp>5*60*1e3){b({success:!1,message:"OTP has expired. Please request a new OTP."});return}if(S.otp!==m){b({success:!1,message:"Invalid OTP. Please try again."});return}const w=s.get(g);if(!w){b({success:!1,message:"User not found"});return}const C={id:Math.random().toString(36).substr(2,9),email:w.email,name:w.name};n(C),localStorage.setItem("auth_user",JSON.stringify(C));const E=new Map(o);E.delete(g),c(E),b({success:!0,message:"Login successful!"})},500)}),p=()=>{n(null),localStorage.removeItem("auth_user")},x=g=>{if(e){const m={...e,age:g};n(m),localStorage.setItem("auth_user",JSON.stringify(m))}},y=g=>{if(e){const m={...e,characterId:g};n(m),localStorage.setItem("auth_user",JSON.stringify(m))}},v=(g,m)=>{if(e){const b=e.completedStoryChapters||[];b.includes(g)||b.push(g);const S=(e.totalXP||0)+m,M={...e,completedStoryChapters:b,totalXP:S};n(M),localStorage.setItem("auth_user",JSON.stringify(M))}};return l.jsx(p0.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:r,register:d,sendOTP:h,verifyOTP:f,logout:p,setUserAge:x,setUserCharacter:y,completeStoryChapter:v},children:t})},xu=()=>{const t=_.useContext(p0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},YE=_.createContext(void 0),sF=["Peanuts","Tree nuts","Milk/Dairy","Eggs","Fish","Shellfish","Wheat/Gluten","Soy","Sesame","Mustard"],aF=({children:t})=>{const[e,n]=_.useState({allergies:[],dietaryPreference:"non-vegetarian"}),[r,i]=_.useState(!0);_.useEffect(()=>{try{const h=localStorage.getItem("user_preferences");if(h){const f=JSON.parse(h);n(f)}}catch(h){console.error("Error loading preferences:",h)}finally{i(!1)}},[]),_.useEffect(()=>{r||localStorage.setItem("user_preferences",JSON.stringify(e))},[e,r]);const s=h=>{n(f=>({...f,allergies:h}))},a=h=>{n(f=>({...f,dietaryPreference:h}))},o=h=>{n(f=>({...f,allergies:[...new Set([...f.allergies,h])]}))},c=h=>{n(f=>({...f,allergies:f.allergies.filter(p=>p!==h)}))},u=(h,f=[])=>{if(e.allergies.some(y=>h.some(v=>v.toLowerCase().includes(y.toLowerCase()))||f.some(v=>y.toLowerCase().includes(v.toLowerCase()))))return!1;const x=h.map(y=>y.toLowerCase());return e.dietaryPreference==="vegetarian"?!["chicken","beef","pork","lamb","fish","salmon","tuna","meat"].some(v=>x.some(g=>g.includes(v))):e.dietaryPreference==="eggtarian"?!["chicken","beef","pork","lamb","fish","salmon","tuna","meat"].some(v=>x.some(g=>g.includes(v))):!0},d=(h,f=[])=>{const p=h.toLowerCase(),x=["chicken","salmon"],y=["eggs"];return e.allergies.some(g=>p.includes(g.toLowerCase()))?!1:e.dietaryPreference==="vegetarian"?!(x.some(g=>p.includes(g))||y.some(g=>p.includes(g))):e.dietaryPreference==="eggtarian"?!x.some(g=>p.includes(g)):!0};return l.jsx(YE.Provider,{value:{preferences:e,setAllergies:s,setDietaryPreference:a,addAllergy:o,removeAllergy:c,isLoading:r,canEat:u,canEatFood:d},children:t})},If=()=>{const t=_.useContext(YE);if(t===void 0)throw new Error("usePreferences must be used within a PreferencesProvider");return t},Le=t=>typeof t=="string",Tl=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},c_=t=>t==null?"":""+t,oF=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},lF=/###/g,u_=t=>t&&t.indexOf("###")>-1?t.replace(lF,"."):t,d_=t=>!t||Le(t),sc=(t,e,n)=>{const r=Le(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(d_(t))return{};const s=u_(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return d_(t)?{}:{obj:t,k:u_(r[i])}},h_=(t,e,n)=>{const{obj:r,k:i}=sc(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=sc(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=sc(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},cF=(t,e,n,r)=>{const{obj:i,k:s}=sc(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Oh=(t,e)=>{const{obj:n,k:r}=sc(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},uF=(t,e,n)=>{const r=Oh(t,n);return r!==void 0?r:Oh(e,n)},KE=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Le(t[r])||t[r]instanceof String||Le(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):KE(t[r],e[r],n):t[r]=e[r]);return t},_a=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var dF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const hF=t=>Le(t)?t.replace(/[&<>"'\/]/g,e=>dF[e]):t;class fF{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pF=[" ",",","?","!",";"],mF=new fF(20),gF=(t,e,n)=>{e=e||"",n=n||"";const r=pF.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=mF.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},ay=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let c=s;c<r.length;++c)if(c!==s&&(o+=n),o+=r[c],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},Gc=t=>t==null?void 0:t.replace("_","-"),yF={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Bh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||yF,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Le(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Bh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Bh(this.logger,e)}}var $r=new Bh;class Of{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}}class f_ extends Of{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var u,d;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Le(r)&&s?o.push(...r.split(s)):o.push(r)));const c=Oh(this.data,o);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),c||!a||!Le(r)?c:ay((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),h_(this.data,o,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(Le(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let c=Oh(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?KE(c,r,s):c={...c,...r},h_(this.data,o,c),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var QE={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,n,r,i))??e}),e}};const ZE=Symbol("i18next/PATH_KEY");function xF(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===ZE?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function oy(t,e){const{[ZE]:n}=t(xF());return n.join((e==null?void 0:e.keySeparator)??".")}const p_={},zp=t=>!Le(t)&&typeof t!="boolean"&&typeof t!="number";class zh extends Of{constructor(e,n={}){super(),oF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$r.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const s=zp(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!gF(e,r,i);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Le(s)?[s]:s};const u=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:Le(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=oy(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return f?s?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let x=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||o,v=(p==null?void 0:p.exactUsedKey)||o,g=["[object Number]","[object Function]","[object RegExp]"],m=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!Le(i.count),M=zh.hasDefaultValue(i),w=S?this.pluralResolver.getSuffix(h,i.count,i):"",C=i.ordinal&&S?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",E=S&&!i.ordinal&&i.count===0,N=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${w}`]||i[`defaultValue${C}`]||i.defaultValue;let L=x;b&&!x&&M&&(L=N);const F=zp(L),D=Object.prototype.toString.apply(L);if(b&&L&&F&&g.indexOf(D)<0&&!(Le(m)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,L,{...i,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(p.res=k,p.usedParams=this.getUsedParamsDetails(i),p):k}if(a){const k=Array.isArray(L),T=k?[]:{},z=k?v:y;for(const j in L)if(Object.prototype.hasOwnProperty.call(L,j)){const G=`${z}${a}${j}`;M&&!x?T[j]=this.translate(G,{...i,defaultValue:zp(N)?N[j]:void 0,joinArrays:!1,ns:c}):T[j]=this.translate(G,{...i,joinArrays:!1,ns:c}),T[j]===G&&(T[j]=L[j])}x=T}}else if(b&&Le(m)&&Array.isArray(x))x=x.join(m),x&&(x=this.extendTranslation(x,e,i,r));else{let k=!1,T=!1;!this.isValidLookup(x)&&M&&(k=!0,x=N),this.isValidLookup(x)||(T=!0,x=o);const j=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:x,G=M&&N!==x&&this.options.updateMissing;if(T||k||G){if(this.logger.log(G?"updateKey":"missingKey",h,u,o,G?N:x),a){const W=this.resolve(o,{...i,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let W=0;W<U.length;W++)V.push(U[W]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const q=(W,$,K)=>{var Q;const B=M&&K!==x?K:j;this.options.missingKeyHandler?this.options.missingKeyHandler(W,u,$,B,G,i):(Q=this.backendConnector)!=null&&Q.saveMissing&&this.backendConnector.saveMissing(W,u,$,B,G,i),this.emit("missingKey",W,u,$,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?V.forEach(W=>{const $=this.pluralResolver.getSuffixes(W,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(K=>{q([W],o+K,i[`defaultValue${K}`]||N)})}):q(V,o,N))}x=this.extendTranslation(x,e,i,p,r),T&&x===o&&this.options.appendNamespaceToMissingKey&&(x=`${u}${d}${o}`),(T||k)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,k?x:void 0,i))}return s?(p.res=x,p.usedParams=this.getUsedParamsDetails(i),p):x}extendTranslation(e,n,r,i,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Le(e)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const p=e.match(this.interpolator.nestingRegexp);h=p&&p.length}let f=r.replace&&!Le(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),d){const p=e.match(this.interpolator.nestingRegexp),x=p&&p.length;h<x&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Le(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=QE.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,o;return Le(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!Le(n.count),p=f&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(Le(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(v=>{var g,m;this.isValidLookup(r)||(o=v,!p_[`${y[0]}-${v}`]&&((g=this.utils)!=null&&g.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(o))&&(p_[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{var w;if(this.isValidLookup(r))return;a=b;const S=[d];if((w=this.i18nFormat)!=null&&w.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,b,v,n);else{let C;f&&(C=this.pluralResolver.getSuffix(b,n.count,n));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(n.ordinal&&C.indexOf(N)===0&&S.push(d+C.replace(N,this.options.pluralSeparator)),S.push(d+C),p&&S.push(d+E)),x){const L=`${d}${this.options.contextSeparator||"_"}${n.context}`;S.push(L),f&&(n.ordinal&&C.indexOf(N)===0&&S.push(L+C.replace(N,this.options.pluralSeparator)),S.push(L+C),p&&S.push(L+E))}}let M;for(;M=S.pop();)this.isValidLookup(r)||(s=M,r=this.getResource(b,v,M,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Le(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class m_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$r.create("languageUtils")}getScriptPartFromCode(e){if(e=Gc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Gc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Le(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Le(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Le(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const g_={zero:0,one:1,two:2,few:3,many:4,other:5},y_={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vF{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=$r.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Gc(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),y_;if(!e.match(/-|_/))return y_;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>g_[i]-g_[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const x_=(t,e,n,r=".",i=!0)=>{let s=uF(t,e,n);return!s&&i&&Le(n)&&(s=ay(t,n,r),s===void 0&&(s=ay(e,n,r))),s},Vp=t=>t.replace(/\$/g,"$$$$");class v_{constructor(e={}){var n;this.logger=$r.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:x,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:g,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:hF,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?_a(s):a||"{{",this.suffix=o?_a(o):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?_a(f):p||_a("$t("),this.nestingSuffix=x?_a(x):y||_a(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=g||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let s,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=x=>{if(x.indexOf(this.formatSeparator)<0){const m=x_(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:x}):m}const y=x.split(this.formatSeparator),v=y.shift().trim(),g=y.join(this.formatSeparator).trim();return this.format(x_(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Vp(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Vp(this.escape(x)):Vp(x)}].forEach(x=>{for(o=0;s=x.regex.exec(e);){const y=s[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const g=d(e,s,i);a=Le(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!Le(a)&&!this.useRawValueToEscape&&(a=c_(a));const v=x.safeValue(a);if(e=e.replace(s[0],v),h?(x.regex.lastIndex+=a.length,x.regex.lastIndex-=s[0].length):x.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a;const o=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;c=h[0],f=this.interpolate(f,a);const p=f.match(/'/g),x=f.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!x||x.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!Le(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!Le(s))return s;Le(s)||(s=c_(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const bF=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},b_=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=e[a];return o||(o=t(Gc(r),i),e[a]=o),o(n)}},_F=t=>(e,n,r)=>t(Gc(n),r)(e);class wF{constructor(e={}){this.logger=$r.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?b_:_F;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return o=>a.format(o)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return o=>a.format(o)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return o=>a.format(o)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return o=>a.format(o,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=b_(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{var h;const{formatName:u,formatOptions:d}=bF(c);if(this.formats[u]){let f=o;try{const p=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},x=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[u](o,x,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const SF=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class MF extends Of{constructor(e,n,r,i={}){var s,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=$r.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},o={},c={};return e.forEach(u=>{let d=!0;n.forEach(h=>{const f=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(c=>{cF(c.loaded,[s],a),SF(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{o[u]||(o[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(e,n);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return c(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Le(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,i,s,a={},o=()=>{}){var c,u,d,h,f;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const p={...a,isUpdate:s},x=this.backend.create.bind(this.backend);if(x.length<6)try{let y;x.length===5?y=x(e,n,r,i,p):y=x(e,n,r,i),y&&typeof y.then=="function"?y.then(v=>o(null,v)).catch(o):o(null,y)}catch(y){o(y)}else x(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const __=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Le(t[1])&&(e.defaultValue=t[1]),Le(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),w_=t=>{var e,n;return Le(t.ns)&&(t.ns=[t.ns]),Le(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Le(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Ju=()=>{},CF=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class ac extends Of{constructor(e={},n){if(super(),this.options=w_(e),this.services={},this.logger=$r,this.modules={external:[]},CF(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=__();this.options={...r,...this.options,...w_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?$r.init(i(this.modules.logger),this.options):$r.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=wF;const d=new m_(this.options);this.store=new f_(this.options.resources,this.options);const h=this.services;h.logger=$r,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new vF(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=i(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new v_(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new MF(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...x)=>{this.emit(p,...x)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new zh(this.services,this.options),this.translator.on("*",(p,...x)=>{this.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ju),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=Tl(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,n=Ju){var s,a;let r=n;const i=Le(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&o.indexOf(h)<0&&o.push(h)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>c(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,n,r){const i=Tl();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ju),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&QE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Tl();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(o,(...u)=>this.t(...u))},a=o=>{var d,h;!e&&!o&&this.services.languageDetector&&(o=[]);const c=Le(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Le(o)?[o]:o);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,f=>{s(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(s,a,...o)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(o)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(h=>(typeof h=="function"&&(h=oy(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof s=="function"&&(s=oy(s,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Le(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const u=this.services.backendConnector.state[`${o}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=Tl();return this.options.ns?(Le(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Tl();Le(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new m_(__());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new ac(e,n);return r.createInstance=ac.createInstance,r}cloneInstance(e={},n=Ju){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new ac(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const o=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});s.store=new f_(o,i),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new v_(i)),s.translator=new zh(s.services,i),s.translator.on("*",(o,...c)=>{s.emit(o,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const hn=ac.createInstance();hn.createInstance;hn.dir;hn.init;hn.loadResources;hn.reloadResources;hn.use;hn.changeLanguage;hn.getFixedT;hn.t;hn.exists;hn.setDefaultNamespace;hn.hasLoadedNamespace;hn.loadNamespaces;hn.loadLanguages;const EF=(t,e,n,r)=>{var s,a,o,c;const i=[n,{code:e,...r||{}}];if((a=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);oa(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},S_={},JE=(t,e,n,r)=>{oa(n)&&S_[n]||(oa(n)&&(S_[n]=new Date),EF(t,e,n,r))},eT=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},ly=(t,e,n)=>{t.loadNamespaces(e,eT(t,n))},M_=(t,e,n,r)=>{if(oa(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return ly(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,eT(t,r))},TF=(t,e,n={})=>!e.languages||!e.languages.length?(JE(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),oa=t=>typeof t=="string",NF=t=>typeof t=="object"&&t!==null,kF=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,AF={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},jF=t=>AF[t],PF=t=>t.replace(kF,jF);let cy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:PF,transDefaultProps:void 0};const LF=(t={})=>{cy={...cy,...t}},RF=()=>cy;let tT;const DF=t=>{tT=t},FF=()=>tT,IF={type:"3rdParty",init(t){LF(t.options.react),DF(t)}},nT=_.createContext();class OF{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var rT={exports:{}},iT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=_;function BF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zF=typeof Object.is=="function"?Object.is:BF,VF=Go.useState,HF=Go.useEffect,UF=Go.useLayoutEffect,GF=Go.useDebugValue;function WF(t,e){var n=e(),r=VF({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return UF(function(){i.value=n,i.getSnapshot=e,Hp(i)&&s({inst:i})},[t,n,e]),HF(function(){return Hp(i)&&s({inst:i}),t(function(){Hp(i)&&s({inst:i})})},[t]),GF(n),n}function Hp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zF(t,n)}catch{return!0}}function $F(t,e){return e()}var qF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$F:WF;iT.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:qF;rT.exports=iT;var XF=rT.exports;const YF=(t,e)=>oa(e)?e:NF(e)&&oa(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,KF={t:YF,ready:!1},QF=()=>()=>{},Wn=(t,e={})=>{var N,L,F;const{i18n:n}=e,{i18n:r,defaultNS:i}=_.useContext(nT)||{},s=n||r||FF();s&&!s.reportNamespaces&&(s.reportNamespaces=new OF),s||JE(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=_.useMemo(()=>{var D;return{...RF(),...(D=s==null?void 0:s.options)==null?void 0:D.react,...e}},[s,e]),{useSuspense:o,keyPrefix:c}=a,u=i||((N=s==null?void 0:s.options)==null?void 0:N.defaultNS),d=oa(u)?[u]:u||["translation"],h=_.useMemo(()=>d,d);(F=(L=s==null?void 0:s.reportNamespaces)==null?void 0:L.addUsedNamespaces)==null||F.call(L,h);const f=_.useRef(0),p=_.useCallback(D=>{if(!s)return QF;const{bindI18n:k,bindI18nStore:T}=a,z=()=>{f.current+=1,D()};return k&&s.on(k,z),T&&s.store.on(T,z),()=>{k&&k.split(" ").forEach(j=>s.off(j,z)),T&&T.split(" ").forEach(j=>s.store.off(j,z))}},[s,a]),x=_.useRef(),y=_.useCallback(()=>{if(!s)return KF;const D=!!(s.isInitialized||s.initializedStoreOnce)&&h.every(V=>TF(V,s,a)),k=e.lng||s.language,T=f.current,z=x.current;if(z&&z.ready===D&&z.lng===k&&z.keyPrefix===c&&z.revision===T)return z;const G={t:s.getFixedT(k,a.nsMode==="fallback"?h:h[0],c),ready:D,lng:k,keyPrefix:c,revision:T};return x.current=G,G},[s,h,c,a,e.lng]),[v,g]=_.useState(0),{t:m,ready:b}=XF.useSyncExternalStore(p,y,y);_.useEffect(()=>{if(s&&!b&&!o){const D=()=>g(k=>k+1);e.lng?M_(s,e.lng,h,D):ly(s,h,D)}},[s,e.lng,h,b,o,v]);const S=s||{},M=_.useRef(null),w=_.useRef(),C=D=>{const k=Object.getOwnPropertyDescriptors(D);k.__original&&delete k.__original;const T=Object.create(Object.getPrototypeOf(D),k);if(!Object.prototype.hasOwnProperty.call(T,"__original"))try{Object.defineProperty(T,"__original",{value:D,writable:!1,enumerable:!1,configurable:!1})}catch{}return T},E=_.useMemo(()=>{const D=S,k=D==null?void 0:D.language;let T=D;D&&(M.current&&M.current.__original===D?w.current!==k?(T=C(D),M.current=T,w.current=k):T=M.current:(T=C(D),M.current=T,w.current=k));const z=[m,T,b];return z.t=m,z.i18n=T,z.ready=b,z},[m,S,b,S.resolvedLanguage,S.language,S.languages]);if(s&&o&&!b)throw new Promise(D=>{const k=()=>D();e.lng?M_(s,e.lng,h,k):ly(s,h,k)});return E};function ZF({i18n:t,defaultNS:e,children:n}){const r=_.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return _.createElement(nT.Provider,{value:r},n)}const m0=_.createContext({});function vu(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const g0=typeof window<"u",y0=g0?_.useLayoutEffect:_.useEffect,Bf=_.createContext(null);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function v0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mi=(t,e,n)=>n>e?e:n<t?t:n;let Vh=()=>{};const Ci={},sT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aT(t){return typeof t=="object"&&t!==null}const oT=t=>/^0[^.\s]+$/u.test(t);function b0(t){let e;return()=>(e===void 0&&(e=t()),e)}const nr=t=>t,JF=(t,e)=>n=>e(t(n)),bu=(...t)=>t.reduce(JF),Wc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class _0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>v0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=t=>t*1e3,Jn=t=>t/1e3;function lT(t,e){return e?t*(1e3/e):0}const cT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eI=1e-7,tI=12;function nI(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=cT(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>eI&&++o<tI);return a}function _u(t,e,n,r){if(t===e&&n===r)return nr;const i=s=>nI(s,0,1,t,n);return s=>s===0||s===1?s:cT(i(s),e,r)}const uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),hT=_u(.33,1.53,.69,.99),w0=dT(hT),fT=uT(w0),pT=t=>(t*=2)<1?.5*w0(t):.5*(2-Math.pow(2,-10*(t-1))),S0=t=>1-Math.sin(Math.acos(t)),mT=dT(S0),gT=uT(S0),rI=_u(.42,0,1,1),iI=_u(0,0,.58,1),yT=_u(.42,0,.58,1),sI=t=>Array.isArray(t)&&typeof t[0]!="number",xT=t=>Array.isArray(t)&&typeof t[0]=="number",C_={linear:nr,easeIn:rI,easeInOut:yT,easeOut:iI,circIn:S0,circInOut:gT,circOut:mT,backIn:w0,backInOut:fT,backOut:hT,anticipate:pT},aI=t=>typeof t=="string",E_=t=>{if(xT(t)){Vh(t.length===4);const[e,n,r,i]=t;return _u(e,n,r,i)}else if(aI(t))return Vh(C_[t]!==void 0),C_[t];return t},ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],T_={value:null,addProjectionMetrics:null};function oI(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),t()),c++,h(o)}const d={schedule:(h,f=!1,p=!1)=>{const y=p&&i?n:r;return f&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&T_.value&&T_.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const lI=40;function vT(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=ed.reduce((b,S)=>(b[S]=oI(s,e?S:void 0),b),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:x}=a,y=()=>{const b=Ci.useManualTiming?i.timestamp:performance.now();n=!1,Ci.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,lI),1)),i.timestamp=b,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},v=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:ed.reduce((b,S)=>{const M=a[S];return b[S]=(w,C=!1,E=!1)=>(n||v(),M.schedule(w,C,E)),b},{}),cancel:b=>{for(let S=0;S<ed.length;S++)a[ed[S]].cancel(b)},state:i,steps:a}}const{schedule:lt,cancel:Ei,state:Kt,steps:Up}=vT(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let eh;function cI(){eh=void 0}const kn={now:()=>(eh===void 0&&kn.set(Kt.isProcessing||Ci.useManualTiming?Kt.timestamp:performance.now()),eh),set:t=>{eh=t,queueMicrotask(cI)}},bT=t=>e=>typeof e=="string"&&e.startsWith(t),_T=bT("--"),uI=bT("var(--"),M0=t=>uI(t)?dI.test(t.split("/*")[0].trim()):!1,dI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$c={...rl,transform:t=>Mi(0,1,t)},td={...rl,default:1},oc=t=>Math.round(t*1e5)/1e5,C0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hI(t){return t==null}const fI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E0=(t,e)=>n=>!!(typeof n=="string"&&fI.test(n)&&n.startsWith(t)||e&&!hI(n)&&Object.prototype.hasOwnProperty.call(n,e)),wT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(C0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},pI=t=>Mi(0,255,t),Gp={...rl,transform:t=>Math.round(pI(t))},Os={test:E0("rgb","red"),parse:wT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gp.transform(t)+", "+Gp.transform(e)+", "+Gp.transform(n)+", "+oc($c.transform(r))+")"};function mI(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uy={test:E0("#"),parse:mI,transform:Os.transform},wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vi=wu("deg"),Qr=wu("%"),je=wu("px"),gI=wu("vh"),yI=wu("vw"),N_={...Qr,parse:t=>Qr.parse(t)/100,transform:t=>Qr.transform(t*100)},ro={test:E0("hsl","hue"),parse:wT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qr.transform(oc(e))+", "+Qr.transform(oc(n))+", "+oc($c.transform(r))+")"},jt={test:t=>Os.test(t)||uy.test(t)||ro.test(t),parse:t=>Os.test(t)?Os.parse(t):ro.test(t)?ro.parse(t):uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Os.transform(t):ro.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},xI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(C0))==null?void 0:e.length)||0)+(((n=t.match(xI))==null?void 0:n.length)||0)>0}const ST="number",MT="color",bI="var",_I="var(",k_="${}",wI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(wI,c=>(jt.test(c)?(r.color.push(s),i.push(MT),n.push(jt.parse(c))):c.startsWith(_I)?(r.var.push(s),i.push(bI),n.push(c)):(r.number.push(s),i.push(ST),n.push(parseFloat(c))),++s,k_)).split(k_);return{values:n,split:o,indexes:r,types:i}}function CT(t){return qc(t).values}function ET(t){const{split:e,types:n}=qc(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===ST?s+=oc(i[a]):o===MT?s+=jt.transform(i[a]):s+=i[a]}return s}}const SI=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function MI(t){const e=CT(t);return ET(t)(e.map(SI))}const ys={test:vI,parse:CT,createTransformer:ET,getAnimatableNone:MI};function Wp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CI({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=Wp(c,o,t+1/3),s=Wp(c,o,t),a=Wp(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Hh(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,$p=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},EI=[uy,Os,ro],TI=t=>EI.find(e=>e.test(t));function A_(t){const e=TI(t);if(!e)return!1;let n=e.parse(t);return e===ro&&(n=CI(n)),n}const j_=(t,e)=>{const n=A_(t),r=A_(e);if(!n||!r)return Hh(t,e);const i={...n};return s=>(i.red=$p(n.red,r.red,s),i.green=$p(n.green,r.green,s),i.blue=$p(n.blue,r.blue,s),i.alpha=xt(n.alpha,r.alpha,s),Os.transform(i))},dy=new Set(["none","hidden"]);function NI(t,e){return dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kI(t,e){return n=>xt(t,e,n)}function T0(t){return typeof t=="number"?kI:typeof t=="string"?M0(t)?Hh:jt.test(t)?j_:PI:Array.isArray(t)?TT:typeof t=="object"?jt.test(t)?j_:AI:Hh}function TT(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>T0(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function AI(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=T0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function jI(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const PI=(t,e)=>{const n=ys.createTransformer(e),r=qc(t),i=qc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dy.has(t)&&!i.values.length||dy.has(e)&&!r.values.length?NI(t,e):bu(TT(jI(r,i),i.values),n):Hh(t,e)};function NT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):T0(t)(t,e)}const LI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Ei(e),now:()=>Kt.isProcessing?Kt.timestamp:kn.now()}},kT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function N0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Uh;)e+=n,r=t.next(e);return e>=Uh?1/0:e}function RI(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(N0(r),Uh);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Jn(i)}}const DI=5;function AT(t,e,n){const r=Math.max(e-DI,0);return lT(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qp=.001;function FI({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let i,s,a=1-e;a=Mi(St.minDamping,St.maxDamping,a),t=Mi(St.minDuration,St.maxDuration,Jn(t)),a<1?(i=u=>{const d=u*a,h=d*t,f=d-n,p=hy(u,a),x=Math.exp(-h);return qp-f/p*x},s=u=>{const h=u*a*t,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),y=hy(Math.pow(u,2),a);return(-i(u)+qp>0?-1:1)*((f-p)*x)/y}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-qp+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,c=OI(i,s,o);if(t=Kr(t),isNaN(c))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const II=12;function OI(t,e,n){let r=n;for(let i=1;i<II;i++)r=r-t(r)/e(r);return r}function hy(t,e){return t*Math.sqrt(1-e*e)}const BI=["duration","bounce"],zI=["stiffness","damping","mass"];function P_(t,e){return e.some(n=>t[n]!==void 0)}function VI(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!P_(t,zI)&&P_(t,BI))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Mi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:St.mass,stiffness:i,damping:s}}else{const n=FI(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Gh(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=VI({...n,velocity:-Jn(n.velocity||0)}),x=f||0,y=u/(2*Math.sqrt(c*d)),v=a-s,g=Jn(Math.sqrt(c/d)),m=Math.abs(v)<5;r||(r=m?St.restSpeed.granular:St.restSpeed.default),i||(i=m?St.restDelta.granular:St.restDelta.default);let b;if(y<1){const M=hy(g,y);b=w=>{const C=Math.exp(-y*g*w);return a-C*((x+y*g*v)/M*Math.sin(M*w)+v*Math.cos(M*w))}}else if(y===1)b=M=>a-Math.exp(-g*M)*(v+(x+g*v)*M);else{const M=g*Math.sqrt(y*y-1);b=w=>{const C=Math.exp(-y*g*w),E=Math.min(M*w,300);return a-C*((x+y*g*v)*Math.sinh(E)+M*v*Math.cosh(E))/M}}const S={calculatedDuration:p&&h||null,next:M=>{const w=b(M);if(p)o.done=M>=h;else{let C=M===0?x:0;y<1&&(C=M===0?Kr(x):AT(b,M,w));const E=Math.abs(C)<=r,N=Math.abs(a-w)<=i;o.done=E&&N}return o.value=o.done?a:w,o},toString:()=>{const M=Math.min(N0(S),Uh),w=kT(C=>S.next(M*C).value,M,30);return M+"ms "+w},toTransition:()=>{}};return S}Gh.applyToOptions=t=>{const e=RI(t,100,Gh);return t.ease=e.ease,t.duration=Kr(e.duration),t.type="keyframes",t};function fy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=E=>o!==void 0&&E<o||c!==void 0&&E>c,x=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let y=n*e;const v=h+y,g=a===void 0?v:a(v);g!==v&&(y=g-h);const m=E=>-y*Math.exp(-E/r),b=E=>g+m(E),S=E=>{const N=m(E),L=b(E);f.done=Math.abs(N)<=u,f.value=f.done?g:L};let M,w;const C=E=>{p(f.value)&&(M=E,w=Gh({keyframes:[f.value,x(f.value)],velocity:AT(b,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let N=!1;return!w&&M===void 0&&(N=!0,S(E),C(E)),M!==void 0&&E>=M?w.next(E-M):(!N&&S(E),f)}}}function HI(t,e,n){const r=[],i=n||Ci.mix||NT,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||nr:e;o=bu(c,o)}r.push(o)}return r}function jT(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Vh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=HI(e,r,i),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Wc(t[h],t[h+1],d);return o[h](f)};return n?d=>u(Mi(t[0],t[s-1],d)):u}function UI(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Wc(0,e,r);t.push(xt(n,1,i))}}function GI(t){const e=[0];return UI(e,t.length-1),e}function WI(t,e){return t.map(n=>n*e)}function $I(t,e){return t.map(()=>e||yT).splice(0,t.length-1)}function lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sI(r)?r.map(E_):E_(r),s={done:!1,value:e[0]},a=WI(n&&n.length===e.length?n:GI(e),t),o=jT(a,e,{ease:Array.isArray(i)?i:$I(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}const qI=t=>t!==null;function k0(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(qI),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const XI={decay:fy,inertia:fy,tween:lc,keyframes:lc,spring:Gh};function PT(t){typeof t.type=="string"&&(t.type=XI[t.type])}class A0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YI=t=>t/100;class zf extends A0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PT(e);const{type:n=lc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const c=n||lc;c!==lc&&typeof o[0]!="number"&&(this.mixKeyframes=bu(YI,NT(o[0],o[1])),o=[0,100]);const u=c({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=N0(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,S=r;if(h){const E=Math.min(this.currentTime,i)/o;let N=Math.floor(E),L=E%1;!L&&E>=1&&(L=1),L===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(f==="reverse"?(L=1-L,p&&(L-=p/o)):f==="mirror"&&(S=a)),b=Mi(0,1,L)*o}const M=m?{done:!1,value:d[0]}:S.next(b);s&&(M.value=s(M.value));let{done:w}=M;!m&&c!==null&&(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return C&&x!==fy&&(M.value=k0(d,this.options,v,this.speed)),y&&y(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(this.currentTime)}set time(e){var n;e=Kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=LI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function KI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bs=t=>t*180/Math.PI,py=t=>{const e=Bs(Math.atan2(t[1],t[0]));return my(e)},QI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:py,rotateZ:py,skewX:t=>Bs(Math.atan(t[1])),skewY:t=>Bs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},my=t=>(t=t%360,t<0&&(t+=360),t),L_=py,R_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),D_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R_,scaleY:D_,scale:t=>(R_(t)+D_(t))/2,rotateX:t=>my(Bs(Math.atan2(t[6],t[5]))),rotateY:t=>my(Bs(Math.atan2(-t[2],t[0]))),rotateZ:L_,rotate:L_,skewX:t=>Bs(Math.atan(t[4])),skewY:t=>Bs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gy(t){return t.includes("scale")?1:0}function yy(t,e){if(!t||t==="none")return gy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ZI,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QI,i=o}if(!i)return gy(e);const s=r[e],a=i[1].split(",").map(eO);return typeof s=="function"?s(a):a[s]}const JI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yy(n,e)};function eO(t){return parseFloat(t.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(il),F_=t=>t===rl||t===je,tO=new Set(["x","y","z"]),nO=il.filter(t=>!tO.has(t));function rO(t){const e=[];return nO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ys={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yy(e,"x"),y:(t,{transform:e})=>yy(e,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const Ks=new Set;let xy=!1,vy=!1,by=!1;function LT(){if(vy){const t=Array.from(Ks).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=rO(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vy=!1,xy=!1,Ks.forEach(t=>t.complete(by)),Ks.clear()}function RT(){Ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vy=!0)})}function iO(){by=!0,RT(),LT(),by=!1}class j0{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ks.add(this),xy||(xy=!0,lt.read(RT),lt.resolveKeyframes(LT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}KI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ks.delete(this)}cancel(){this.state==="scheduled"&&(Ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sO=t=>t.startsWith("--");function aO(t,e,n){sO(e)?t.style.setProperty(e,n):t.style[e]=n}const oO=b0(()=>window.ScrollTimeline!==void 0),lO={};function cO(t,e){const n=b0(t);return()=>lO[e]??n()}const DT=cO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,I_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gl([0,.65,.55,1]),circOut:Gl([.55,0,1,.45]),backIn:Gl([.31,.01,.66,-.59]),backOut:Gl([.33,1.53,.69,.99])};function FT(t,e){if(t)return typeof t=="function"?DT()?kT(t,e):"ease-out":xT(t)?Gl(t):Array.isArray(t)?t.map(n=>FT(n,e)||I_.easeOut):I_[t]}function uO(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=FT(o,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function IT(t){return typeof t=="function"&&"applyToOptions"in t}function dO({type:t,...e}){return IT(t)&&DT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hO extends A0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Vh(typeof e.type!="string");const u=dO(e);this.animation=uO(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=k0(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):aO(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jn(e)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&oO()?(this.animation.timeline=e,nr):n(this)}}const OT={anticipate:pT,backInOut:fT,circInOut:gT};function fO(t){return t in OT}function pO(t){typeof t.ease=="string"&&fO(t.ease)&&(t.ease=OT[t.ease])}const O_=10;class mO extends hO{constructor(e){pO(e),PT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new zf({...a,autoplay:!1}),c=Kr(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-O_).value,o.sample(c).value,O_),o.stop()}}const B_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ys.test(t)||t==="0")&&!t.startsWith("url("));function gO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yO(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=B_(i,e),o=B_(s,e);return!a||!o?!1:gO(t)||(n==="spring"||IT(n))&&r}function _y(t){t.duration=0,t.type="keyframes"}const xO=new Set(["opacity","clipPath","filter","transform"]),vO=b0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bO(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return vO()&&n&&xO.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const _O=40;class wO extends A0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=kn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||j0;this.keyframeResolver=new p(o,(y,v,g)=>this.onKeyframesResolved(y,v,f,!g),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=kn.now(),yO(e,s,a,o)||((Ci.instantAnimations||!c)&&(d==null||d(k0(e,r,n))),e[0]=e[e.length-1],_y(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_O?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&bO(f)?new mO({...f,element:f.motionValue.owner.current}):new zf(f);p.finished.then(()=>this.notifyFinished()).catch(nr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),iO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const SO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MO(t){const e=SO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BT(t,e,n=1){const[r,i]=MO(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return sT(a)?parseFloat(a):a}return M0(i)?BT(i,e,n+1):i}function P0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zT=new Set(["width","height","top","left","right","bottom",...il]),CO={test:t=>t==="auto",parse:t=>t},VT=t=>e=>e.test(t),HT=[rl,je,Qr,Vi,yI,gI,CO],z_=t=>HT.find(VT(t));function EO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oT(t):!0}const TO=new Set(["brightness","contrast","saturate","opacity"]);function NO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(C0)||[];if(!r)return t;const i=n.replace(r,"");let s=TO.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kO=/\b([a-z-]*)\(.*?\)/gu,wy={...ys,getAnimatableNone:t=>{const e=t.match(kO);return e?e.map(NO).join(" "):t}},V_={...rl,transform:Math.round},AO={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:td,scaleX:td,scaleY:td,scaleZ:td,skew:Vi,skewX:Vi,skewY:Vi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:$c,originX:N_,originY:N_,originZ:je},L0={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...AO,zIndex:V_,fillOpacity:$c,strokeOpacity:$c,numOctaves:V_},jO={...L0,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:wy,WebkitFilter:wy},UT=t=>jO[t];function GT(t,e){let n=UT(t);return n!==wy&&(n=ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PO=new Set(["auto","none","0"]);function LO(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!PO.has(s)&&qc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=GT(n,i)}class RO extends j0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),M0(u))){const d=BT(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zT.has(r)||e.length!==2)return;const[i,s]=e,a=z_(i),o=z_(s);if(a!==o)if(F_(a)&&F_(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||EO(e[i]))&&r.push(i);r.length&&LO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Ys[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function DO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const WT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $T(t){return aT(t)&&"offsetHeight"in t}const H_=30,FO=t=>!isNaN(parseFloat(t)),cc={current:void 0};class IO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=kn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=FO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _0);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return cc.current&&cc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,H_);return lT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(t,e){return new IO(t,e)}const{schedule:R0,cancel:CZ}=vT(queueMicrotask,!1),yr={x:!1,y:!1};function qT(){return yr.x||yr.y}function OO(t){return t==="x"||t==="y"?yr[t]?null:(yr[t]=!0,()=>{yr[t]=!1}):yr.x||yr.y?null:(yr.x=yr.y=!0,()=>{yr.x=yr.y=!1})}function XT(t,e){const n=DO(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function U_(t){return!(t.pointerType==="touch"||qT())}function BO(t,e,n={}){const[r,i,s]=XT(t,n),a=o=>{if(!U_(o))return;const{target:c}=o,u=e(c,o);if(typeof u!="function"||!c)return;const d=h=>{U_(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const YT=(t,e)=>e?t===e?!0:YT(t,e.parentElement):!1,D0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VO(t){return zO.has(t.tagName)||t.tabIndex!==-1}const th=new WeakSet;function G_(t){return e=>{e.key==="Enter"&&t(e)}}function Xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HO=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=G_(()=>{if(th.has(n))return;Xp(n,"down");const i=G_(()=>{Xp(n,"up")}),s=()=>Xp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function W_(t){return D0(t)&&!qT()}function UO(t,e,n={}){const[r,i,s]=XT(t,n),a=o=>{const c=o.currentTarget;if(!W_(o))return;th.add(c);const u=e(c,o),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),th.has(c)&&th.delete(c),W_(p)&&typeof u=="function"&&u(p,{success:x})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||YT(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),$T(o)&&(o.addEventListener("focus",u=>HO(u,i)),!VO(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function KT(t){return aT(t)&&"ownerSVGElement"in t}function GO(t){return KT(t)&&t.tagName==="svg"}function WO(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],o=jT(i,s,a);return e?o(r):o}const Ut=t=>!!(t&&t.getVelocity);function $O(t,e,n){const r=t.get();let i=null,s=r,a;const o=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{i&&(i.stop(),i=null)},u=()=>{c(),i=new zf({keyframes:[q_(t.get()),q_(s)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:a})};if(t.attach((d,h)=>{s=d,a=f=>h($_(f,o)),lt.postRender(u)},c),Ut(e)){const d=e.on("change",f=>t.set($_(f,o))),h=t.on("destroy",d);return()=>{d(),h()}}return c}function $_(t,e){return e?t+e:t}function q_(t){return typeof t=="number"?t:parseFloat(t)}const qO=[...HT,jt,ys],XO=t=>qO.find(VT(t)),Su=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function X_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function YO(...t){return e=>{let n=!1;const r=t.map(i=>{const s=X_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():X_(t[i],null)}}}}function KO(...t){return _.useCallback(YO(...t),t)}class QO extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=$T(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZO({children:t,isPresent:e,anchorX:n,root:r}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(Su),c=KO(s,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:p}=a.current;if(e||!s.current||!u||!d)return;const x=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[e]),l.jsx(QO,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:c})})}const JO=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:c})=>{const u=vu(eB),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const x of u.values())if(!x)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&h&&(f={...f}),_.useMemo(()=>{u.forEach((p,x)=>u.set(x,!1))},[n]),_.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=l.jsx(ZO,{isPresent:n,anchorX:o,root:c,children:t})),l.jsx(Bf.Provider,{value:f,children:t})};function eB(){return new Map}function QT(t=!0){const e=_.useContext(Bf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const a=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const nd=t=>t.key||"";function Y_(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const sr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[u,d]=QT(a),h=_.useMemo(()=>Y_(t),[t]),f=a&&!u?[]:h.map(nd),p=_.useRef(!0),x=_.useRef(h),y=vu(()=>new Map),[v,g]=_.useState(h),[m,b]=_.useState(h);y0(()=>{p.current=!1,x.current=h;for(let w=0;w<m.length;w++){const C=nd(m[w]);f.includes(C)?y.delete(C):y.get(C)!==!0&&y.set(C,!1)}},[m,f.length,f.join("-")]);const S=[];if(h!==v){let w=[...h];for(let C=0;C<m.length;C++){const E=m[C],N=nd(E);f.includes(N)||(w.splice(C,0,E),S.push(E))}return s==="wait"&&S.length&&(w=S),b(Y_(w)),g(h),null}const{forceRender:M}=_.useContext(m0);return l.jsx(l.Fragment,{children:m.map(w=>{const C=nd(w),E=a&&!u?!1:h===m||f.includes(C),N=()=>{if(y.has(C))y.set(C,!0);else return;let L=!0;y.forEach(F=>{F||(L=!1)}),L&&(M==null||M(),b(x.current),a&&(d==null||d()),r&&r())};return l.jsx(JO,{isPresent:E,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:E?void 0:N,anchorX:o,children:w},C)})})},ZT=_.createContext({strict:!1}),K_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wo={};for(const t in K_)Wo[t]={isEnabled:e=>K_[t].some(n=>!!e[n])};function tB(t){for(const e in t)Wo[e]={...Wo[e],...t[e]}}const nB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nB.has(t)}let JT=t=>!Wh(t);function rB(t){typeof t=="function"&&(JT=e=>e.startsWith("on")?!Wh(e):t(e))}try{rB(require("@emotion/is-prop-valid").default)}catch{}function iB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JT(i)||n===!0&&Wh(i)||!e&&!Wh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Vf=_.createContext({});function Hf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xc(t){return typeof t=="string"||Array.isArray(t)}const F0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I0=["initial",...F0];function Uf(t){return Hf(t.animate)||I0.some(e=>Xc(t[e]))}function eN(t){return!!(Uf(t)||t.variants)}function sB(t,e){if(Uf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xc(n)?n:void 0,animate:Xc(r)?r:void 0}}return t.inherit!==!1?e:{}}function aB(t){const{initial:e,animate:n}=sB(t,_.useContext(Vf));return _.useMemo(()=>({initial:e,animate:n}),[Q_(e),Q_(n)])}function Q_(t){return Array.isArray(t)?t.join(" "):t}function Z_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=Z_(t,e.target.x),r=Z_(t,e.target.y);return`${n}% ${r}%`}},oB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ys.parse(t);if(i.length>5)return r;const s=ys.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const u=xt(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},Sy={borderRadius:{...Nl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nl,borderTopRightRadius:Nl,borderBottomLeftRadius:Nl,borderBottomRightRadius:Nl,boxShadow:oB};function tN(t,{layout:e,layoutId:n}){return sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sy[t]||t==="opacity")}const lB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cB=il.length;function uB(t,e,n){let r="",i=!0;for(let s=0;s<cB;s++){const a=il[s],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=WT(o,L0[a]);if(!c){i=!1;const d=lB[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function O0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(sl.has(c)){a=!0;continue}else if(_T(c)){i[c]=u;continue}else{const d=WT(u,L0[c]);c.startsWith("origin")?(o=!0,s[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=uB(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const B0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nN(t,e,n){for(const r in e)!Ut(e[r])&&!tN(r,n)&&(t[r]=e[r])}function dB({transformTemplate:t},e){return _.useMemo(()=>{const n=B0();return O0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hB(t,e){const n=t.style||{},r={};return nN(r,n,t),Object.assign(r,dB(t,e)),r}function fB(t,e){const n={},r=hB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const pB={offset:"stroke-dashoffset",array:"stroke-dasharray"},mB={offset:"strokeDashoffset",array:"strokeDasharray"};function gB(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?pB:mB;t[s.offset]=je.transform(-r);const a=je.transform(e),o=je.transform(n);t[s.array]=`${a} ${o}`}function rN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},c,u,d){if(O0(t,o,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&gB(h,i,s,a,!1)}const iN=()=>({...B0(),attrs:{}}),sN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yB(t,e,n,r){const i=_.useMemo(()=>{const s=iN();return rN(s,e,sN(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nN(s,t.style,t),i.style={...s,...i.style}}return i}const xB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z0(t){return typeof t!="string"||t.includes("-")?!1:!!(xB.indexOf(t)>-1||/[A-Z]/u.test(t))}function vB(t,e,n,{latestValues:r},i,s=!1){const o=(z0(t)?yB:fB)(e,r,i,t),c=iB(e,typeof t=="string",s),u=t!==_.Fragment?{...c,...o,ref:n}:{},{children:d}=e,h=_.useMemo(()=>Ut(d)?d.get():d,[d]);return _.createElement(t,{...u,children:h})}function J_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function V0(t,e,n,r){if(typeof e=="function"){const[i,s]=J_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=J_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function nh(t){return Ut(t)?t.get():t}function bB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_B(n,r,i,t),renderState:e()}}function _B(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=nh(s[f]);let{initial:a,animate:o}=t;const c=Uf(t),u=eN(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Hf(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=V0(t,f[p]);if(x){const{transitionEnd:y,transition:v,...g}=x;for(const m in g){let b=g[m];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(i[m]=b)}for(const m in y)i[m]=y[m]}}}return i}const aN=t=>(e,n)=>{const r=_.useContext(Vf),i=_.useContext(Bf),s=()=>bB(t,e,r,i);return n?s():vu(s)};function H0(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Ut(r[a])||e.style&&Ut(e.style[a])||tN(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const wB=aN({scrapeMotionValuesFromProps:H0,createRenderState:B0});function oN(t,e,n){const r=H0(t,e,n);for(const i in t)if(Ut(t[i])||Ut(e[i])){const s=il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const SB=aN({scrapeMotionValuesFromProps:oN,createRenderState:iN}),MB=Symbol.for("motionComponentSymbol");function io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CB(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):io(n)&&(n.current=r))},[e])}const U0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EB="framerAppearId",lN="data-"+U0(EB),cN=_.createContext({});function TB(t,e,n,r,i){var y,v;const{visualElement:s}=_.useContext(Vf),a=_.useContext(ZT),o=_.useContext(Bf),c=_.useContext(Su).reducedMotion,u=_.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=_.useContext(cN);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&NB(u.current,n,i,h);const f=_.useRef(!1);_.useInsertionEffect(()=>{d&&f.current&&d.update(n,o)});const p=n[lN],x=_.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return y0(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),x.current=!1),d.enteringChildren=void 0)}),d}function NB(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&io(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function uN(t){if(t)return t.options.allowProjection!==!1?t.projection:uN(t.parent)}function Yp(t,{forwardMotionProps:e=!1}={},n,r){n&&tB(n);const i=z0(t)?SB:wB;function s(o,c){let u;const d={..._.useContext(Su),...o,layoutId:kB(o)},{isStatic:h}=d,f=aB(o),p=i(o,h);if(!h&&g0){AB();const x=jB(d);u=x.MeasureLayout,f.visualElement=TB(t,p,d,r,x.ProjectionNode)}return l.jsxs(Vf.Provider,{value:f,children:[u&&f.visualElement?l.jsx(u,{visualElement:f.visualElement,...d}):null,vB(t,o,CB(p,f.visualElement,c),p,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(s);return a[MB]=t,a}function kB({layoutId:t}){const e=_.useContext(m0).id;return e&&t!==void 0?e+"-"+t:t}function AB(t,e){_.useContext(ZT).strict}function jB(t){const{drag:e,layout:n}=Wo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function PB(t,e){if(typeof Proxy>"u")return Yp;const n=new Map,r=(s,a)=>Yp(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Yp(a,void 0,t,e)),n.get(a))})}function dN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kp(t){return t===void 0||t===1}function My({scale:t,scaleX:e,scaleY:n}){return!Kp(t)||!Kp(e)||!Kp(n)}function Rs(t){return My(t)||hN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hN(t){return ew(t.x)||ew(t.y)}function ew(t){return t&&t!=="0%"}function $h(t,e,n){const r=t-n,i=e*r;return n+i}function tw(t,e,n,r,i){return i!==void 0&&(t=$h(t,i,r)),$h(t,n,r)+e}function Cy(t,e=0,n=1,r,i){t.min=tw(t.min,e,n,r,i),t.max=tw(t.max,e,n,r,i)}function fN(t,{x:e,y:n}){Cy(t.x,e.translate,e.scale,e.originPoint),Cy(t.y,n.translate,n.scale,n.originPoint)}const nw=.999999999999,rw=1.0000000000001;function DB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ao(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,fN(t,a)),r&&Rs(s.latestValues)&&ao(t,s.latestValues))}e.x<rw&&e.x>nw&&(e.x=1),e.y<rw&&e.y>nw&&(e.y=1)}function so(t,e){t.min=t.min+e,t.max=t.max+e}function iw(t,e,n,r,i=.5){const s=xt(t.min,t.max,i);Cy(t,e,n,s,r)}function ao(t,e){iw(t.x,e.x,e.scaleX,e.scale,e.originX),iw(t.y,e.y,e.scaleY,e.scale,e.originY)}function pN(t,e){return dN(RB(t.getBoundingClientRect(),e))}function FB(t,e,n){const r=pN(t,n),{scroll:i}=e;return i&&(so(r.x,i.offset.x),so(r.y,i.offset.y)),r}const sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),oo=()=>({x:sw(),y:sw()}),aw=()=>({min:0,max:0}),Dt=()=>({x:aw(),y:aw()}),Ey={current:null},mN={current:!1};function IB(){if(mN.current=!0,!!g0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const OB=new WeakMap;function BB(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ut(i))t.addValue(r,i);else if(Ut(s))t.addValue(r,la(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,la(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ow=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=kn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,lt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Uf(n),this.isVariantNode=eN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Ut(p)&&p.set(c[f])}}mount(e){var n;this.current=e,OB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),mN.current||IB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wo){const n=Wo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ow.length;r++){const i=ow[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=BB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=la(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sT(r)||oT(r))?r=parseFloat(r):!XO(r)&&ys.test(n)&&(r=GT(e,n)),this.setBaseTarget(e,Ut(r)?r.get():r)),Ut(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=V0(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ut(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){R0.render(this.render)}}class gN extends zB{constructor(){super(...arguments),this.KeyframeResolver=RO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yN(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function VB(t){return window.getComputedStyle(t)}class HB extends gN{constructor(){super(...arguments),this.type="html",this.renderInstance=yN}readValueFromInstance(e,n){var r;if(sl.has(n))return(r=this.projection)!=null&&r.isProjecting?gy(n):JI(e,n);{const i=VB(e),s=(_T(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pN(e,n)}build(e,n,r){O0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return H0(e,n,r)}}const xN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UB(t,e,n,r){yN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xN.has(i)?i:U0(i),e.attrs[i])}class GB extends gN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sl.has(n)){const r=UT(n);return r&&r.default||0}return n=xN.has(n)?n:U0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oN(e,n,r)}build(e,n,r){rN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){UB(e,n,r,i)}mount(e){this.isSVGTag=sN(e.tagName),super.mount(e)}}const WB=(t,e)=>z0(t)?new GB(e):new HB(e,{allowProjection:t!==_.Fragment});function wo(t,e,n){const r=t.getProps();return V0(r,e,n!==void 0?n:r.custom,t)}const Ty=t=>Array.isArray(t);function $B(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,la(n))}function qB(t){return Ty(t)?t[t.length-1]||0:t}function XB(t,e){const n=wo(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=qB(s[a]);$B(t,a,o)}}function YB(t){return!!(Ut(t)&&t.add)}function Ny(t,e){const n=t.getValue("willChange");if(YB(n))return n.add(e);if(!n&&Ci.WillChange){const r=new Ci.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vN(t){return t.props[lN]}const KB=t=>t!==null;function QB(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(KB),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ZB={type:"spring",stiffness:500,damping:25,restSpeed:10},JB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ez={type:"keyframes",duration:.8},tz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nz=(t,{keyframes:e})=>e.length>2?ez:sl.has(t)?t.startsWith("scale")?JB(e[1]):ZB:tz;function rz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const G0=(t,e,n,r={},i,s)=>a=>{const o=P0(r,t)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Kr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};rz(o)||Object.assign(d,nz(t,d)),d.duration&&(d.duration=Kr(d.duration)),d.repeatDelay&&(d.repeatDelay=Kr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(_y(d),d.delay===0&&(h=!0)),(Ci.instantAnimations||Ci.skipAnimations)&&(h=!0,_y(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const f=QB(d.keyframes,o);if(f!==void 0){lt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new zf(d):new wO(d)};function iz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const h=t.getValue(d,t.latestValues[d]??null),f=o[d];if(f===void 0||u&&iz(u,d))continue;const p={delay:n,...P0(s||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=vN(t);if(g){const m=window.MotionHandoffAnimation(g,d,lt);m!==null&&(p.startTime=m,y=!0)}}Ny(t,d),h.start(G0(d,h,f,t.shouldReduceMotion&&zT.has(d)?{type:!1}:p,t,y));const v=h.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{lt.update(()=>{a&&XB(t,a)})}),c}function _N(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function ky(t,e,n={}){var c;const r=wo(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(bN(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return sz(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function sz(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(ky(c,e,{...a,delay:n+(typeof r=="function"?0:r)+_N(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function az(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ky(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ky(t,e,n);else{const i=typeof e=="function"?wo(t,e,n.custom):e;r=Promise.all(bN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const oz=I0.length;function SN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oz;n++){const r=I0[n],i=t.props[r];(Xc(i)||i===!1)&&(e[r]=i)}return e}const lz=[...F0].reverse(),cz=F0.length;function uz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>az(t,n,r)))}function dz(t){let e=uz(t),n=lw(),r=!0;const i=c=>(u,d)=>{var f;const h=wo(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:x,...y}=h;u={...u,...y,...x}}return u};function s(c){e=c(t)}function a(c){const{props:u}=t,d=SN(t.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let v=0;v<cz;v++){const g=lz[v],m=n[g],b=u[g]!==void 0?u[g]:d[g],S=Xc(b),M=g===c?m.isActive:null;M===!1&&(x=v);let w=b===d[g]&&b!==u[g]&&S;if(w&&r&&t.manuallyAnimateOnMount&&(w=!1),m.protectedKeys={...p},!m.isActive&&M===null||!b&&!m.prevProp||Hf(b)||typeof b=="boolean")continue;const C=hz(m.prevProp,b);let E=C||g===c&&m.isActive&&!w&&S||v>x&&S,N=!1;const L=Array.isArray(b)?b:[b];let F=L.reduce(i(g),{});M===!1&&(F={});const{prevResolvedValues:D={}}=m,k={...D,...F},T=G=>{E=!0,f.has(G)&&(N=!0,f.delete(G)),m.needsAnimating[G]=!0;const V=t.getValue(G);V&&(V.liveStyle=!1)};for(const G in k){const V=F[G],U=D[G];if(p.hasOwnProperty(G))continue;let q=!1;Ty(V)&&Ty(U)?q=!wN(V,U):q=V!==U,q?V!=null?T(G):f.add(G):V!==void 0&&f.has(G)?T(G):m.protectedKeys[G]=!0}m.prevProp=b,m.prevResolvedValues=F,m.isActive&&(p={...p,...F}),r&&t.blockInitialAnimation&&(E=!1);const z=w&&C;E&&(!z||N)&&h.push(...L.map(G=>{const V={type:g};if(typeof G=="string"&&r&&!z&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,q=wo(U,G);if(U.enteringChildren&&q){const{delayChildren:W}=q.transition||{};V.delay=_N(U.enteringChildren,t,W)}}return{animation:G,options:V}}))}if(f.size){const v={};if(typeof u.initial!="boolean"){const g=wo(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(v.transition=g.transition)}f.forEach(g=>{const m=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),v[g]=m??null}),h.push({animation:v})}let y=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function o(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lw()}}}function hz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wN(e,t):!1}function ks(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lw(){return{animate:ks(!0),whileInView:ks(),whileHover:ks(),whileTap:ks(),whileDrag:ks(),whileFocus:ks(),exit:ks()}}class Ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fz extends Ss{constructor(e){super(e),e.animationState||(e.animationState=dz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let pz=0;class mz extends Ss{constructor(){super(...arguments),this.id=pz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gz={animation:{Feature:fz},exit:{Feature:mz}};function Yc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mu(t){return{point:{x:t.pageX,y:t.pageY}}}const yz=t=>e=>D0(e)&&t(e,Mu(e));function uc(t,e,n,r){return Yc(t,e,yz(n),r)}const MN=1e-4,xz=1-MN,vz=1+MN,CN=.01,bz=0-CN,_z=0+CN;function xn(t){return t.max-t.min}function wz(t,e,n){return Math.abs(t-e)<=n}function cw(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xz&&t.scale<=vz||isNaN(t.scale))&&(t.scale=1),(t.translate>=bz&&t.translate<=_z||isNaN(t.translate))&&(t.translate=0)}function dc(t,e,n,r){cw(t.x,e.x,n.x,r?r.originX:void 0),cw(t.y,e.y,n.y,r?r.originY:void 0)}function uw(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function Sz(t,e,n){uw(t.x,e.x,n.x),uw(t.y,e.y,n.y)}function dw(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function qh(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const EN=({current:t})=>t?t.ownerDocument.defaultView:null,hw=(t,e)=>Math.abs(t-e);function Mz(t,e){const n=hw(t.x,e.x),r=hw(t.y,e.y);return Math.sqrt(n**2+r**2)}class TN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=Mz(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:y}=f,{timestamp:v}=Kt;this.history.push({...y,timestamp:v});const{onStart:g,onMove:m}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Qp(p,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Zp(f.type==="pointercancel"?this.lastMoveEventInfo:Qp(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,g),y&&y(f,g)},!D0(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=Mu(e),c=Qp(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=Kt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Zp(c,this.history)),this.removeListeners=bu(uc(this.contextWindow,"pointermove",this.handlePointerMove),uc(this.contextWindow,"pointerup",this.handlePointerUp),uc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function Qp(t,e){return e?{point:e(t.point)}:t}function fw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:fw(t,NN(e)),offset:fw(t,Cz(e)),velocity:Ez(e,.1)}}function Cz(t){return t[0]}function NN(t){return t[t.length-1]}function Ez(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=NN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Kr(e)));)n--;if(!r)return{x:0,y:0};const s=Jn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Tz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function pw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Nz(t,{top:e,left:n,bottom:r,right:i}){return{x:pw(t.x,n,i),y:pw(t.y,e,r)}}function mw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kz(t,e){return{x:mw(t.x,e.x),y:mw(t.y,e.y)}}function Az(t,e){let n=.5;const r=xn(t),i=xn(e);return i>r?n=Wc(e.min,e.max-r,t.min):r>i&&(n=Wc(t.min,t.max-i,e.min)),Mi(0,1,n)}function jz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ay=.35;function Pz(t=Ay){return t===!1?t=0:t===!0&&(t=Ay),{x:gw(t,"left","right"),y:gw(t,"top","bottom")}}function gw(t,e,n){return{min:yw(t,e),max:yw(t,n)}}function yw(t,e){return typeof t=="number"?t:t[e]||0}const Lz=new WeakMap;class Rz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mu(h).point)},a=(h,f)=>{const{drag:p,dragPropagation:x,onDragStart:y}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OO(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(g=>{let m=this.getAxisMotionValue(g).get()||0;if(Qr.test(m)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[g];S&&(m=xn(S)*(parseFloat(m)/100))}}this.originPoint[g]=m}),y&&lt.postRender(()=>y(h,f)),Ny(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(x&&this.currentDirection===null){this.currentDirection=Dz(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),v&&v(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>qn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TN(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:EN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&lt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!rd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Tz(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&io(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Nz(r.layoutBox,e):this.constraints=!1,this.elastic=Pz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=jz(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!io(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=FB(r,i.root,this.visualElement.getTransformPagePoint());let a=kz(i.layout.layoutBox,s);if(n){const o=n(LB(a));this.hasMutatedConstraints=!!o,o&&(a=dN(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=qn(d=>{if(!rd(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ny(this.visualElement,e),r.start(G0(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!rd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-xt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!io(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=Az({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(a=>{if(!rd(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(xt(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Lz.set(this.visualElement,this);const e=this.visualElement.current,n=uc(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();io(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),lt.read(r);const a=Yc(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(qn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Ay,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Fz extends Ss{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new Rz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xw=t=>(e,n)=>{t&&lt.postRender(()=>t(e,n))};class Iz extends Ss{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new TN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xw(e),onStart:xw(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&lt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=uc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Jp=!1;class Oz extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Jp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,Jp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||lt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),R0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kN(t){const[e,n]=QT(),r=_.useContext(m0);return l.jsx(Oz,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(cN),isPresent:e,safeToRemove:n})}function Bz(t,e,n){const r=Ut(t)?t:la(t);return r.start(G0("",r,e,n)),r.animation}const zz=(t,e)=>t.depth-e.depth;class Vz{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){v0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zz),this.isDirty=!1,this.children.forEach(e)}}function Hz(t,e){const n=kn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ei(r),t(s-e))};return lt.setup(r,!0),()=>Ei(r)}const AN=["TopLeft","TopRight","BottomLeft","BottomRight"],Uz=AN.length,vw=t=>typeof t=="string"?parseFloat(t):t,bw=t=>typeof t=="number"||je.test(t);function Gz(t,e,n,r,i,s){i?(t.opacity=xt(0,n.opacity??1,Wz(r)),t.opacityExit=xt(e.opacity??1,0,$z(r))):s&&(t.opacity=xt(e.opacity??1,n.opacity??1,r));for(let a=0;a<Uz;a++){const o=`border${AN[a]}Radius`;let c=_w(e,o),u=_w(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bw(c)===bw(u)?(t[o]=Math.max(xt(vw(c),vw(u),r),0),(Qr.test(u)||Qr.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function _w(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wz=jN(0,.5,mT),$z=jN(.5,.95,nr);function jN(t,e,n){return r=>r<t?0:r>e?1:n(Wc(t,e,r))}function ww(t,e){t.min=e.min,t.max=e.max}function hr(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Sw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Mw(t,e,n,r,i){return t-=e,t=$h(t,1/n,r),i!==void 0&&(t=$h(t,1/i,r)),t}function qz(t,e=0,n=1,r=.5,i,s=t,a=t){if(Qr.test(e)&&(e=parseFloat(e),e=xt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xt(s.min,s.max,r);t===s&&(o-=e),t.min=Mw(t.min,e,n,o,i),t.max=Mw(t.max,e,n,o,i)}function Cw(t,e,[n,r,i],s,a){qz(t,e[n],e[r],e[i],e.scale,s,a)}const Xz=["x","scaleX","originX"],Yz=["y","scaleY","originY"];function Ew(t,e,n,r){Cw(t.x,e,Xz,n?n.x:void 0,r?r.x:void 0),Cw(t.y,e,Yz,n?n.y:void 0,r?r.y:void 0)}function Tw(t){return t.translate===0&&t.scale===1}function PN(t){return Tw(t.x)&&Tw(t.y)}function Nw(t,e){return t.min===e.min&&t.max===e.max}function Kz(t,e){return Nw(t.x,e.x)&&Nw(t.y,e.y)}function kw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LN(t,e){return kw(t.x,e.x)&&kw(t.y,e.y)}function Aw(t){return xn(t.x)/xn(t.y)}function jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qz{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(v0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const em=["","X","Y","Z"],Jz=1e3;let e6=0;function tm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RN(r)}function DN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=e6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r6),this.nodes.forEach(o6),this.nodes.forEach(l6),this.nodes.forEach(i6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vz)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new _0),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=KT(a)&&!GO(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{h=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=Hz(f,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(Rw)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||f6,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!LN(this.targetLayout,p),m=!h&&f;if(this.options.layoutRoot||this.resumeFrom||m||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...P0(x,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,m)}else h||Rw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c6),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(a6),this.nodes.forEach(t6),this.nodes.forEach(n6)):this.nodes.forEach(Lw),this.clearAllSnapshots();const o=kn.now();Kt.delta=Mi(0,1e3/60,o-Kt.timestamp),Kt.timestamp=o,Kt.isProcessing=!0,Up.update.process(Kt),Up.preRender.process(Kt),Up.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s6),this.sharedNodes.forEach(u6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!PN(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Rs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),p6(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Dt();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(m6))){const{scroll:d}=this.root;d&&(so(o.x,d.offset.x),so(o.y,d.offset.y))}return o}removeElementScroll(a){var c;const o=Dt();if(hr(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&hr(o,a),so(o.x,h.offset.x),so(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const c=Dt();hr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ao(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rs(d.latestValues)&&ao(c,d.latestValues)}return Rs(this.latestValues)&&ao(c,this.latestValues),c}removeTransform(a){const o=Dt();hr(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rs(u.latestValues))continue;My(u.latestValues)&&u.updateSnapshot();const d=Dt(),h=u.measurePageBox();hr(d,h),Ew(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rs(this.latestValues)&&Ew(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Kt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),fN(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||My(this.parent.latestValues)||hN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),qh(this.relativeTargetOrigin,o,c),hr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;hr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;DB(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Dt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sw(this.prevProjectionDelta.x,this.projectionDelta.x),Sw(this.prevProjectionDelta.y,this.projectionDelta.y)),dc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oo(),this.projectionDelta=oo(),this.projectionDeltaWithTransform=oo()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Dt(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,v=this.getStack(),g=!v||v.members.length<=1,m=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(h6));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const M=S/1e3;Dw(h.x,a.x,M),Dw(h.y,a.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d6(this.relativeTarget,this.relativeTargetOrigin,f,M),b&&Kz(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Dt()),hr(b,this.relativeTarget)),y&&(this.animationValues=d,Gz(d,u,this.latestValues,M,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=Bz(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&FN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Dt();const h=xn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=xn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}hr(o,c),ao(o,d),dc(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Qz),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&tm("z",a,u,this.animationValues);for(let d=0;d<em.length;d++)tm(`rotate${em[d]}`,a,u,this.animationValues),tm(`skew${em[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=nh(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=nh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Zz(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Sy){if(d[x]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:g}=Sy[x],m=h==="none"?d[x]:y(d[x],u);if(v){const b=v.length;for(let S=0;S<b;S++)a[v[S]]=m}else g?this.options.visualElement.renderState.vars[x]=m:a[x]=m}this.options.layoutId&&(a.pointerEvents=u===this?nh(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Pw),this.root.sharedNodes.clear()}}}function t6(t){t.updateLayout()}function n6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?qn(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],p=xn(f);f.min=r[h].min,f.max=f.min+p}):FN(s,e.layoutBox,r)&&qn(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],p=xn(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const o=oo();dc(o,r,e.layoutBox);const c=oo();a?dc(c,t.applyTransform(i,!0),e.measuredBox):dc(c,r,e.layoutBox);const u=!PN(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Dt();qh(x,e.layoutBox,f.layoutBox);const y=Dt();qh(y,r,p.layoutBox),LN(x,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function r6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function i6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s6(t){t.clearSnapshot()}function Pw(t){t.clearMeasurements()}function Lw(t){t.isLayoutDirty=!1}function a6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o6(t){t.resolveTargetDelta()}function l6(t){t.calcProjection()}function c6(t){t.resetSkewAndRotation()}function u6(t){t.removeLeadSnapshot()}function Dw(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fw(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function d6(t,e,n,r){Fw(t.x,e.x,n.x,r),Fw(t.y,e.y,n.y,r)}function h6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f6={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ow=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:nr;function Bw(t){t.min=Ow(t.min),t.max=Ow(t.max)}function p6(t){Bw(t.x),Bw(t.y)}function FN(t,e,n){return t==="position"||t==="preserve-aspect"&&!wz(Aw(e),Aw(n),.2)}function m6(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const g6=DN({attachResizeListener:(t,e)=>Yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nm={current:void 0},IN=DN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nm.current){const t=new g6({});t.mount(window),t.setOptions({layoutScroll:!0}),nm.current=t}return nm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y6={pan:{Feature:Iz},drag:{Feature:Fz,ProjectionNode:IN,MeasureLayout:kN}};function zw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&lt.postRender(()=>s(e,Mu(e)))}class x6 extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=BO(e,(n,r)=>(zw(this.node,r,"Start"),i=>zw(this.node,i,"End"))))}unmount(){}}class v6 extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bu(Yc(this.node.current,"focus",()=>this.onFocus()),Yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&lt.postRender(()=>s(e,Mu(e)))}class b6 extends Ss{mount(){const{current:e}=this.node;e&&(this.unmount=UO(e,(n,r)=>(Vw(this.node,r,"Start"),(i,{success:s})=>Vw(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jy=new WeakMap,rm=new WeakMap,_6=t=>{const e=jy.get(t.target);e&&e(t)},w6=t=>{t.forEach(_6)};function S6({root:t,...e}){const n=t||document;rm.has(n)||rm.set(n,{});const r=rm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(w6,{root:t,...e})),r[i]}function M6(t,e,n){const r=S6(e);return jy.set(t,n),r.observe(t),()=>{jy.delete(t),r.unobserve(t)}}const C6={some:0,all:1};class E6 extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:C6[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return M6(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(T6(e,n))&&this.startObserver()}unmount(){}}function T6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const N6={inView:{Feature:E6},tap:{Feature:b6},focus:{Feature:v6},hover:{Feature:x6}},k6={layout:{ProjectionNode:IN,MeasureLayout:kN}},A6={...gz,...N6,...y6,...k6},R=PB(A6,WB);function Xh(t){const e=vu(()=>la(t)),{isStatic:n}=_.useContext(Su);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function ON(t,e){const n=Xh(e()),r=()=>n.set(e());return r(),y0(()=>{const i=()=>lt.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Ei(r)}}),n}function j6(t){cc.current=[],t();const e=ON(cc.current,t);return cc.current=void 0,e}function P6(t,e,n,r){if(typeof t=="function")return j6(t);const i=WO(e,n,r);return Array.isArray(t)?Hw(t,i):Hw([t],([s])=>i(s))}function Hw(t,e){const n=vu(()=>[]);return ON(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Uw(t,e={}){const{isStatic:n}=_.useContext(Su),r=()=>Ut(t)?t.get():t;if(n)return P6(r);const i=Xh(r());return _.useInsertionEffect(()=>$O(i,t,e),[i,JSON.stringify(e)]),i}const hc=({mood:t="happy",size:e="md",message:n})=>{const r={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},i=()=>{switch(t){case"excited":return{y:[0,-8,0],rotate:[-3,3,-3]};case"thinking":return{rotate:[0,-5,0]};case"waving":return{rotate:[0,-10,10,-10,0]};default:return{y:[0,-4,0]}}};return l.jsxs("div",{className:"relative flex flex-col items-center",children:[l.jsx(R.div,{className:`${r[e]} relative`,animate:i(),transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:l.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-lg",children:[l.jsx("path",{d:"M50 10 C20 10, 10 45, 10 60 C10 85, 30 95, 50 95 C70 95, 90 85, 90 60 C90 45, 80 10, 50 10",fill:"hsl(var(--card))",stroke:"hsl(var(--foreground))",strokeWidth:"2"}),l.jsx("path",{d:"M15 55 C15 70, 25 90, 50 90 C75 90, 85 70, 85 55 L85 65 C85 80, 70 95, 50 95 C30 95, 15 80, 15 65 Z",fill:"hsl(var(--foreground))"}),l.jsx("ellipse",{cx:"35",cy:"50",rx:"5",ry:"6",fill:"hsl(var(--foreground))"}),l.jsx("ellipse",{cx:"65",cy:"50",rx:"5",ry:"6",fill:"hsl(var(--foreground))"}),l.jsx("circle",{cx:"33",cy:"48",r:"2",fill:"white"}),l.jsx("circle",{cx:"63",cy:"48",r:"2",fill:"white"}),l.jsx("ellipse",{cx:"25",cy:"58",rx:"6",ry:"4",fill:"hsl(var(--kawaii-pink))",opacity:"0.6"}),l.jsx("ellipse",{cx:"75",cy:"58",rx:"6",ry:"4",fill:"hsl(var(--kawaii-pink))",opacity:"0.6"}),t==="happy"&&l.jsx("path",{d:"M45 62 Q50 68, 55 62",fill:"none",stroke:"hsl(var(--foreground))",strokeWidth:"2",strokeLinecap:"round"}),t==="excited"&&l.jsx("ellipse",{cx:"50",cy:"64",rx:"6",ry:"5",fill:"hsl(var(--primary))"}),t==="thinking"&&l.jsx("circle",{cx:"50",cy:"64",r:"3",fill:"hsl(var(--foreground))"}),t==="waving"&&l.jsx("path",{d:"M42 62 Q50 70, 58 62",fill:"none",stroke:"hsl(var(--foreground))",strokeWidth:"2",strokeLinecap:"round"}),l.jsx("ellipse",{cx:"50",cy:"12",rx:"20",ry:"8",fill:"white",stroke:"hsl(var(--foreground))",strokeWidth:"1.5"}),l.jsx("path",{d:"M30 12 Q30 0, 50 0 Q70 0, 70 12",fill:"white",stroke:"hsl(var(--foreground))",strokeWidth:"1.5"})]})}),n&&l.jsx(R.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},className:"absolute -top-2 left-full ml-2 bg-card rounded-2xl rounded-bl-none px-3 py-2 shadow-card max-w-[150px]",children:l.jsx("p",{className:"text-xs font-semibold text-foreground",children:n})})]})};function Gw(t,[e,n]){return Math.min(n,Math.max(e,t))}var L6=_.createContext(void 0);function R6(t){const e=_.useContext(L6);return t||e||"ltr"}var im=0;function D6(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ww()),document.body.insertAdjacentElement("beforeend",t[1]??Ww()),im++,()=>{im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),im--}},[])}function Ww(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sm="focusScope.autoFocusOnMount",am="focusScope.autoFocusOnUnmount",$w={bubbles:!1,cancelable:!0},F6="FocusScope",BN=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=_.useState(null),u=Ar(i),d=Ar(s),h=_.useRef(null),f=Et(e,y=>c(y)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let y=function(b){if(p.paused||!o)return;const S=b.target;o.contains(S)?h.current=S:Hi(h.current,{select:!0})},v=function(b){if(p.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||Hi(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const M of b)M.removedNodes.length>0&&Hi(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const m=new MutationObserver(g);return o&&m.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),m.disconnect()}}},[r,o,p.paused]),_.useEffect(()=>{if(o){Xw.add(p);const y=document.activeElement;if(!o.contains(y)){const g=new CustomEvent(sm,$w);o.addEventListener(sm,u),o.dispatchEvent(g),g.defaultPrevented||(I6(H6(zN(o)),{select:!0}),document.activeElement===y&&Hi(o))}return()=>{o.removeEventListener(sm,u),setTimeout(()=>{const g=new CustomEvent(am,$w);o.addEventListener(am,d),o.dispatchEvent(g),g.defaultPrevented||Hi(y??document.body,{select:!0}),o.removeEventListener(am,d),Xw.remove(p)},0)}}},[o,u,d,p]);const x=_.useCallback(y=>{if(!n&&!r||p.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(v&&g){const m=y.currentTarget,[b,S]=O6(m);b&&S?!y.shiftKey&&g===S?(y.preventDefault(),n&&Hi(b,{select:!0})):y.shiftKey&&g===b&&(y.preventDefault(),n&&Hi(S,{select:!0})):g===m&&y.preventDefault()}},[n,r,p.paused]);return l.jsx(nt.div,{tabIndex:-1,...a,ref:f,onKeyDown:x})});BN.displayName=F6;function I6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hi(r,{select:e}),document.activeElement!==n)return}function O6(t){const e=zN(t),n=qw(e,t),r=qw(e.reverse(),t);return[n,r]}function zN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qw(t,e){for(const n of t)if(!B6(n,{upTo:e}))return n}function B6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function z6(t){return t instanceof HTMLInputElement&&"select"in t}function Hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&z6(t)&&e&&t.select()}}var Xw=V6();function V6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Yw(t,e),t.unshift(e)},remove(e){var n;t=Yw(t,e),(n=t[0])==null||n.resume()}}}function Yw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function H6(t){return t.filter(e=>e.tagName!=="A")}function U6(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var G6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wa=new WeakMap,id=new WeakMap,sd={},om=0,VN=function(t){return t&&(t.host||VN(t.parentNode))},W6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=VN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$6=function(t,e,n,r){var i=W6(e,Array.isArray(t)?t:[t]);sd[n]||(sd[n]=new WeakMap);var s=sd[n],a=[],o=new Set,c=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",y=(wa.get(f)||0)+1,v=(s.get(f)||0)+1;wa.set(f,y),s.set(f,v),a.push(f),y===1&&x&&id.set(f,!0),v===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),o.clear(),om++,function(){a.forEach(function(h){var f=wa.get(h)-1,p=s.get(h)-1;wa.set(h,f),s.set(h,p),f||(id.has(h)||h.removeAttribute(r),id.delete(h)),p||h.removeAttribute(n)}),om--,om||(wa=new WeakMap,wa=new WeakMap,id=new WeakMap,sd={})}},q6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=G6(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),$6(r,i,n,"aria-hidden")):function(){return null}},Gr=function(){return Gr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gr.apply(this,arguments)};function HN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function X6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ih="right-scroll-bar-position",sh="width-before-scroll-bar",Y6="with-scroll-bars-hidden",K6="--removed-body-scroll-bar-size";function lm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Q6(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Z6=typeof window<"u"?_.useLayoutEffect:_.useEffect,Kw=new WeakMap;function J6(t,e){var n=Q6(null,function(r){return t.forEach(function(i){return lm(i,r)})});return Z6(function(){var r=Kw.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||lm(o,null)}),s.forEach(function(o){i.has(o)||lm(o,a)})}Kw.set(n,t)},[t]),n}function eV(t){return t}function tV(t,e){e===void 0&&(e=eV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function nV(t){t===void 0&&(t={});var e=tV(null);return e.options=Gr({async:!0,ssr:!1},t),e}var UN=function(t){var e=t.sideCar,n=HN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Gr({},n))};UN.isSideCarExport=!0;function rV(t,e){return t.useMedium(e),UN}var GN=nV(),cm=function(){},Gf=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:cm,onWheelCapture:cm,onTouchMoveCapture:cm}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,x=t.noIsolation,y=t.inert,v=t.allowPinchZoom,g=t.as,m=g===void 0?"div":g,b=t.gapMode,S=HN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=f,w=J6([n,e]),C=Gr(Gr({},S),i);return _.createElement(_.Fragment,null,d&&_.createElement(M,{sideCar:GN,removeScrollBar:u,shards:h,noRelative:p,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?_.cloneElement(_.Children.only(o),Gr(Gr({},C),{ref:w})):_.createElement(m,Gr({},C,{className:c,ref:w}),o))});Gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gf.classNames={fullWidth:sh,zeroRight:ih};var iV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iV();return e&&t.setAttribute("nonce",e),t}function aV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sV())&&(aV(e,n),oV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cV=function(){var t=lV();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WN=function(){var t=cV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},uV={left:0,top:0,right:0,gap:0},um=function(t){return parseInt(t||"",10)||0},dV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[um(n),um(r),um(i)]},hV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uV;var e=dV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fV=WN(),So="data-scroll-locked",pV=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Y6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ih,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(sh,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(So,`] {
    `).concat(K6,": ").concat(o,`px;
  }
`)},Qw=function(){var t=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(t)?t:0},mV=function(){_.useEffect(function(){return document.body.setAttribute(So,(Qw()+1).toString()),function(){var t=Qw()-1;t<=0?document.body.removeAttribute(So):document.body.setAttribute(So,t.toString())}},[])},gV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;mV();var s=_.useMemo(function(){return hV(i)},[i]);return _.createElement(fV,{styles:pV(s,!e,i,n?"":"!important")})},Py=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return Py=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{Py=!1}var Sa=Py?{passive:!1}:!1,yV=function(t){return t.tagName==="TEXTAREA"},$N=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yV(t)&&n[e]==="visible")},xV=function(t){return $N(t,"overflowY")},vV=function(t){return $N(t,"overflowX")},Zw=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=qN(t,r);if(i){var s=XN(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_V=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qN=function(t,e){return t==="v"?xV(e):vV(e)},XN=function(t,e){return t==="v"?bV(e):_V(e)},wV=function(t,e){return t==="h"&&e==="rtl"?-1:1},SV=function(t,e,n,r,i){var s=wV(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,d=a>0,h=0,f=0;do{if(!o)break;var p=XN(t,o),x=p[0],y=p[1],v=p[2],g=y-v-s*x;(x||g)&&qN(t,o)&&(h+=g,f+=x);var m=o.parentNode;o=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jw=function(t){return[t.deltaX,t.deltaY]},e1=function(t){return t&&"current"in t?t.current:t},MV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},CV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EV=0,Ma=[];function TV(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(EV++)[0],s=_.useState(WN)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=X6([t.lockRef.current],(t.shards||[]).map(e1),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var g=od(y),m=n.current,b="deltaX"in y?y.deltaX:m[0]-g[0],S="deltaY"in y?y.deltaY:m[1]-g[1],M,w=y.target,C=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in y&&C==="h"&&w.type==="range")return!1;var E=Zw(C,w);if(!E)return!0;if(E?M=C:(M=C==="v"?"h":"v",E=Zw(C,w)),!E)return!1;if(!r.current&&"changedTouches"in y&&(b||S)&&(r.current=M),!M)return!0;var N=r.current||M;return SV(N,v,y,N==="h"?b:S,!0)},[]),c=_.useCallback(function(y){var v=y;if(!(!Ma.length||Ma[Ma.length-1]!==s)){var g="deltaY"in v?Jw(v):od(v),m=e.current.filter(function(M){return M.name===v.type&&(M.target===v.target||v.target===M.shadowParent)&&MV(M.delta,g)})[0];if(m&&m.should){v.cancelable&&v.preventDefault();return}if(!m){var b=(a.current.shards||[]).map(e1).filter(Boolean).filter(function(M){return M.contains(v.target)}),S=b.length>0?o(v,b[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(y,v,g,m){var b={name:y,delta:v,target:g,should:m,shadowParent:NV(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),d=_.useCallback(function(y){n.current=od(y),r.current=void 0},[]),h=_.useCallback(function(y){u(y.type,Jw(y),y.target,o(y,t.lockRef.current))},[]),f=_.useCallback(function(y){u(y.type,od(y),y.target,o(y,t.lockRef.current))},[]);_.useEffect(function(){return Ma.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Sa),document.addEventListener("touchmove",c,Sa),document.addEventListener("touchstart",d,Sa),function(){Ma=Ma.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Sa),document.removeEventListener("touchmove",c,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var p=t.removeScrollBar,x=t.inert;return _.createElement(_.Fragment,null,x?_.createElement(s,{styles:CV(i)}):null,p?_.createElement(gV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function NV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kV=rV(GN,TV);var YN=_.forwardRef(function(t,e){return _.createElement(Gf,Gr({},t,{ref:e,sideCar:kV}))});YN.classNames=Gf.classNames;var AV=[" ","Enter","ArrowUp","ArrowDown"],jV=[" ","Enter"],ca="Select",[Wf,$f,PV]=JM(ca),[al,TZ]=cu(ca,[PV,jf]),qf=jf(),[LV,Ms]=al(ca),[RV,DV]=al(ca),KN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:x}=t,y=qf(e),[v,g]=_.useState(null),[m,b]=_.useState(null),[S,M]=_.useState(!1),w=R6(u),[C,E]=Ug({prop:r,defaultProp:i??!1,onChange:s,caller:ca}),[N,L]=Ug({prop:a,defaultProp:o,onChange:c,caller:ca}),F=_.useRef(null),D=v?x||!!v.closest("form"):!0,[k,T]=_.useState(new Set),z=Array.from(k).map(j=>j.props.value).join(";");return l.jsx(_4,{...y,children:l.jsxs(LV,{required:p,scope:e,trigger:v,onTriggerChange:g,valueNode:m,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:M,contentId:e0(),value:N,onValueChange:L,open:C,onOpenChange:E,dir:w,triggerPointerDownPosRef:F,disabled:f,children:[l.jsx(Wf.Provider,{scope:e,children:l.jsx(RV,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(j=>{T(G=>new Set(G).add(j))},[]),onNativeOptionRemove:_.useCallback(j=>{T(G=>{const V=new Set(G);return V.delete(j),V})},[]),children:n})}),D?l.jsxs(bk,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:N,onChange:j=>L(j.target.value),disabled:f,form:x,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},z):null]})})};KN.displayName=ca;var QN="SelectTrigger",ZN=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=qf(n),a=Ms(QN,n),o=a.disabled||r,c=Et(e,a.onTriggerChange),u=$f(n),d=_.useRef("touch"),[h,f,p]=wk(y=>{const v=u().filter(b=>!b.disabled),g=v.find(b=>b.value===a.value),m=Sk(v,y,g);m!==void 0&&a.onValueChange(m.value)}),x=y=>{o||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(vE,{asChild:!0,...s,children:l.jsx(nt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":_k(a.value)?"":void 0,...i,ref:c,onClick:He(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:He(i.onPointerDown,y=>{d.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:He(i.onKeyDown,y=>{const v=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(v&&y.key===" ")&&AV.includes(y.key)&&(x(),y.preventDefault())})})})});ZN.displayName=QN;var JN="SelectValue",ek=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=Ms(JN,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=Et(e,c.onValueNodeChange);return tn(()=>{u(d)},[u,d]),l.jsx(nt.span,{...o,ref:h,style:{pointerEvents:"none"},children:_k(c.value)?l.jsx(l.Fragment,{children:a}):s})});ek.displayName=JN;var FV="SelectIcon",tk=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return l.jsx(nt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});tk.displayName=FV;var IV="SelectPortal",nk=t=>l.jsx($x,{asChild:!0,...t});nk.displayName=IV;var ua="SelectContent",rk=_.forwardRef((t,e)=>{const n=Ms(ua,t.__scopeSelect),[r,i]=_.useState();if(tn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?pa.createPortal(l.jsx(ik,{scope:t.__scopeSelect,children:l.jsx(Wf.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(sk,{...t,ref:e})});rk.displayName=ua;var xr=10,[ik,Cs]=al(ua),OV="SelectContentImpl",BV=Ic("SelectContent.RemoveScroll"),sk=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v,...g}=t,m=Ms(ua,n),[b,S]=_.useState(null),[M,w]=_.useState(null),C=Et(e,J=>S(J)),[E,N]=_.useState(null),[L,F]=_.useState(null),D=$f(n),[k,T]=_.useState(!1),z=_.useRef(!1);_.useEffect(()=>{if(b)return q6(b)},[b]),D6();const j=_.useCallback(J=>{const[de,..._e]=D().map(ee=>ee.ref.current),[be]=_e.slice(-1),ue=document.activeElement;for(const ee of J)if(ee===ue||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===de&&M&&(M.scrollTop=0),ee===be&&M&&(M.scrollTop=M.scrollHeight),ee==null||ee.focus(),document.activeElement!==ue))return},[D,M]),G=_.useCallback(()=>j([E,b]),[j,E,b]);_.useEffect(()=>{k&&G()},[k,G]);const{onOpenChange:V,triggerPointerDownPosRef:U}=m;_.useEffect(()=>{if(b){let J={x:0,y:0};const de=be=>{var ue,ee;J={x:Math.abs(Math.round(be.pageX)-(((ue=U.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ee=U.current)==null?void 0:ee.y)??0))}},_e=be=>{J.x<=10&&J.y<=10?be.preventDefault():b.contains(be.target)||V(!1),document.removeEventListener("pointermove",de),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",_e,{capture:!0})}}},[b,V,U]),_.useEffect(()=>{const J=()=>V(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[V]);const[q,W]=wk(J=>{const de=D().filter(ue=>!ue.disabled),_e=de.find(ue=>ue.ref.current===document.activeElement),be=Sk(de,J,_e);be&&setTimeout(()=>be.ref.current.focus())}),$=_.useCallback((J,de,_e)=>{const be=!z.current&&!_e;(m.value!==void 0&&m.value===de||be)&&(N(J),be&&(z.current=!0))},[m.value]),K=_.useCallback(()=>b==null?void 0:b.focus(),[b]),B=_.useCallback((J,de,_e)=>{const be=!z.current&&!_e;(m.value!==void 0&&m.value===de||be)&&F(J)},[m.value]),Q=r==="popper"?Ly:ak,pe=Q===Ly?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v}:{};return l.jsx(ik,{scope:n,content:b,viewport:M,onViewportChange:w,itemRefCallback:$,selectedItem:E,onItemLeave:K,itemTextRefCallback:B,focusSelectedItem:G,selectedItemText:L,position:r,isPositioned:k,searchRef:q,children:l.jsx(YN,{as:BV,allowPinchZoom:!0,children:l.jsx(BN,{asChild:!0,trapped:m.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:He(i,J=>{var de;(de=m.trigger)==null||de.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Q,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:J=>J.preventDefault(),...g,...pe,onPlaced:()=>T(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:He(g.onKeyDown,J=>{const de=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!de&&J.key.length===1&&W(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let be=D().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(J.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ue=J.target,ee=be.indexOf(ue);be=be.slice(ee+1)}setTimeout(()=>j(be)),J.preventDefault()}})})})})})})});sk.displayName=OV;var zV="SelectItemAlignedPosition",ak=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ms(ua,n),a=Cs(ua,n),[o,c]=_.useState(null),[u,d]=_.useState(null),h=Et(e,C=>d(C)),f=$f(n),p=_.useRef(!1),x=_.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:g,focusSelectedItem:m}=a,b=_.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&y&&v&&g){const C=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),L=g.getBoundingClientRect();if(s.dir!=="rtl"){const ue=L.left-E.left,ee=N.left-ue,le=C.left-ee,ae=C.width+le,ye=Math.max(ae,E.width),oe=window.innerWidth-xr,O=Gw(ee,[xr,Math.max(xr,oe-ye)]);o.style.minWidth=ae+"px",o.style.left=O+"px"}else{const ue=E.right-L.right,ee=window.innerWidth-N.right-ue,le=window.innerWidth-C.right-ee,ae=C.width+le,ye=Math.max(ae,E.width),oe=window.innerWidth-xr,O=Gw(ee,[xr,Math.max(xr,oe-ye)]);o.style.minWidth=ae+"px",o.style.right=O+"px"}const F=f(),D=window.innerHeight-xr*2,k=y.scrollHeight,T=window.getComputedStyle(u),z=parseInt(T.borderTopWidth,10),j=parseInt(T.paddingTop,10),G=parseInt(T.borderBottomWidth,10),V=parseInt(T.paddingBottom,10),U=z+j+k+V+G,q=Math.min(v.offsetHeight*5,U),W=window.getComputedStyle(y),$=parseInt(W.paddingTop,10),K=parseInt(W.paddingBottom,10),B=C.top+C.height/2-xr,Q=D-B,pe=v.offsetHeight/2,J=v.offsetTop+pe,de=z+j+J,_e=U-de;if(de<=B){const ue=F.length>0&&v===F[F.length-1].ref.current;o.style.bottom="0px";const ee=u.clientHeight-y.offsetTop-y.offsetHeight,le=Math.max(Q,pe+(ue?K:0)+ee+G),ae=de+le;o.style.height=ae+"px"}else{const ue=F.length>0&&v===F[0].ref.current;o.style.top="0px";const le=Math.max(B,z+y.offsetTop+(ue?$:0)+pe)+_e;o.style.height=le+"px",y.scrollTop=de-B+y.offsetTop}o.style.margin=`${xr}px 0`,o.style.minHeight=q+"px",o.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,u,y,v,g,s.dir,r]);tn(()=>b(),[b]);const[S,M]=_.useState();tn(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const w=_.useCallback(C=>{C&&x.current===!0&&(b(),m==null||m(),x.current=!1)},[b,m]);return l.jsx(HV,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:w,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(nt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ak.displayName=zV;var VV="SelectPopperPosition",Ly=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xr,...s}=t,a=qf(n);return l.jsx(bE,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ly.displayName=VV;var[HV,W0]=al(ua,{}),Ry="SelectViewport",ok=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Cs(Ry,n),a=W0(Ry,n),o=Et(e,s.onViewportChange),c=_.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Wf.Slot,{scope:n,children:l.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:He(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-xr*2,y=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),g=Math.max(y,v);if(g<x){const m=g+p,b=Math.min(x,m),S=m-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ok.displayName=Ry;var lk="SelectGroup",[UV,GV]=al(lk),WV=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=e0();return l.jsx(UV,{scope:n,id:i,children:l.jsx(nt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});WV.displayName=lk;var ck="SelectLabel",uk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=GV(ck,n);return l.jsx(nt.div,{id:i.id,...r,ref:e})});uk.displayName=ck;var Yh="SelectItem",[$V,dk]=al(Yh),hk=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Ms(Yh,n),c=Cs(Yh,n),u=o.value===r,[d,h]=_.useState(s??""),[f,p]=_.useState(!1),x=Et(e,m=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,m,r,i)}),y=e0(),v=_.useRef("touch"),g=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx($V,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:_.useCallback(m=>{h(b=>b||((m==null?void 0:m.textContent)??"").trim())},[]),children:l.jsx(Wf.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(nt.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:He(a.onFocus,()=>p(!0)),onBlur:He(a.onBlur,()=>p(!1)),onClick:He(a.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:He(a.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:He(a.onPointerDown,m=>{v.current=m.pointerType}),onPointerMove:He(a.onPointerMove,m=>{var b;v.current=m.pointerType,i?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(a.onPointerLeave,m=>{var b;m.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(a.onKeyDown,m=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&m.key===" "||(jV.includes(m.key)&&g(),m.key===" "&&m.preventDefault())})})})})});hk.displayName=Yh;var Wl="SelectItemText",fk=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Ms(Wl,n),o=Cs(Wl,n),c=dk(Wl,n),u=DV(Wl,n),[d,h]=_.useState(null),f=Et(e,g=>h(g),c.onItemTextChange,g=>{var m;return(m=o.itemTextRefCallback)==null?void 0:m.call(o,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=_.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=u;return tn(()=>(y(x),()=>v(x)),[y,v,x]),l.jsxs(l.Fragment,{children:[l.jsx(nt.span,{id:c.textId,...s,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pa.createPortal(s.children,a.valueNode):null]})});fk.displayName=Wl;var pk="SelectItemIndicator",mk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return dk(pk,n).isSelected?l.jsx(nt.span,{"aria-hidden":!0,...r,ref:e}):null});mk.displayName=pk;var Dy="SelectScrollUpButton",gk=_.forwardRef((t,e)=>{const n=Cs(Dy,t.__scopeSelect),r=W0(Dy,t.__scopeSelect),[i,s]=_.useState(!1),a=Et(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(xk,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});gk.displayName=Dy;var Fy="SelectScrollDownButton",yk=_.forwardRef((t,e)=>{const n=Cs(Fy,t.__scopeSelect),r=W0(Fy,t.__scopeSelect),[i,s]=_.useState(!1),a=Et(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(xk,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});yk.displayName=Fy;var xk=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Cs("SelectScrollButton",n),a=_.useRef(null),o=$f(n),c=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),tn(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(nt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:He(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:He(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:He(i.onPointerLeave,()=>{c()})})}),qV="SelectSeparator",vk=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(nt.div,{"aria-hidden":!0,...r,ref:e})});vk.displayName=qV;var Iy="SelectArrow",XV=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qf(n),s=Ms(Iy,n),a=Cs(Iy,n);return s.open&&a.position==="popper"?l.jsx(_E,{...i,...r,ref:e}):null});XV.displayName=Iy;var YV="SelectBubbleInput",bk=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=Et(r,i),a=U6(e);return _.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),l.jsx(nt.select,{...n,style:{...iC,...n.style},ref:s,defaultValue:e})});bk.displayName=YV;function _k(t){return t===""||t===void 0}function wk(t){const e=Ar(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Sk(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=KV(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function KV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QV=KN,Mk=ZN,ZV=ek,JV=tk,e8=nk,Ck=rk,t8=ok,Ek=uk,Tk=hk,n8=fk,r8=mk,Nk=gk,kk=yk,Ak=vk;const i8=QV,s8=ZV,jk=_.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Mk,{ref:r,className:Tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(JV,{asChild:!0,children:l.jsx(jC,{className:"h-4 w-4 opacity-50"})})]}));jk.displayName=Mk.displayName;const Pk=_.forwardRef(({className:t,...e},n)=>l.jsx(Nk,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(mL,{className:"h-4 w-4"})}));Pk.displayName=Nk.displayName;const Lk=_.forwardRef(({className:t,...e},n)=>l.jsx(kk,{ref:n,className:Tt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(jC,{className:"h-4 w-4"})}));Lk.displayName=kk.displayName;const Rk=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>l.jsx(e8,{children:l.jsxs(Ck,{ref:i,className:Tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(Pk,{}),l.jsx(t8,{className:Tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Lk,{})]})}));Rk.displayName=Ck.displayName;const a8=_.forwardRef(({className:t,...e},n)=>l.jsx(Ek,{ref:n,className:Tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));a8.displayName=Ek.displayName;const Dk=_.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Tk,{ref:r,className:Tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(r8,{children:l.jsx(qg,{className:"h-4 w-4"})})}),l.jsx(n8,{children:e})]}));Dk.displayName=Tk.displayName;const o8=_.forwardRef(({className:t,...e},n)=>l.jsx(Ak,{ref:n,className:Tt("-mx-1 my-1 h-px bg-muted",t),...e}));o8.displayName=Ak.displayName;function Oy(){const{i18n:t}=Wn(),e=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"fr",name:"Franais",flag:""},{code:"ja",name:"",flag:""},{code:"hi",name:"",flag:""},{code:"ta",name:"",flag:""},{code:"te",name:"",flag:""}],n=r=>{t.changeLanguage(r),localStorage.setItem("language",r)};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bL,{className:"w-5 h-5 text-primary"}),l.jsxs(i8,{value:t.language,onValueChange:n,children:[l.jsx(jk,{className:"w-[120px]",children:l.jsx(s8,{placeholder:"Language"})}),l.jsx(Rk,{children:e.map(r=>l.jsxs(Dk,{value:r.code,children:[r.flag," ",r.name]},r.code))})]})]})}const l8=({selectedAge:t,onSelect:e})=>{const{t:n}=Wn(),r=[{id:"kids",label:n("cover_page.little_chefs"),ages:n("cover_page.little_chefs_ages"),emoji:"",color:"bg-kawaii-pink",description:n("cover_page.little_chefs_desc")},{id:"tweens",label:n("cover_page.junior_cooks"),ages:n("cover_page.junior_cooks_ages"),emoji:"",color:"bg-kawaii-yellow",description:n("cover_page.junior_cooks_desc")},{id:"teens",label:n("cover_page.teen_chefs"),ages:n("cover_page.teen_chefs_ages"),emoji:"",color:"bg-kawaii-mint",description:n("cover_page.teen_chefs_desc")}];return l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display text-lg font-bold text-center text-foreground",children:n("cover_page.choose_chef_level")}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map((i,s)=>l.jsxs(R.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(i.id),className:`relative overflow-hidden rounded-2xl p-4 text-left transition-all ${t===i.id?"ring-4 ring-primary ring-offset-2 ring-offset-background":"hover:shadow-float"}`,children:[l.jsx("div",{className:`absolute inset-0 ${i.color} opacity-20`}),l.jsxs("div",{className:"relative flex items-center gap-4",children:[l.jsx(R.span,{className:"text-4xl",animate:{rotate:t===i.id?[0,-10,10,0]:0},transition:{duration:.5},children:i.emoji}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-display font-bold text-foreground",children:i.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.ages}),l.jsx("p",{className:"text-xs text-secondary font-semibold mt-1",children:i.description})]}),t===i.id&&l.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground text-lg",children:""})})]})]},i.id))})]})},c8=[{id:"home",icon:_L,label:"Home"},{id:"discover",icon:zC,label:"Discover"},{id:"recipes",icon:du,label:"Recipes"},{id:"achievements",icon:Tf,label:"Badges"},{id:"settings",icon:VC,label:"Settings"},{id:"profile",icon:Zx,label:"Profile"}],u8=({activeTab:t,onTabChange:e})=>l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card/95 backdrop-blur-lg border-t border-border px-2 pb-safe",children:l.jsx("div",{className:"flex items-center justify-around py-2",children:c8.map(n=>{const r=n.icon,i=t===n.id;return l.jsxs(R.button,{whileTap:{scale:.9},onClick:()=>e(n.id),className:"relative flex flex-col items-center gap-1 px-3 py-2",children:[i&&l.jsx(R.div,{layoutId:"activeTab",className:"absolute inset-0 bg-primary/10 rounded-2xl",transition:{type:"spring",bounce:.3,duration:.6}}),l.jsx(r,{className:`w-5 h-5 transition-colors relative z-10 ${i?"text-primary":"text-muted-foreground"}`}),l.jsx("span",{className:`text-xs font-semibold transition-colors relative z-10 ${i?"text-primary":"text-muted-foreground"}`,children:n.label})]},n.id)})})}),d8=({emoji:t,label:e,active:n=!1,onClick:r})=>l.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold transition-all whitespace-nowrap ${n?"bg-primary text-primary-foreground shadow-kawaii":"bg-card text-foreground shadow-card hover:shadow-float"}`,children:[l.jsx("span",{className:"text-lg",children:t}),l.jsx("span",{className:"text-sm",children:e})]}),t1=({name:t,emoji:e,category:n,benefits:r,funFact:i,color:s,onClick:a})=>{const{canEatFood:o}=If(),c=o(t);return l.jsxs(R.div,{whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},onClick:a,className:`bg-card rounded-3xl shadow-card overflow-hidden cursor-pointer ${c?"":"opacity-60 relative"}`,children:[!c&&l.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 z-10",children:l.jsx(Qo,{className:"w-4 h-4"})}),l.jsx("div",{className:`${s} p-4 flex items-center justify-center`,children:l.jsx(R.span,{className:"text-5xl",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:e})}),l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-display font-bold text-foreground",children:t}),l.jsx("span",{className:"text-xs bg-secondary/20 text-secondary px-2 py-1 rounded-full font-semibold",children:n})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:r.slice(0,2).map((u,d)=>l.jsx("span",{className:"text-xs bg-kawaii-mint/30 text-foreground px-2 py-0.5 rounded-full",children:u},d))}),i&&l.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",i]})]})]})},h8=t=>({easy:{label:t("recipes_section.difficulty_easy"),stars:1,color:"text-secondary"},medium:{label:t("recipes_section.difficulty_medium"),stars:2,color:"text-kawaii-yellow"},challenging:{label:t("recipes_section.difficulty_hard"),stars:3,color:"text-primary"}}),n1=({title:t,i18nKey:e,emoji:n,time:r,difficulty:i,servings:s,ageGroup:a,ingredients:o=[],onClick:c})=>{const{t:u}=Wn(),{canEat:d}=If(),h=h8(u)[i],f=d(o),p=e?u(e):t;return l.jsxs(R.div,{whileHover:{y:-4},whileTap:{scale:.98},onClick:c,className:`bg-card rounded-3xl shadow-card overflow-hidden cursor-pointer ${f?"":"opacity-60 relative"}`,children:[!f&&l.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white rounded-full p-1 z-10",children:l.jsx(Qo,{className:"w-4 h-4"})}),l.jsxs("div",{className:"bg-gradient-to-br from-kawaii-yellow/40 to-primary/30 p-6 flex items-center justify-center relative",children:[l.jsx(R.span,{className:"text-6xl",animate:{rotate:[-5,5,-5]},transition:{duration:3,repeat:1/0},children:n}),l.jsx("span",{className:"absolute top-2 right-2 text-xs bg-card/90 backdrop-blur px-2 py-1 rounded-full font-semibold text-foreground",children:a})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx("h4",{className:"font-display font-bold text-lg text-foreground leading-tight",children:p}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Xg,{className:"w-4 h-4"}),l.jsx("span",{children:r})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(sa,{className:"w-4 h-4"}),l.jsx("span",{children:s})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-1",children:[...Array(3)].map((x,y)=>l.jsx(ma,{className:`w-4 h-4 ${y<h.stars?`${h.color} fill-current`:"text-muted"}`},y))}),l.jsx("span",{className:`text-xs font-semibold ${h.color}`,children:h.label})]})]})]})},f8=({fact:t,title:e="Did You Know?",onDismiss:n})=>l.jsxs(R.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"bg-gradient-to-r from-yellow-100 to-amber-100 rounded-3xl p-4 relative overflow-hidden border-2 border-yellow-300 shadow-sm",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-kawaii-yellow/30 rounded-full blur-2xl"}),l.jsxs("div",{className:"relative flex gap-3",children:[l.jsx(R.div,{animate:{rotate:[0,-10,10,0]},transition:{duration:2,repeat:1/0},className:"w-10 h-10 bg-kawaii-yellow rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(wL,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-display font-bold text-sm text-foreground mb-1",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t})]}),n&&l.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 hover:bg-foreground/10 rounded-full transition-colors",children:l.jsx(fu,{className:"w-4 h-4 text-muted-foreground"})})]})]}),p8=({title:t,emoji:e,description:n,unlocked:r=!1,progress:i=0})=>l.jsxs(R.div,{whileHover:{scale:1.05},whileTap:{scale:.98},className:`relative bg-card rounded-3xl p-4 shadow-card overflow-hidden ${!r&&"opacity-75"}`,children:[!r&&l.jsx("div",{className:"absolute inset-0 bg-muted/50 backdrop-blur-[1px] flex items-center justify-center z-10",children:l.jsx("div",{className:"bg-foreground/10 rounded-full p-2",children:l.jsx(ia,{className:"w-5 h-5 text-muted-foreground"})})}),l.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[l.jsx(R.div,{animate:r?{y:[0,-5,0],rotate:[-5,5,-5]}:{},transition:{duration:2,repeat:1/0},className:`w-16 h-16 rounded-full flex items-center justify-center ${r?"bg-gradient-to-br from-kawaii-yellow to-primary":"bg-muted"}`,children:l.jsx("span",{className:"text-3xl",children:e})}),l.jsx("h4",{className:"font-display font-bold text-foreground text-sm",children:t}),l.jsx("p",{className:"text-xs text-muted-foreground",children:n}),!r&&i>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-1",children:l.jsx(R.div,{initial:{width:0},animate:{width:`${i}%`},className:"bg-secondary h-full rounded-full"})})]})]}),Ct={tanjiro:{id:"tanjiro",name:"Tanjiro Kamado",description:"Demon slayer with passionate heart",anime:"Demon Slayer",personality:"Compassionate, Strong-willed, Brave",imageUrl:"https://th.bing.com/th/id/OIP.77HZbV1ATaLoFRz0zQdeeAHaEK?w=331&h=186&c=7&r=0&o=7&cb=ucfimg2&dpr=2.2&pid=1.7&rm=3&ucfimg=1"},deku:{id:"deku",name:"Izuku Midoriya",description:"Hero-in-training with endless potential",anime:"My Hero Academia",personality:"Determined, Kind, Analytical",color:"#D81828",emoji:"",imageUrl:"https://wallpaperaccess.com/full/1082853.jpg",position:{x:0,y:0,z:0}},eren:{id:"eren",name:"Eren Yeager",description:"Tactical fighter with tactical mind",anime:"Attack on Titan",personality:"Strategic, Brave, Determined",color:"#2D5016",emoji:"",imageUrl:"https://th.bing.com/th/id/OIP.6sINk4Z-yOK480J6XO1AswHaDt?w=323&h=175&c=7&r=0&o=7&cb=ucfimg2&dpr=2.2&pid=1.7&rm=3&ucfimg=1",position:{x:0,y:0,z:0}},yuji:{id:"yuji",name:"Yuji Itadori",description:"Sorcerer with mystical powers",anime:"Jujutsu Kaisen",personality:"Confident, Powerful, Determined",color:"#8B3A8B",emoji:"",imageUrl:"https://th.bing.com/th/id/OIP.J3nL3QT6QkfLqhzH-Rw26QHaHZ?w=207&h=206&c=7&r=0&o=7&cb=ucfimg2&dpr=2.2&pid=1.7&rm=3&ucfimg=1",position:{x:0,y:0,z:0}},ninrir:{id:"ninrir",name:"Ninrir",description:"Outdoor chef with campfire mastery",anime:"Campfire Cooking in Another World with My Portable Oven",personality:"Adventurous, Warm-hearted, Creative",color:"#D2691E",emoji:"",imageUrl:"https://th.bing.com/th/id/OIP.W_MdzuxjRECUf1pClsh-TgAAAA?w=167&h=180&c=7&r=0&o=7&dpr=2.2&pid=1.7&rm=3",position:{x:0,y:0,z:0}},yor:{id:"yor",name:"Yor Forger",description:"Elegant assassin with a caring heart",anime:"Spy x Family",personality:"Compassionate, Graceful, Protective",color:"#E91E63",emoji:"",imageUrl:"https://th.bing.com/th/id/OIP.7dV0ENgKMroHO_qbW0YDtgHaHS?w=201&h=199&c=7&r=0&o=7&dpr=2.2&pid=1.7&rm=3",position:{x:0,y:0,z:0}}},m8=t=>({easy:{label:t("recipes_section.difficulty_easy"),stars:1,color:"text-secondary"},medium:{label:t("recipes_section.difficulty_medium"),stars:2,color:"text-kawaii-yellow"},challenging:{label:t("recipes_section.difficulty_hard"),stars:3,color:"text-primary"}}),g8=({recipe:t,ageGroup:e,characterGuide:n,onBack:r})=>{const{t:i}=Wn(),[s,a]=_.useState([]),[o,c]=_.useState(null),[u,d]=_.useState(0),h=m8(i)[t.difficulty],f=n?Ct[n]:Ct.deku;_.useEffect(()=>{if(o!==null&&u>0){const v=setInterval(()=>{d(g=>g<=1?(c(null),0):g-1)},1e3);return()=>clearInterval(v)}},[o,u]);const p=v=>{a(g=>g.includes(v)?g.filter(m=>m!==v):[...g,v])},x=v=>{c(v),d(v*60)},y=s.length/t.steps.length*100;return l.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b border-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(R.button,{whileTap:{scale:.9},onClick:r,className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(zo,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e," Recipe"]}),l.jsx("h2",{className:"font-display font-bold text-foreground truncate",children:t.title})]})]})}),l.jsx("div",{className:"bg-gradient-to-br from-kawaii-yellow/40 to-primary/30 p-8 flex items-center justify-center",children:l.jsx(R.span,{className:"text-8xl",animate:{rotate:[-5,5,-5],y:[0,-10,0]},transition:{duration:3,repeat:1/0},children:t.emoji})}),l.jsxs("main",{className:"px-4 py-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"font-display text-2xl font-bold text-foreground mb-3",children:t.title}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5 bg-muted px-3 py-1.5 rounded-full",children:[l.jsx(Xg,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm font-medium text-foreground",children:t.time})]}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-muted px-3 py-1.5 rounded-full",children:[l.jsx(sa,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm font-medium text-foreground",children:[t.servings," servings"]})]}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-muted px-3 py-1.5 rounded-full",children:[[...Array(3)].map((v,g)=>l.jsx(ma,{className:`w-4 h-4 ${g<h.stars?`${h.color} fill-current`:"text-muted"}`},g)),l.jsx("span",{className:`text-sm font-medium ${h.color}`,children:h.label})]})]})]}),l.jsxs("div",{className:"bg-card rounded-2xl p-4 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Your Progress"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.length,"/",t.steps.length," steps"]})]}),l.jsx("div",{className:"bg-muted rounded-full h-3 overflow-hidden",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-secondary to-primary rounded-full",initial:{width:0},animate:{width:`${y}%`},transition:{duration:.5}})}),y===100&&l.jsx(R.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center mt-3 text-secondary font-semibold",children:" Amazing! You completed the recipe!"})]}),l.jsxs("div",{className:"bg-card rounded-3xl p-5 shadow-card",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:"What You Need"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.ingredients.map((v,g)=>l.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.05},className:"flex items-center gap-2 bg-muted/50 rounded-xl px-3 py-2",children:[l.jsx("span",{className:"w-2 h-2 bg-secondary rounded-full"}),l.jsx("span",{className:"text-sm text-foreground",children:v})]},g))})]}),l.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/20 to-secondary/20 rounded-2xl p-4 border border-primary/20",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-4xl flex-shrink-0",children:f.emoji}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"font-display font-bold text-foreground",children:[f.name,"'s Tip"]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:['"',f.personality,' - Pro tip: Take your time with each step and have fun!"']})]})]})}),t.nutritionFacts&&l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card rounded-2xl p-4 shadow-card border border-border",children:[l.jsx("p",{className:"font-display font-bold text-foreground mb-2",children:" Nutrition Facts"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.nutritionFacts})]}),t.culturalOrigin&&l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-card rounded-2xl p-4 shadow-card border border-border",children:[l.jsx("p",{className:"font-display font-bold text-foreground mb-2",children:" Cultural Origin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.culturalOrigin})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(AC,{className:"w-6 h-6 text-primary"}),l.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:"Let's Cook!"})]}),l.jsx("div",{className:"space-y-3",children:t.steps.map((v,g)=>{const m=s.includes(g),b=v.toLowerCase().includes("min")||v.toLowerCase().includes("hour");return l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`bg-card rounded-2xl p-4 shadow-card transition-all ${m?"ring-2 ring-secondary":""}`,children:[l.jsxs("div",{className:"flex gap-3 mb-3",children:[l.jsx("button",{onClick:()=>p(g),className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-colors ${m?"bg-secondary text-secondary-foreground":"bg-primary/10 text-primary"}`,children:m?l.jsx(Cf,{className:"w-5 h-5"}):l.jsx("span",{className:"font-display font-bold",children:g+1})}),l.jsx("p",{className:`text-sm leading-relaxed flex-1 ${m?"text-muted-foreground line-through":"text-foreground"}`,children:v})]}),b&&l.jsx("div",{className:"ml-11 space-y-2",children:o===g?l.jsxs(R.div,{initial:{scale:.8},animate:{scale:1},className:"bg-primary/20 rounded-lg p-3 text-center",children:[l.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Step ",g+1," Timer"]}),l.jsxs("p",{className:"font-display font-bold text-2xl text-primary",children:[Math.floor(u/60),":",String(u%60).padStart(2,"0")]}),l.jsx("button",{onClick:()=>c(null),className:"mt-2 text-xs bg-primary text-primary-foreground px-3 py-1 rounded hover:bg-primary/90",children:"Stop"})]}):l.jsxs("button",{onClick:()=>x(3),className:"text-xs bg-primary/20 hover:bg-primary/30 text-primary px-3 py-2 rounded transition-colors flex items-center gap-2 w-full justify-center",children:[l.jsx(Xg,{className:"w-4 h-4"}),"Set 3-min Timer"]})})]},g)})})]}),l.jsx("div",{className:"bg-accent/10 rounded-3xl p-4 border-2 border-dashed border-accent",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-display font-bold text-foreground text-sm mb-1",children:"Safety First!"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Always ask an adult for help when using sharp knives, the stove, or the oven. Cooking is more fun when everyone stays safe!"})]})]})})]})]})},y8=t=>({sunny:[{food:t("weather_section.watermelon"),emoji:"",reason:t("weather_section.sunny"),recipe:"Watermelon Pops"},{food:t("weather_section.ice_cream"),emoji:"",reason:"A refreshing treat!",recipe:"Frozen Yogurt Bites"},{food:t("weather_section.salad"),emoji:"",reason:"Light and fresh!",recipe:"Rainbow Salad"}],cloudy:[{food:t("weather_section.sandwich"),emoji:"",reason:t("weather_section.cloudy"),recipe:"Veggie Club"},{food:t("weather_section.smoothie"),emoji:"",reason:"Boost your energy!",recipe:"Berry Blast Smoothie"},{food:t("weather_section.pasta"),emoji:"",reason:"Comfort food time!",recipe:"Veggie Pasta"}],rainy:[{food:t("weather_section.hot_soup"),emoji:"",reason:t("weather_section.rainy"),recipe:"Vegetable Soup"},{food:t("weather_section.hot_cocoa"),emoji:"",reason:"Cozy drink for rainy days!",recipe:"Healthy Hot Cocoa"},{food:t("weather_section.grilled_cheese"),emoji:"",reason:"Ultimate comfort food!",recipe:"Cheesy Delight"}],snowy:[{food:t("weather_section.hot_oatmeal"),emoji:"",reason:t("weather_section.snowy"),recipe:"Apple Cinnamon Oatmeal"},{food:"Stew",emoji:"",reason:"Hearty and warming!",recipe:"Veggie Stew"},{food:t("weather_section.baked_potato"),emoji:"",reason:"Filling and delicious!",recipe:"Loaded Baked Potato"}],windy:[{food:t("weather_section.energy_bars"),emoji:"",reason:t("weather_section.windy"),recipe:"Homemade Granola Bars"},{food:t("weather_section.warm_milk"),emoji:"",reason:"Soothing and nutritious!",recipe:"Golden Milk"},{food:t("weather_section.rice_bowl"),emoji:"",reason:"Filling and grounding!",recipe:"Teriyaki Rice Bowl"}]}),x8={sunny:jL,cloudy:xL,rainy:yL,snowy:AL,windy:BL},v8={sunny:"from-kawaii-yellow to-primary",cloudy:"from-muted to-kawaii-blue/50",rainy:"from-kawaii-blue to-kawaii-purple",snowy:"from-white to-kawaii-blue/30",windy:"from-kawaii-mint to-kawaii-blue"},b8=()=>{const{t}=Wn(),[e,n]=_.useState(null),[r,i]=_.useState(!0),[s,a]=_.useState(null);if(_.useEffect(()=>{(async()=>{i(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(h=>{const f=new Date().getHours();let p;f>=6&&f<18?p=Math.random()>.5?"sunny":"cloudy":p=Math.random()>.7?"rainy":"cloudy";const x=20-Math.abs(h.coords.latitude-40)*.5,y=Math.round(x+(Math.random()*10-5));y<5&&(p="snowy"),y>30&&(p="sunny"),n({condition:p,temperature:y,location:"Your Area",country:"Local"}),i(!1)},()=>{n({condition:"sunny",temperature:22,location:"Unknown",country:"World"}),i(!1)}):(n({condition:"sunny",temperature:22,location:"Unknown",country:"World"}),i(!1))})()},[]),r)return l.jsx("div",{className:"bg-card rounded-3xl p-6 shadow-card animate-pulse",children:l.jsx("div",{className:"h-20 bg-muted rounded-xl"})});if(!e)return null;const o=x8[e.condition],u=y8(t)[e.condition];return l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs("div",{className:`bg-gradient-to-br ${v8[e.condition]} rounded-3xl p-5 relative overflow-hidden`,children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full blur-3xl"}),l.jsxs("div",{className:"relative flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 text-foreground/70 text-sm mb-1",children:[l.jsx(IC,{className:"w-4 h-4"}),l.jsx("span",{children:e.location})]}),l.jsxs("p",{className:"font-display text-3xl font-bold text-foreground",children:[e.temperature,"C"]}),l.jsx("p",{className:"text-foreground/80 capitalize font-medium",children:e.condition})]}),l.jsx(R.div,{animate:{y:[0,-5,0],rotate:e.condition==="windy"?[0,10,-10,0]:0},transition:{duration:3,repeat:1/0},children:l.jsx(o,{className:"w-16 h-16 text-foreground/80"})})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-display font-bold text-foreground mb-3",children:[" ",t("weather_section.title")]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map((d,h)=>l.jsxs(R.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(d),className:`bg-card rounded-2xl p-3 shadow-card text-center ${(s==null?void 0:s.food)===d.food?"ring-2 ring-primary":""}`,children:[l.jsx(R.span,{className:"text-3xl block mb-1",animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0,delay:h*.2},children:d.emoji}),l.jsx("p",{className:"text-xs font-semibold text-foreground",children:d.food})]},h))})]}),s&&l.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-secondary/10 rounded-2xl p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-4xl",children:s.emoji}),l.jsxs("div",{children:[l.jsx("p",{className:"font-display font-bold text-foreground",children:s.food}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s.reason}),s.recipe&&l.jsxs("p",{className:"text-xs text-secondary font-semibold mt-1",children:["Try: ",s.recipe]})]})]})})]})},ld=[{emoji:"",name:"Apple"},{emoji:"",name:"Carrot"},{emoji:"",name:"Banana"},{emoji:"",name:"Broccoli"},{emoji:"",name:"Grapes"},{emoji:"",name:"Avocado"}],_8=({onComplete:t,onBack:e})=>{const[n,r]=_.useState([]),[i,s]=_.useState([]),[a,o]=_.useState(0),[c,u]=_.useState(0),[d,h]=_.useState(!1),[f,p]=_.useState(3);_.useEffect(()=>{x()},[]);const x=()=>{const v=[...ld,...ld].sort(()=>Math.random()-.5).map((g,m)=>({id:m,emoji:g.emoji,name:g.name,isFlipped:!1,isMatched:!1}));r(v),s([]),o(0),u(0),h(!1),p(3)},y=v=>{if(i.length===2||n[v].isFlipped||n[v].isMatched)return;const g=[...n];g[v].isFlipped=!0,r(g);const m=[...i,v];if(s(m),m.length===2){o(M=>M+1);const[b,S]=m;n[b].emoji===n[S].emoji?setTimeout(()=>{const M=[...n];if(M[b].isMatched=!0,M[S].isMatched=!0,r(M),u(w=>w+1),s([]),c+1===ld.length){h(!0);const w=a<8?3:a<12?2:1;p(w),t==null||t(w*10)}},500):setTimeout(()=>{const M=[...n];M[b].isFlipped=!1,M[S].isFlipped=!1,r(M),s([])},1e3)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:" Back"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm font-semibold text-muted-foreground",children:["Moves: ",a]}),l.jsx("button",{onClick:x,className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(TL,{className:"w-5 h-5 text-muted-foreground"})})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"font-display text-2xl font-bold text-foreground",children:" Food Match!"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Find all the matching food pairs!"})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:n.map(v=>l.jsx(R.button,{onClick:()=>y(v.id),whileHover:{scale:v.isMatched?1:1.05},whileTap:{scale:.95},className:`aspect-square rounded-xl relative ${v.isMatched?"opacity-50":""}`,disabled:v.isMatched,children:l.jsxs(R.div,{animate:{rotateY:v.isFlipped||v.isMatched?180:0},transition:{duration:.3},className:"w-full h-full",style:{transformStyle:"preserve-3d"},children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center ${v.isFlipped||v.isMatched?"invisible":""}`,style:{backfaceVisibility:"hidden"},children:l.jsx("span",{className:"text-2xl text-primary-foreground",children:"?"})}),l.jsx("div",{className:`absolute inset-0 bg-card rounded-xl shadow-card flex items-center justify-center ${v.isFlipped||v.isMatched?"":"invisible"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:l.jsx("span",{className:"text-3xl",children:v.emoji})})]})},v.id))}),l.jsx("div",{className:"bg-muted rounded-full h-3",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-secondary to-primary rounded-full",initial:{width:0},animate:{width:`${c/ld.length*100}%`}})}),l.jsx(sr,{children:d&&l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-foreground/50 flex items-center justify-center z-50 p-4",children:l.jsxs(R.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-card rounded-3xl p-6 max-w-sm w-full text-center shadow-float",children:[l.jsx(R.div,{animate:{rotate:[0,-10,10,0],y:[0,-10,0]},transition:{duration:1,repeat:1/0},children:l.jsx(Tf,{className:"w-16 h-16 text-kawaii-yellow mx-auto mb-4"})}),l.jsx("h3",{className:"font-display text-2xl font-bold text-foreground mb-2",children:"Amazing! "}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["You matched all foods in ",a," moves!"]}),l.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(3)].map((v,g)=>l.jsx(ma,{className:`w-8 h-8 ${g<f?"text-kawaii-yellow fill-kawaii-yellow":"text-muted"}`},g))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:x,className:"flex-1 bg-secondary text-secondary-foreground py-3 rounded-xl font-bold",children:"Play Again"}),l.jsx("button",{onClick:e,className:"flex-1 bg-primary text-primary-foreground py-3 rounded-xl font-bold",children:"Done"})]})]})})})]})},si=[{question:"Which vitamin is carrots famous for?",emoji:"",options:["Vitamin A","Vitamin C","Vitamin D","Vitamin B"],correct:0,funFact:"Vitamin A helps your eyes see better, especially at night!"},{question:"Which fruit floats in water?",emoji:"",options:["Grapes","Banana","Apple","Orange"],correct:2,funFact:"Apples float because they're 25% air!"},{question:"What color were carrots originally?",emoji:"",options:["Orange","Purple","Green","Yellow"],correct:1,funFact:"Carrots were originally purple! Orange carrots were created in the 1600s."},{question:"Which food gives you the most energy for sports?",emoji:"",options:["Candy","Banana","Soda","Chips"],correct:1,funFact:"Bananas have natural sugars and potassium - perfect for energy!"},{question:"What percent of a watermelon is water?",emoji:"",options:["50%","70%","92%","30%"],correct:2,funFact:"Watermelons are 92% water - great for staying hydrated!"},{question:"Which vegetable is actually a flower?",emoji:"",options:["Carrot","Potato","Broccoli","Spinach"],correct:2,funFact:"Broccoli is a flower that hasn't bloomed yet!"},{question:"How many types of cheese exist in the world?",emoji:"",options:["About 100","About 500","Over 2000","About 50"],correct:2,funFact:"There are over 2,000 varieties of cheese worldwide!"},{question:"Which food helps build strong bones?",emoji:"",options:["Candy","Milk","Soda","Chips"],correct:1,funFact:"Milk has calcium which makes your bones and teeth super strong!"}],w8=({onComplete:t,onBack:e,ageGroup:n})=>{const[r,i]=_.useState(0),[s,a]=_.useState(null),[o,c]=_.useState(0),[u,d]=_.useState(!1),[h,f]=_.useState(!1),[p,x]=_.useState(0),y=si[r],v=s===y.correct,g=M=>{s===null&&(a(M),d(!0),M===y.correct?(c(w=>w+10+p*2),x(w=>w+1)):x(0))},m=()=>{r<si.length-1?(i(M=>M+1),a(null),d(!1)):(f(!0),t==null||t(o))},b=()=>{i(0),a(null),d(!1),c(0),x(0),f(!1)},S=()=>{const M=o/(si.length*10);return M>=.8?3:M>=.5?2:1};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:" Back"}),l.jsxs("div",{className:"flex items-center gap-3",children:[p>1&&l.jsxs(R.span,{initial:{scale:0},animate:{scale:1},className:"text-sm font-bold text-primary",children:[" ",p," streak!"]}),l.jsxs("span",{className:"bg-kawaii-yellow/30 px-3 py-1 rounded-full text-sm font-bold",children:[" ",o]})]})]}),h?l.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-3xl p-6 shadow-card text-center",children:[l.jsx(R.span,{className:"text-6xl block mb-4",animate:{rotate:[0,-10,10,0],y:[0,-10,0]},transition:{duration:1.5,repeat:1/0},children:""}),l.jsx("h3",{className:"font-display text-2xl font-bold text-foreground mb-2",children:"Quiz Complete!"}),l.jsxs("p",{className:"text-4xl font-display font-bold text-primary mb-4",children:[o," points"]}),l.jsx("div",{className:"flex justify-center gap-1 mb-6",children:[...Array(3)].map((M,w)=>l.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:w*.2},children:l.jsx(ma,{className:`w-10 h-10 ${w<S()?"text-kawaii-yellow fill-kawaii-yellow":"text-muted"}`})},w))}),l.jsxs("p",{className:"text-muted-foreground mb-6",children:["You got ",Math.round(o/(si.length*10)*si.length)," out of ",si.length," correct!"]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:b,className:"flex-1 bg-secondary text-secondary-foreground py-3 rounded-xl font-bold",children:"Play Again"}),l.jsx("button",{onClick:e,className:"flex-1 bg-primary text-primary-foreground py-3 rounded-xl font-bold",children:"Done"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"flex justify-between text-sm text-muted-foreground",children:l.jsxs("span",{children:["Question ",r+1,"/",si.length]})}),l.jsx("div",{className:"bg-muted rounded-full h-2",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-secondary to-primary rounded-full",animate:{width:`${(r+1)/si.length*100}%`}})})]}),l.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-card rounded-3xl p-6 shadow-card",children:[l.jsx(R.span,{className:"text-6xl block text-center mb-4",animate:{y:[0,-10,0],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0},children:y.emoji}),l.jsx("h3",{className:"font-display text-xl font-bold text-center text-foreground mb-6",children:y.question}),l.jsx("div",{className:"space-y-2",children:y.options.map((M,w)=>{let C="bg-muted hover:bg-muted/80";return u?w===y.correct?C="bg-secondary/30 ring-2 ring-secondary":w===s&&!v&&(C="bg-destructive/30 ring-2 ring-destructive"):s===w&&(C="bg-primary/20 ring-2 ring-primary"),l.jsx(R.button,{whileHover:{scale:u?1:1.02},whileTap:{scale:.98},onClick:()=>g(w),disabled:u,className:`w-full p-4 rounded-2xl text-left font-semibold transition-all ${C}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-foreground",children:M}),u&&w===y.correct&&l.jsx(Cf,{className:"w-5 h-5 text-secondary"}),u&&w===s&&!v&&l.jsx(gL,{className:"w-5 h-5 text-destructive"})]})},w)})})]},r),l.jsx(sr,{children:u&&l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-3",children:[l.jsxs("div",{className:`rounded-2xl p-4 ${v?"bg-secondary/20":"bg-accent/20"}`,children:[l.jsx("p",{className:"font-display font-bold text-foreground mb-1",children:v?" Correct!":" Not quite!"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",y.funFact]})]}),l.jsx("button",{onClick:m,className:"w-full bg-primary text-primary-foreground py-3 rounded-2xl font-bold flex items-center justify-center gap-2",children:r<si.length-1?l.jsxs(l.Fragment,{children:["Next Question ",l.jsx(NC,{className:"w-5 h-5"})]}):"See Results"})]})})]})]})},S8=["","","","","","","",""],M8=["","","","",""],C8=({onComplete:t,onBack:e})=>{const[n,r]=_.useState([]),[i,s]=_.useState(50),[a,o]=_.useState(0),[c,u]=_.useState(3),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[x,y]=_.useState(0),v=_.useCallback(()=>{if(f||d)return;const b=Math.random()>.3,S=b?S8:M8,M={id:Date.now(),emoji:S[Math.floor(Math.random()*S.length)],x:Math.random()*80+10,y:0,isGood:b,speed:2+Math.random()*2+a/50};r(w=>[...w,M])},[f,d,a]);_.useEffect(()=>{const b=setInterval(v,1500-Math.min(a*10,800));return()=>clearInterval(b)},[v,a]),_.useEffect(()=>{if(f||d)return;const b=setInterval(()=>{r(S=>{const M=S.map(w=>({...w,y:w.y+w.speed}));return M.forEach(w=>{w.y>85&&w.y<95?Math.abs(w.x-i)<15&&(w.isGood?o(E=>E+10):u(E=>Math.max(0,E-1)),w.y=200):w.y>100&&w.isGood&&u(C=>Math.max(0,C-1))}),M.filter(w=>w.y<110)})},50);return()=>clearInterval(b)},[i,f,d]),_.useEffect(()=>{c<=0&&!d&&(h(!0),a>x&&y(a),t==null||t(a))},[c,d,a,x,t]);const g=b=>{if(f||d)return;const S=b.currentTarget.getBoundingClientRect(),w=(("touches"in b?b.touches[0].clientX:b.clientX)-S.left)/S.width*100;s(Math.max(10,Math.min(90,w)))},m=()=>{r([]),o(0),u(3),h(!1),p(!1)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:" Back"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex items-center gap-1",children:[...Array(3)].map((b,S)=>l.jsx(Ef,{className:`w-5 h-5 ${S<c?"text-accent fill-accent":"text-muted"}`},S))}),l.jsx("button",{onClick:()=>p(!f),className:"p-2 bg-muted rounded-full",children:f?l.jsx(Qx,{className:"w-4 h-4"}):l.jsx(EL,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"font-display text-3xl font-bold text-foreground",children:[l.jsx(ma,{className:"w-6 h-6 inline text-kawaii-yellow fill-kawaii-yellow"})," ",a]})}),l.jsxs("div",{className:"relative bg-gradient-to-b from-kawaii-blue/30 to-kawaii-mint/30 rounded-3xl h-80 overflow-hidden touch-none",onMouseMove:g,onTouchMove:g,children:[l.jsx("div",{className:"absolute top-2 left-0 right-0 text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Catch  | Avoid "})}),l.jsx(sr,{children:n.map(b=>l.jsx(R.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute text-4xl",style:{left:`${b.x}%`,top:`${b.y}%`,transform:"translate(-50%, -50%)"},children:b.emoji},b.id))}),l.jsx(R.div,{className:"absolute bottom-4 text-5xl",animate:{left:`${i}%`},transition:{type:"spring",stiffness:300,damping:30},style:{transform:"translateX(-50%)"},children:""}),f&&!d&&l.jsx("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-display text-2xl font-bold text-foreground",children:"Paused"}),l.jsx("button",{onClick:()=>p(!1),className:"mt-4 bg-primary text-primary-foreground px-6 py-2 rounded-full font-bold",children:"Resume"})]})}),d&&l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-background/90 flex items-center justify-center",children:l.jsxs("div",{className:"text-center p-6",children:[l.jsx(R.span,{className:"text-6xl block mb-4",animate:{rotate:[0,-10,10,0]},transition:{duration:.5,repeat:3},children:a>=100?"":a>=50?"":""}),l.jsx("h3",{className:"font-display text-2xl font-bold text-foreground mb-2",children:"Game Over!"}),l.jsxs("p",{className:"text-4xl font-display font-bold text-primary mb-1",children:[a," points"]}),a>=x&&a>0&&l.jsx("p",{className:"text-sm text-kawaii-yellow font-bold mb-4",children:" New High Score!"}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Best: ",x]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:m,className:"bg-secondary text-secondary-foreground px-6 py-2 rounded-xl font-bold",children:"Try Again"}),l.jsx("button",{onClick:e,className:"bg-primary text-primary-foreground px-6 py-2 rounded-xl font-bold",children:"Exit"})]})]})})]}),l.jsx("div",{className:"bg-kawaii-yellow/20 rounded-2xl p-3 text-center",children:l.jsxs("p",{className:"text-sm text-foreground",children:[" ",l.jsx("strong",{children:"Tip:"})," Healthy foods give you energy to play and learn!"]})})]})},E8=[{id:"match",title:"Food Match",emoji:"",description:"Find matching food pairs!",icon:RC,color:"from-kawaii-pink to-accent",difficulty:"Easy"},{id:"quiz",title:"Food Quiz",emoji:"",description:"Test your food knowledge!",icon:fL,color:"from-kawaii-yellow to-primary",difficulty:"Medium"},{id:"catch",title:"Healthy Catch",emoji:"",description:"Catch healthy foods!",icon:LL,color:"from-kawaii-mint to-secondary",difficulty:"Fun"}],T8=({ageGroup:t,onBack:e})=>{const[n,r]=_.useState("hub"),[i,s]=_.useState(0),a=o=>{s(c=>c+o)};return n==="match"?l.jsx(_8,{onComplete:a,onBack:()=>r("hub")}):n==="quiz"?l.jsx(w8,{onComplete:a,onBack:()=>r("hub"),ageGroup:t}):n==="catch"?l.jsx(C8,{onComplete:a,onBack:()=>r("hub")}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(R.div,{animate:{rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0},className:"inline-block mb-2",children:l.jsx("span",{className:"text-5xl",children:""})}),l.jsx("h2",{className:"font-display text-2xl font-bold text-foreground",children:"Fun Food Games!"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Learn about food while having fun!"})]}),l.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-kawaii-yellow/40 to-primary/30 rounded-2xl p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Vo,{className:"w-6 h-6 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Today's Points"}),l.jsx("p",{className:"font-display text-2xl font-bold text-foreground",children:i})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Streak"}),l.jsx("p",{className:"font-display text-lg font-bold text-primary",children:" 3 days"})]})]}),l.jsx("div",{className:"space-y-3",children:E8.map((o,c)=>{const u=o.icon;return l.jsxs(R.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(o.id),className:"w-full bg-card rounded-3xl p-4 shadow-card text-left overflow-hidden relative",children:[l.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${o.color} opacity-20 rounded-full blur-2xl`}),l.jsxs("div",{className:"relative flex items-center gap-4",children:[l.jsx(R.div,{animate:{y:[0,-5,0],rotate:[-5,5,-5]},transition:{duration:2,repeat:1/0,delay:c*.3},className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${o.color} flex items-center justify-center`,children:l.jsx("span",{className:"text-3xl",children:o.emoji})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-display font-bold text-lg text-foreground",children:o.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),l.jsx("span",{className:"inline-block mt-1 text-xs bg-muted px-2 py-0.5 rounded-full font-medium",children:o.difficulty})]}),l.jsx(u,{className:"w-6 h-6 text-muted-foreground"})]})]},o.id)})}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-gradient-to-r from-accent to-primary rounded-3xl p-5 text-primary-foreground relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full blur-xl"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"text-sm font-semibold opacity-80",children:" Daily Challenge"}),l.jsx("h4",{className:"font-display text-xl font-bold mt-1",children:"Play 3 games today!"}),l.jsx("div",{className:"flex gap-2 mt-3",children:[1,2,3].map((o,c)=>l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${c<1?"bg-white/30":"bg-white/10"}`,children:c<1?"":c+1},c))}),l.jsx("p",{className:"text-xs mt-2 opacity-70",children:"Reward: +50 bonus points!"})]})]})]})},N8=({panels:t,title:e,onComplete:n})=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-display text-xl font-bold text-foreground text-center",children:[" ",e]}),l.jsx("div",{className:"grid gap-3",children:t.map((r,i)=>l.jsxs(R.div,{initial:{opacity:0,x:r.position==="right"?20:-20},animate:{opacity:1,x:0},transition:{delay:i*.3},className:`relative ${r.position==="right"?"ml-8":"mr-8"}`,children:[l.jsxs("div",{className:"bg-card rounded-2xl border-4 border-foreground/20 overflow-hidden shadow-card",children:[l.jsx("div",{className:"bg-gradient-to-br from-kawaii-yellow/30 to-kawaii-pink/30 p-4 flex items-center justify-center",children:l.jsx(R.span,{className:"text-6xl",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:r.image})}),l.jsx("div",{className:"relative p-3",children:l.jsxs("div",{className:`bg-background rounded-2xl p-3 relative ${r.position==="right"?"rounded-tr-none":"rounded-tl-none"}`,children:[l.jsx("div",{className:`absolute -top-2 w-4 h-4 bg-background transform rotate-45 ${r.position==="right"?"right-4":"left-4"}`}),l.jsx("p",{className:"text-sm font-semibold text-foreground relative z-10",children:r.dialogue})]})})]}),l.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold text-sm border-2 border-background",children:i+1})]},i))}),n&&l.jsx(R.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:t.length*.3},onClick:n,className:"w-full bg-secondary text-secondary-foreground py-3 rounded-2xl font-bold",children:"Continue Adventure! "})]}),k8=[{id:"veggie-heroes",title:"The Veggie Heroes",emoji:"",description:"Learn how vegetables give you superpowers!",ageGroup:["kids","tweens"],unlocked:!0,panels:[{image:"",dialogue:"Hi! I'm Broccoli Boy! I give you super strong bones!",position:"left"},{image:"",dialogue:"And I'm Carrot Girl! I help you see in the dark like a superhero!",position:"right"},{image:"",dialogue:"I'm Spinach Sam! I make your muscles super strong!",position:"left"},{image:"",dialogue:"Together, we're the VEGGIE HEROES! Eat us every day!",position:"right"}]},{id:"breakfast-adventure",title:"Breakfast Adventure",emoji:"",description:"Why breakfast is the most important meal!",ageGroup:["kids","tweens","teens"],unlocked:!0,panels:[{image:"",dialogue:"Yawn... I feel so tired and can't focus in class...",position:"left"},{image:"",dialogue:"Hey! Did you skip breakfast? That's why you're tired!",position:"right"},{image:"",dialogue:"Breakfast gives your brain and body energy to start the day!",position:"left"},{image:"",dialogue:"Wow! After eating breakfast, I feel amazing and ready to learn!",position:"right"}]},{id:"sugar-detective",title:"The Sugar Detective",emoji:"",description:"Learn to spot hidden sugars in food!",ageGroup:["tweens","teens"],unlocked:!0,panels:[{image:"",dialogue:"I'm the Sugar Detective! Let's find hidden sugars together!",position:"left"},{image:"",dialogue:"This soda has 10 spoons of sugar! That's way too much!",position:"right"},{image:"",dialogue:"Natural sugar in fruit comes with vitamins and fiber - much better!",position:"left"},{image:"",dialogue:"Reading labels helps you make healthy choices. You're a detective too!",position:"right"}]},{id:"hydration-hero",title:"The Hydration Hero",emoji:"",description:"Discover why water is your body's best friend!",ageGroup:["kids","tweens","teens"],unlocked:!1,panels:[{image:"",dialogue:"I'm Water Drop! Your body is 60% water - just like me!",position:"left"},{image:"",dialogue:"When you drink water, your brain works better and you think faster!",position:"right"},{image:"",dialogue:"Water helps you run, jump, and play without getting tired!",position:"left"},{image:"",dialogue:"Drink 6-8 glasses a day to be a Hydration Hero!",position:"right"}]},{id:"rainbow-plate",title:"The Rainbow Plate",emoji:"",description:"Why eating colorful foods matters!",ageGroup:["kids"],unlocked:!1,panels:[{image:"",dialogue:"Let's make your plate look like a rainbow!",position:"left"},{image:"",dialogue:"Red foods like tomatoes keep your heart healthy!",position:"right"},{image:"",dialogue:"Green foods like broccoli make you super strong!",position:"left"},{image:"",dialogue:"The more colors you eat, the more superpowers you get!",position:"right"}]}],A8=({ageGroup:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState([]),s=k8.filter(o=>o.ageGroup.includes(t)),a=()=>{e&&!r.includes(e.id)&&i([...r,e.id]),n(null)};return e?l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>n(null),className:"text-muted-foreground hover:text-foreground transition-colors",children:" Back to Stories"}),l.jsx(N8,{title:e.title,panels:e.panels,onComplete:a})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(R.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},className:"inline-block mb-2",children:l.jsx(du,{className:"w-12 h-12 text-primary"})}),l.jsx("h2",{className:"font-display text-2xl font-bold text-foreground",children:"Food Comics! "}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Learn about food through fun stories!"})]}),l.jsxs("div",{className:"bg-card rounded-2xl p-4 shadow-card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Stories Completed"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.length,"/",s.filter(o=>o.unlocked).length]})]}),l.jsx("div",{className:"bg-muted rounded-full h-3",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-secondary to-primary rounded-full",animate:{width:`${r.length/s.filter(o=>o.unlocked).length*100}%`}})})]}),l.jsx("div",{className:"space-y-3",children:s.map((o,c)=>{const u=r.includes(o.id);return l.jsxs(R.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},whileHover:{scale:o.unlocked?1.02:1},whileTap:{scale:o.unlocked?.98:1},onClick:()=>o.unlocked&&n(o),disabled:!o.unlocked,className:`w-full bg-card rounded-3xl p-4 shadow-card text-left relative overflow-hidden ${o.unlocked?"":"opacity-60"}`,children:[!o.unlocked&&l.jsx("div",{className:"absolute inset-0 bg-muted/50 backdrop-blur-[1px] flex items-center justify-center z-10",children:l.jsx("div",{className:"bg-foreground/10 rounded-full p-2",children:l.jsx(ia,{className:"w-5 h-5 text-muted-foreground"})})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(R.div,{animate:o.unlocked?{rotate:[-5,5,-5]}:{},transition:{duration:2,repeat:1/0},className:"w-14 h-14 bg-gradient-to-br from-kawaii-yellow/40 to-kawaii-pink/40 rounded-2xl flex items-center justify-center",children:l.jsx("span",{className:"text-3xl",children:o.emoji})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:o.title}),u&&l.jsx(ma,{className:"w-4 h-4 text-kawaii-yellow fill-kawaii-yellow"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:o.description}),l.jsxs("span",{className:"text-xs bg-muted px-2 py-0.5 rounded-full mt-1 inline-block",children:[o.panels.length," panels"]})]}),o.unlocked&&l.jsx(pL,{className:"w-5 h-5 text-muted-foreground"})]})]},o.id)})}),l.jsx("div",{className:"bg-accent/10 rounded-2xl p-4 text-center",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" Complete quizzes and games to unlock more stories!"})})]})},dm={chapter_1:{id:"chapter_1",number:1,title:"The Culinary Adventure Begins",narrative:"Welcome to Anime Eats Academy! Your food journey starts here. Learn how different foods give your body superpowers!",characterGuide:"tanjiro",lesson:{id:"lesson_nutrition_basics",title:"Nutrition Basics",content:"Every food has special powers! Proteins build muscles , Carbs give energy , Fats help your brain , Vitamins keep you healthy ",emoji:"",duration:"5 mins"},unlocksRecipes:[{id:"simple_salad",title:"Rainbow Salad",emoji:""},{id:"fruit_bowl",title:"Magic Fruit Bowl",emoji:""}],comicPanels:[{emoji:"",dialogue:"Hey there! I'm your nutrition buddy! Let's learn about healthy eating together!",position:"left"},{emoji:"",dialogue:"Did you know? Eating healthy foods makes you stronger and faster!",position:"right"},{emoji:"",dialogue:"Let's start with understanding what different foods do for our bodies!",position:"left"}],rewards:{xp:100,badge:"Novice Chef"}},chapter_2:{id:"chapter_2",number:2,title:"Fruits: Nature's Candy",narrative:"Discover the magical world of fruits! Packed with vitamins and natural sweetness, fruits are the hero of healthy snacking.",characterGuide:"tanjiro",lesson:{id:"lesson_fruits",title:"Fruits & Vitamins",content:"Fruits are packed with Vitamin C (immunity), Potassium (heart), and Fiber (digestion). Each color has different benefits! ",emoji:"",duration:"6 mins"},unlocksRecipes:[{id:"fruit_smoothie",title:"Energy Smoothie",emoji:""},{id:"fruit_skewers",title:"Rainbow Skewers",emoji:""}],comicPanels:[{emoji:"",dialogue:"Strawberries are sweet and red - full of Vitamin C for strong immunity!",position:"left"},{emoji:"",dialogue:"Bananas have potassium - the superpower mineral for your heart! ",position:"right"},{emoji:"",dialogue:"Purple grapes have antioxidants to keep you young and healthy! Time to blend!",position:"left"}],rewards:{xp:150,badge:"Fruit Wizard"}},chapter_3:{id:"chapter_3",number:3,title:"Veggies: Green Power",narrative:"Veggies are the real superheroes! They strengthen your body, improve your vision, and boost your immune system. Let's discover them!",characterGuide:"deku",lesson:{id:"lesson_veggies",title:"Vegetables & Superpowers",content:"Vegetables build muscle  (spinach), improve vision  (carrots), strengthen bones  (broccoli). Different veggies = different powers!",emoji:"",duration:"7 mins"},unlocksRecipes:[{id:"veggie_stir_fry",title:"Superhero Stir-Fry",emoji:""},{id:"veggie_wrap",title:"Power Wrap",emoji:""}],comicPanels:[{emoji:"",dialogue:"Carrots are orange and give you super vision! See in the dark like a ninja!",position:"left"},{emoji:"",dialogue:"Spinach makes you strong! It has iron that builds muscle power!",position:"right"},{emoji:"",dialogue:"Broccoli looks like a tiny tree, but it's a bone-building fortress!",position:"left"}],rewards:{xp:150,badge:"Green Guardian"}},chapter_4:{id:"chapter_4",number:4,title:"Proteins: The Muscle Builders",narrative:"Proteins are essential for building strong muscles and supporting your growth. Meet the protein champions and cook with them!",characterGuide:"goku",lesson:{id:"lesson_proteins",title:"Proteins & Muscle Power",content:"Proteins build and repair muscles . Get them from eggs , chicken , fish , beans , or dairy . Variety is the spice!",emoji:"",duration:"8 mins"},unlocksRecipes:[{id:"egg_omelette",title:"Power Omelette",emoji:""},{id:"chicken_rice",title:"Champion's Chicken & Rice",emoji:""}],comicPanels:[{emoji:"",dialogue:"Eggs have all amino acids - the building blocks of super strength!",position:"left"},{emoji:"",dialogue:"Fish has omega-3s that make your brain super smart!",position:"right"},{emoji:"",dialogue:"Beans and lentils give plant-based protein - perfect for muscle growth!",position:"left"}],rewards:{xp:150,badge:"Protein Master"}},chapter_5:{id:"chapter_5",number:5,title:"Grains: Energy for Adventures",narrative:"Grains are your body's fuel source! They give you energy to play, study, and go on adventures. Learn about healthy carbs!",characterGuide:"luffy",lesson:{id:"lesson_grains",title:"Grains & Energy",content:"Whole grains like brown rice , oats , and whole wheat bread  give long-lasting energy without sugar crashes. Fuel up!",emoji:"",duration:"6 mins"},unlocksRecipes:[{id:"oatmeal_bowl",title:"Adventure Oatmeal",emoji:""},{id:"brown_rice",title:"Energy Bowl",emoji:""}],comicPanels:[{emoji:"",dialogue:"Oats are whole grains packed with fiber - steady energy all day!",position:"left"},{emoji:"",dialogue:"Whole wheat bread is better than white bread - gives real fuel!",position:"right"},{emoji:"",dialogue:"Brown rice over white rice - more nutrients, more adventure time!",position:"left"}],rewards:{xp:150,badge:"Energy Champion"}},chapter_6:{id:"chapter_6",number:6,title:"The Great Cooking Challenge",narrative:"Time to put it all together! Create a balanced meal with every food group. You're ready to become a true Anime Eats Master!",characterGuide:"luffy",lesson:{id:"lesson_balanced_meals",title:"Creating Balanced Meals",content:"A balanced meal has 4 elements:  Veggies (half plate),  Protein (quarter plate),  Grains (quarter plate),  Dairy (on the side)!",emoji:"",duration:"10 mins"},unlocksRecipes:[{id:"balanced_plate",title:"Perfect Balance Plate",emoji:""},{id:"bento_box",title:"Master's Bento Box",emoji:""}],comicPanels:[{emoji:"",dialogue:"Half your plate should be colorful veggies! Different colors = different nutrients!",position:"left"},{emoji:"",dialogue:"A quarter for protein - this builds your strength and keeps you powerful!",position:"right"},{emoji:"",dialogue:"A quarter for grains - your fuel for all-day adventures!",position:"left"},{emoji:"",dialogue:"And remember water and dairy! You're now a Nutrition Master! ",position:"right"}],rewards:{xp:200,badge:"Anime Eats Master"}}};/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Fk="128",j8=0,r1=1,P8=2,Ik=1,L8=2,$l=3,Xf=0,Vt=1,Yf=2,Ok=1,fc=0,pc=1,i1=2,s1=3,a1=4,R8=5,Ga=100,D8=101,F8=102,o1=103,l1=104,I8=200,O8=201,B8=202,z8=203,Bk=204,zk=205,V8=206,H8=207,U8=208,G8=209,W8=210,$8=0,q8=1,X8=2,By=3,Y8=4,K8=5,Q8=6,Z8=7,Kf=0,J8=1,eH=2,mc=0,tH=1,nH=2,rH=3,iH=4,sH=5,Vk=300,$0=301,q0=302,c1=303,u1=304,X0=306,Y0=307,zy=1e3,Cr=1001,Vy=1002,yn=1003,d1=1004,h1=1005,er=1006,aH=1007,K0=1008,Q0=1009,oH=1010,lH=1011,Kh=1012,cH=1013,ah=1014,qi=1015,Qh=1016,uH=1017,dH=1018,hH=1019,gc=1020,fH=1021,Qs=1022,Nr=1023,pH=1024,mH=1025,Mo=1026,Kc=1027,gH=1028,yH=1029,xH=1030,vH=1031,bH=1032,_H=1033,f1=33776,p1=33777,m1=33778,g1=33779,y1=35840,x1=35841,v1=35842,b1=35843,wH=36196,_1=37492,w1=37496,SH=37808,MH=37809,CH=37810,EH=37811,TH=37812,NH=37813,kH=37814,AH=37815,jH=37816,PH=37817,LH=37818,RH=37819,DH=37820,FH=37821,IH=36492,OH=37840,BH=37841,zH=37842,VH=37843,HH=37844,UH=37845,GH=37846,WH=37847,$H=37848,qH=37849,XH=37850,YH=37851,KH=37852,QH=37853,ZH=2200,JH=2201,eU=2202,Zh=2300,Jh=2301,hm=2302,lo=2400,co=2401,ef=2402,Z0=2500,Hk=2501,tU=0,Cu=3e3,Uk=3001,nU=3007,rU=3002,iU=3003,sU=3004,aU=3005,oU=3006,lU=3200,cU=3201,ol=0,uU=1,fm=7680,dU=519,Qc=35044,tf=35048,S1="300 es";class ya{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const Xt=[];for(let t=0;t<256;t++)Xt[t]=(t<16?"0":"")+t.toString(16);const pm=Math.PI/180,Hy=180/Math.PI;function Zr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Xt[t&255]+Xt[t>>8&255]+Xt[t>>16&255]+Xt[t>>24&255]+"-"+Xt[e&255]+Xt[e>>8&255]+"-"+Xt[e>>16&15|64]+Xt[e>>24&255]+"-"+Xt[n&63|128]+Xt[n>>8&255]+"-"+Xt[n>>16&255]+Xt[n>>24&255]+Xt[r&255]+Xt[r>>8&255]+Xt[r>>16&255]+Xt[r>>24&255]).toUpperCase()}function On(t,e,n){return Math.max(e,Math.min(n,t))}function hU(t,e){return(t%e+e)%e}function mm(t,e,n){return(1-n)*t+n*e}function M1(t){return(t&t-1)===0&&t!==0}function fU(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function pU(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class ge{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}ge.prototype.isVector2=!0;class Zt{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,a,o,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=n,d[4]=s,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],c=r[6],u=r[1],d=r[4],h=r[7],f=r[2],p=r[5],x=r[8],y=i[0],v=i[3],g=i[6],m=i[1],b=i[4],S=i[7],M=i[2],w=i[5],C=i[8];return s[0]=a*y+o*m+c*M,s[3]=a*v+o*b+c*w,s[6]=a*g+o*S+c*C,s[1]=u*y+d*m+h*M,s[4]=u*v+d*b+h*w,s[7]=u*g+d*S+h*C,s[2]=f*y+p*m+x*M,s[5]=f*v+p*b+x*w,s[8]=f*g+p*S+x*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*o*u-r*s*d+r*o*c+i*s*u-i*a*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],h=d*a-o*u,f=o*c-d*s,p=u*s-a*c,x=n*h+r*f+i*p;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/x;return e[0]=h*y,e[1]=(i*u-d*r)*y,e[2]=(o*r-i*a)*y,e[3]=f*y,e[4]=(d*n-i*c)*y,e[5]=(i*s-o*n)*y,e[6]=p*y,e[7]=(r*c-u*n)*y,e[8]=(a*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*a+u*o)+a+e,-i*u,i*c,-i*(-u*a+c*o)+o+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],a=i[3],o=i[6],c=i[1],u=i[4],d=i[7];return i[0]=n*s+r*c,i[3]=n*a+r*u,i[6]=n*o+r*d,i[1]=-r*s+n*c,i[4]=-r*a+n*u,i[7]=-r*o+n*d,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Zt.prototype.isMatrix3=!0;let Ca;class ll{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ca===void 0&&(Ca=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ca.width=e.width,Ca.height=e.height;const r=Ca.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ca}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let mU=0;class nn extends ya{constructor(e=nn.DEFAULT_IMAGE,n=nn.DEFAULT_MAPPING,r=Cr,i=Cr,s=er,a=K0,o=Nr,c=Q0,u=1,d=Cu){super(),Object.defineProperty(this,"id",{value:mU++}),this.uuid=Zr(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=c,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=Zr()),!n&&e.images[i.uuid]===void 0){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(gm(i[a].image)):s.push(gm(i[a]))}else s=gm(i);e.images[i.uuid]={uuid:i.uuid,url:s}}r.image=i.uuid}return n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Vk)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case zy:e.x=e.x-Math.floor(e.x);break;case Cr:e.x=e.x<0?0:1;break;case Vy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case zy:e.y=e.y-Math.floor(e.y);break;case Cr:e.y=e.y<0?0:1;break;case Vy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}nn.DEFAULT_IMAGE=void 0;nn.DEFAULT_MAPPING=Vk;nn.prototype.isTexture=!0;function gm(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ll.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class et{constructor(e=0,n=0,r=0,i=1){this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],d=c[4],h=c[8],f=c[1],p=c[5],x=c[9],y=c[2],v=c[6],g=c[10];if(Math.abs(d-f)<.01&&Math.abs(h-y)<.01&&Math.abs(x-v)<.01){if(Math.abs(d+f)<.1&&Math.abs(h+y)<.1&&Math.abs(x+v)<.1&&Math.abs(u+p+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,S=(p+1)/2,M=(g+1)/2,w=(d+f)/4,C=(h+y)/4,E=(x+v)/4;return b>S&&b>M?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=w/r,s=C/r):S>M?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=w/i,s=E/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=C/s,i=E/s),this.set(r,i,s,n),this}let m=Math.sqrt((v-x)*(v-x)+(h-y)*(h-y)+(f-d)*(f-d));return Math.abs(m)<.001&&(m=1),this.x=(v-x)/m,this.y=(h-y)/m,this.z=(f-d)/m,this.w=Math.acos((u+p+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}et.prototype.isVector4=!0;class Zs extends ya{constructor(e,n,r){super(),this.width=e,this.height=n,this.depth=1,this.scissor=new et(0,0,e,n),this.scissorTest=!1,this.viewport=new et(0,0,e,n),r=r||{},this.texture=new nn(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:er,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Zs.prototype.isWebGLRenderTarget=!0;class gU extends Zs{constructor(e,n,r){super(e,n,r),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}gU.prototype.isWebGLMultisampleRenderTarget=!0;class bn{constructor(e=0,n=0,r=0,i=1){this._x=e,this._y=n,this._z=r,this._w=i}static slerp(e,n,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,n,i)}static slerpFlat(e,n,r,i,s,a,o){let c=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3];const f=s[a+0],p=s[a+1],x=s[a+2],y=s[a+3];if(o===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h;return}if(o===1){e[n+0]=f,e[n+1]=p,e[n+2]=x,e[n+3]=y;return}if(h!==y||c!==f||u!==p||d!==x){let v=1-o;const g=c*f+u*p+d*x+h*y,m=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const M=Math.sqrt(b),w=Math.atan2(M,g*m);v=Math.sin(v*w)/M,o=Math.sin(o*w)/M}const S=o*m;if(c=c*v+f*S,u=u*v+p*S,d=d*v+x*S,h=h*v+y*S,v===1-o){const M=1/Math.sqrt(c*c+u*u+d*d+h*h);c*=M,u*=M,d*=M,h*=M}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],c=r[i+1],u=r[i+2],d=r[i+3],h=s[a],f=s[a+1],p=s[a+2],x=s[a+3];return e[n]=o*x+d*h+c*p-u*f,e[n+1]=c*x+d*f+u*h-o*p,e[n+2]=u*x+d*p+o*f-c*h,e[n+3]=d*x-o*h-c*f-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,u=o(r/2),d=o(i/2),h=o(s/2),f=c(r/2),p=c(i/2),x=c(s/2);switch(a){case"XYZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"YXZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"ZXY":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"ZYX":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"YZX":this._x=f*d*h+u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h-f*p*x;break;case"XZY":this._x=f*d*h-u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h+f*p*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],c=n[9],u=n[2],d=n[6],h=n[10],f=r+o+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(d-c)*p,this._y=(s-u)*p,this._z=(a-i)*p}else if(r>o&&r>h){const p=2*Math.sqrt(1+r-o-h);this._w=(d-c)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(s+u)/p}else if(o>h){const p=2*Math.sqrt(1+o-r-h);this._w=(s-u)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+h-r-o);this._w=(a-i)/p,this._x=(s+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(On(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*o+i*u-s*c,this._y=i*d+a*c+s*o-r*u,this._z=s*d+a*u+r*c-i*o,this._w=a*d-r*o-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(c),d=Math.atan2(u,o),h=Math.sin((1-n)*d)/u,f=Math.sin(n*d)/u;return this._w=a*h+this._w*f,this._x=r*h+this._x*f,this._y=i*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){this.copy(e).slerp(n,r)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}bn.prototype.isQuaternion=!0;class H{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(C1.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(C1.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,c=e.w,u=c*n+a*i-o*r,d=c*r+o*n-s*i,h=c*i+s*r-a*n,f=-s*n-a*r-o*i;return this.x=u*c+f*-s+d*-o-h*-a,this.y=d*c+f*-a+h*-s-u*-o,this.z=h*c+f*-o+u*-a-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,c=n.z;return this.x=i*c-s*o,this.y=s*a-r*c,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ym.copy(this).projectOnVector(e),this.sub(ym)}reflect(e){return this.sub(ym.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(On(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}H.prototype.isVector3=!0;const ym=new H,C1=new bn;class or{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,a=-1/0,o=-1/0;for(let c=0,u=e.length;c<u;c+=3){const d=e[c],h=e[c+1],f=e[c+2];d<n&&(n=d),h<r&&(r=h),f<i&&(i=f),d>s&&(s=d),h>a&&(a=h),f>o&&(o=f)}return this.min.set(n,r,i),this.max.set(s,a,o),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,a=-1/0,o=-1/0;for(let c=0,u=e.count;c<u;c++){const d=e.getX(c),h=e.getY(c),f=e.getZ(c);d<n&&(n=d),h<r&&(r=h),f<i&&(i=f),d>s&&(s=d),h>a&&(a=h),f>o&&(o=f)}return this.min.set(n,r,i),this.max.set(s,a,o),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=kl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new H),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new H),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),xm.copy(n.boundingBox),xm.applyMatrix4(e.matrixWorld),this.union(xm));const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new H),n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,kl),kl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Al),cd.subVectors(this.max,Al),Ea.subVectors(e.a,Al),Ta.subVectors(e.b,Al),Na.subVectors(e.c,Al),ji.subVectors(Ta,Ea),Pi.subVectors(Na,Ta),As.subVectors(Ea,Na);let n=[0,-ji.z,ji.y,0,-Pi.z,Pi.y,0,-As.z,As.y,ji.z,0,-ji.x,Pi.z,0,-Pi.x,As.z,0,-As.x,-ji.y,ji.x,0,-Pi.y,Pi.x,0,-As.y,As.x,0];return!vm(n,Ea,Ta,Na,cd)||(n=[1,0,0,0,1,0,0,0,1],!vm(n,Ea,Ta,Na,cd))?!1:(ud.crossVectors(ji,Pi),n=[ud.x,ud.y,ud.z],vm(n,Ea,Ta,Na,cd))}clampPoint(e,n){return n===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new H),n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return kl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(kl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ai),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}or.prototype.isBox3=!0;const ai=[new H,new H,new H,new H,new H,new H,new H,new H],kl=new H,xm=new or,Ea=new H,Ta=new H,Na=new H,ji=new H,Pi=new H,As=new H,Al=new H,cd=new H,ud=new H,js=new H;function vm(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){js.fromArray(t,s);const o=i.x*Math.abs(js.x)+i.y*Math.abs(js.y)+i.z*Math.abs(js.z),c=e.dot(js),u=n.dot(js),d=r.dot(js);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>o)return!1}return!0}const yU=new or,E1=new H,bm=new H,_m=new H;class cl{constructor(e=new H,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):yU.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new H),n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new or),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){_m.subVectors(e,this.center);const n=_m.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.add(_m.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return bm.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(E1.copy(e.center).add(bm)),this.expandByPoint(E1.copy(e.center).sub(bm)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oi=new H,wm=new H,dd=new H,Li=new H,Sm=new H,hd=new H,Mm=new H;class ul{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n===void 0&&(console.warn("THREE.Ray: .at() target is now required"),n=new H),n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oi)),this}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new H),n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=oi.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(oi.copy(this.direction).multiplyScalar(n).add(this.origin),oi.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){wm.copy(e).add(n).multiplyScalar(.5),dd.copy(n).sub(e).normalize(),Li.copy(this.origin).sub(wm);const s=e.distanceTo(n)*.5,a=-this.direction.dot(dd),o=Li.dot(this.direction),c=-Li.dot(dd),u=Li.lengthSq(),d=Math.abs(1-a*a);let h,f,p,x;if(d>0)if(h=a*c-o,f=a*o-c,x=s*d,h>=0)if(f>=-x)if(f<=x){const y=1/d;h*=y,f*=y,p=h*(h+a*f+2*o)+f*(a*h+f+2*c)+u}else f=s,h=Math.max(0,-(a*f+o)),p=-h*h+f*(f+2*c)+u;else f=-s,h=Math.max(0,-(a*f+o)),p=-h*h+f*(f+2*c)+u;else f<=-x?(h=Math.max(0,-(-a*s+o)),f=h>0?-s:Math.min(Math.max(-s,-c),s),p=-h*h+f*(f+2*c)+u):f<=x?(h=0,f=Math.min(Math.max(-s,-c),s),p=f*(f+2*c)+u):(h=Math.max(0,-(a*s+o)),f=h>0?s:Math.min(Math.max(-s,-c),s),p=-h*h+f*(f+2*c)+u);else f=a>0?-s:s,h=Math.max(0,-(a*f+o)),p=-h*h+f*(f+2*c)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(dd).multiplyScalar(f).add(wm),p}intersectSphere(e,n){oi.subVectors(e.center,this.origin);const r=oi.dot(this.direction),i=oi.dot(oi)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,c=r+a;return o<0&&c<0?null:o<0?this.at(c,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,c;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),d>=0?(s=(e.min.y-f.y)*d,a=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,a=(e.min.y-f.y)*d),r>a||s>i||((s>r||r!==r)&&(r=s),(a<i||i!==i)&&(i=a),h>=0?(o=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(o=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),r>c||o>i)||((o>r||r!==r)&&(r=o),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,oi)!==null}intersectTriangle(e,n,r,i,s){Sm.subVectors(n,e),hd.subVectors(r,e),Mm.crossVectors(Sm,hd);let a=this.direction.dot(Mm),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Li.subVectors(this.origin,e);const c=o*this.direction.dot(hd.crossVectors(Li,hd));if(c<0)return null;const u=o*this.direction.dot(Sm.cross(Li));if(u<0||c+u>a)return null;const d=-o*Li.dot(Mm);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ae{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,a,o,c,u,d,h,f,p,x,y,v){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=a,g[9]=o,g[13]=c,g[2]=u,g[6]=d,g[10]=h,g[14]=f,g[3]=p,g[7]=x,g[11]=y,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ae().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ka.setFromMatrixColumn(e,0).length(),s=1/ka.setFromMatrixColumn(e,1).length(),a=1/ka.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=a*d,p=a*h,x=o*d,y=o*h;n[0]=c*d,n[4]=-c*h,n[8]=u,n[1]=p+x*u,n[5]=f-y*u,n[9]=-o*c,n[2]=y-f*u,n[6]=x+p*u,n[10]=a*c}else if(e.order==="YXZ"){const f=c*d,p=c*h,x=u*d,y=u*h;n[0]=f+y*o,n[4]=x*o-p,n[8]=a*u,n[1]=a*h,n[5]=a*d,n[9]=-o,n[2]=p*o-x,n[6]=y+f*o,n[10]=a*c}else if(e.order==="ZXY"){const f=c*d,p=c*h,x=u*d,y=u*h;n[0]=f-y*o,n[4]=-a*h,n[8]=x+p*o,n[1]=p+x*o,n[5]=a*d,n[9]=y-f*o,n[2]=-a*u,n[6]=o,n[10]=a*c}else if(e.order==="ZYX"){const f=a*d,p=a*h,x=o*d,y=o*h;n[0]=c*d,n[4]=x*u-p,n[8]=f*u+y,n[1]=c*h,n[5]=y*u+f,n[9]=p*u-x,n[2]=-u,n[6]=o*c,n[10]=a*c}else if(e.order==="YZX"){const f=a*c,p=a*u,x=o*c,y=o*u;n[0]=c*d,n[4]=y-f*h,n[8]=x*h+p,n[1]=h,n[5]=a*d,n[9]=-o*d,n[2]=-u*d,n[6]=p*h+x,n[10]=f-y*h}else if(e.order==="XZY"){const f=a*c,p=a*u,x=o*c,y=o*u;n[0]=c*d,n[4]=-h,n[8]=u*d,n[1]=f*h+y,n[5]=a*d,n[9]=p*h-x,n[2]=x*h-p,n[6]=o*d,n[10]=y*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xU,e,vU)}lookAt(e,n,r){const i=this.elements;return Rn.subVectors(e,n),Rn.lengthSq()===0&&(Rn.z=1),Rn.normalize(),Ri.crossVectors(r,Rn),Ri.lengthSq()===0&&(Math.abs(r.z)===1?Rn.x+=1e-4:Rn.z+=1e-4,Rn.normalize(),Ri.crossVectors(r,Rn)),Ri.normalize(),fd.crossVectors(Rn,Ri),i[0]=Ri.x,i[4]=fd.x,i[8]=Rn.x,i[1]=Ri.y,i[5]=fd.y,i[9]=Rn.y,i[2]=Ri.z,i[6]=fd.z,i[10]=Rn.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],c=r[8],u=r[12],d=r[1],h=r[5],f=r[9],p=r[13],x=r[2],y=r[6],v=r[10],g=r[14],m=r[3],b=r[7],S=r[11],M=r[15],w=i[0],C=i[4],E=i[8],N=i[12],L=i[1],F=i[5],D=i[9],k=i[13],T=i[2],z=i[6],j=i[10],G=i[14],V=i[3],U=i[7],q=i[11],W=i[15];return s[0]=a*w+o*L+c*T+u*V,s[4]=a*C+o*F+c*z+u*U,s[8]=a*E+o*D+c*j+u*q,s[12]=a*N+o*k+c*G+u*W,s[1]=d*w+h*L+f*T+p*V,s[5]=d*C+h*F+f*z+p*U,s[9]=d*E+h*D+f*j+p*q,s[13]=d*N+h*k+f*G+p*W,s[2]=x*w+y*L+v*T+g*V,s[6]=x*C+y*F+v*z+g*U,s[10]=x*E+y*D+v*j+g*q,s[14]=x*N+y*k+v*G+g*W,s[3]=m*w+b*L+S*T+M*V,s[7]=m*C+b*F+S*z+M*U,s[11]=m*E+b*D+S*j+M*q,s[15]=m*N+b*k+S*G+M*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],c=e[9],u=e[13],d=e[2],h=e[6],f=e[10],p=e[14],x=e[3],y=e[7],v=e[11],g=e[15];return x*(+s*c*h-i*u*h-s*o*f+r*u*f+i*o*p-r*c*p)+y*(+n*c*p-n*u*f+s*a*f-i*a*p+i*u*d-s*c*d)+v*(+n*u*h-n*o*p-s*a*h+r*a*p+s*o*d-r*u*d)+g*(-i*o*d-n*c*h+n*o*f+i*a*h-r*a*f+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],x=e[12],y=e[13],v=e[14],g=e[15],m=h*v*u-y*f*u+y*c*p-o*v*p-h*c*g+o*f*g,b=x*f*u-d*v*u-x*c*p+a*v*p+d*c*g-a*f*g,S=d*y*u-x*h*u+x*o*p-a*y*p-d*o*g+a*h*g,M=x*h*c-d*y*c-x*o*f+a*y*f+d*o*v-a*h*v,w=n*m+r*b+i*S+s*M;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/w;return e[0]=m*C,e[1]=(y*f*s-h*v*s-y*i*p+r*v*p+h*i*g-r*f*g)*C,e[2]=(o*v*s-y*c*s+y*i*u-r*v*u-o*i*g+r*c*g)*C,e[3]=(h*c*s-o*f*s-h*i*u+r*f*u+o*i*p-r*c*p)*C,e[4]=b*C,e[5]=(d*v*s-x*f*s+x*i*p-n*v*p-d*i*g+n*f*g)*C,e[6]=(x*c*s-a*v*s-x*i*u+n*v*u+a*i*g-n*c*g)*C,e[7]=(a*f*s-d*c*s+d*i*u-n*f*u-a*i*p+n*c*p)*C,e[8]=S*C,e[9]=(x*h*s-d*y*s-x*r*p+n*y*p+d*r*g-n*h*g)*C,e[10]=(a*y*s-x*o*s+x*r*u-n*y*u-a*r*g+n*o*g)*C,e[11]=(d*o*s-a*h*s-d*r*u+n*h*u+a*r*p-n*o*p)*C,e[12]=M*C,e[13]=(d*y*i-x*h*i+x*r*f-n*y*f-d*r*v+n*h*v)*C,e[14]=(x*o*i-a*y*i-x*r*c+n*y*c+a*r*v-n*o*v)*C,e[15]=(a*h*i-d*o*i+d*r*c-n*h*c-a*r*f+n*o*f)*C,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,c=e.z,u=s*a,d=s*o;return this.set(u*a+r,u*o-i*c,u*c+i*o,0,u*o+i*c,d*o+r,d*c-i*a,0,u*c-i*o,d*c+i*a,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r){return this.set(1,n,r,0,e,1,r,0,e,n,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,c=n._w,u=s+s,d=a+a,h=o+o,f=s*u,p=s*d,x=s*h,y=a*d,v=a*h,g=o*h,m=c*u,b=c*d,S=c*h,M=r.x,w=r.y,C=r.z;return i[0]=(1-(y+g))*M,i[1]=(p+S)*M,i[2]=(x-b)*M,i[3]=0,i[4]=(p-S)*w,i[5]=(1-(f+g))*w,i[6]=(v+m)*w,i[7]=0,i[8]=(x+b)*C,i[9]=(v-m)*C,i[10]=(1-(f+y))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=ka.set(i[0],i[1],i[2]).length();const a=ka.set(i[4],i[5],i[6]).length(),o=ka.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],fr.copy(this);const u=1/s,d=1/a,h=1/o;return fr.elements[0]*=u,fr.elements[1]*=u,fr.elements[2]*=u,fr.elements[4]*=d,fr.elements[5]*=d,fr.elements[6]*=d,fr.elements[8]*=h,fr.elements[9]*=h,fr.elements[10]*=h,n.setFromRotationMatrix(fr),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a){a===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,c=2*s/(n-e),u=2*s/(r-i),d=(n+e)/(n-e),h=(r+i)/(r-i),f=-(a+s)/(a-s),p=-2*a*s/(a-s);return o[0]=c,o[4]=0,o[8]=d,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,n,r,i,s,a){const o=this.elements,c=1/(n-e),u=1/(r-i),d=1/(a-s),h=(n+e)*c,f=(r+i)*u,p=(a+s)*d;return o[0]=2*c,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*d,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}Ae.prototype.isMatrix4=!0;const ka=new H,fr=new Ae,xU=new H(0,0,0),vU=new H(1,1,1),Ri=new H,fd=new H,Rn=new H,T1=new Ae,N1=new bn;class dl{constructor(e=0,n=0,r=0,i=dl.DefaultOrder){this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n,r){const i=e.elements,s=i[0],a=i[4],o=i[8],c=i[1],u=i[5],d=i[9],h=i[2],f=i[6],p=i[10];switch(n=n||this._order,n){case"XYZ":this._y=Math.asin(On(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-On(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(On(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-On(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(On(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-On(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r!==!1&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return T1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(T1,n,r)}setFromVector3(e,n){return this.set(e.x,e.y,e.z,n||this._order)}reorder(e){return N1.setFromEuler(this),this.setFromQuaternion(N1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new H(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}dl.prototype.isEuler=!0;dl.DefaultOrder="XYZ";dl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class bU{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}}let _U=0;const k1=new H,Aa=new bn,li=new Ae,pd=new H,jl=new H,wU=new H,SU=new bn,A1=new H(1,0,0),j1=new H(0,1,0),P1=new H(0,0,1),MU={type:"added"},L1={type:"removed"};class Ye extends ya{constructor(){super(),Object.defineProperty(this,"id",{value:_U++}),this.uuid=Zr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ye.DefaultUp.clone();const e=new H,n=new dl,r=new bn,i=new H(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ae},normalMatrix:{value:new Zt}}),this.matrix=new Ae,this.matrixWorld=new Ae,this.matrixAutoUpdate=Ye.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new bU,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Aa.setFromAxisAngle(e,n),this.quaternion.multiply(Aa),this}rotateOnWorldAxis(e,n){return Aa.setFromAxisAngle(e,n),this.quaternion.premultiply(Aa),this}rotateX(e){return this.rotateOnAxis(A1,e)}rotateY(e){return this.rotateOnAxis(j1,e)}rotateZ(e){return this.rotateOnAxis(P1,e)}translateOnAxis(e,n){return k1.copy(e).applyQuaternion(this.quaternion),this.position.add(k1.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(A1,e)}translateY(e){return this.translateOnAxis(j1,e)}translateZ(e){return this.translateOnAxis(P1,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(li.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?pd.copy(e):pd.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?li.lookAt(jl,pd,this.up):li.lookAt(pd,jl,this.up),this.quaternion.setFromRotationMatrix(li),i&&(li.extractRotation(i.matrixWorld),Aa.setFromRotationMatrix(li),this.quaternion.premultiply(Aa.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(MU)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(L1)),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(L1)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),li.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),li.multiply(e.parent.matrixWorld)),e.applyMatrix4(li),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getWorldPosition(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new H),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new bn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jl,e,wU),e}getWorldScale(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new H),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jl,SU,e),e}getWorldDirection(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new H),this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const h=c[u];s(e.shapes,h)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,u=this.material.length;c<u;c++)o.push(s(e.materials,this.material[c]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];i.animations.push(s(e.animations,c))}}if(n){const o=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),h=a(e.shapes),f=a(e.skeletons),p=a(e.animations);o.length>0&&(r.geometries=o),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p)}return r.object=i,r;function a(o){const c=[];for(const u in o){const d=o[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ye.DefaultUp=new H(0,1,0);Ye.DefaultMatrixAutoUpdate=!0;Ye.prototype.isObject3D=!0;const Cm=new H,CU=new H,EU=new Zt;class Vr{constructor(e=new H(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Cm.subVectors(r,n).cross(CU.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new H),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){n===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new H);const r=e.delta(Cm),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new H),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||EU.getNormalMatrix(e),i=this.coplanarPoint(Cm).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Vr.prototype.isPlane=!0;const pr=new H,ci=new H,Em=new H,ui=new H,ja=new H,Pa=new H,R1=new H,Tm=new H,Nm=new H,km=new H;class It{constructor(e=new H,n=new H,r=new H){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new H),i.subVectors(r,n),pr.subVectors(e,n),i.cross(pr);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){pr.subVectors(i,n),ci.subVectors(r,n),Em.subVectors(e,n);const a=pr.dot(pr),o=pr.dot(ci),c=pr.dot(Em),u=ci.dot(ci),d=ci.dot(Em),h=a*u-o*o;if(s===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new H),h===0)return s.set(-2,-1,-1);const f=1/h,p=(u*c-o*d)*f,x=(a*d-o*c)*f;return s.set(1-p-x,x,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ui),ui.x>=0&&ui.y>=0&&ui.x+ui.y<=1}static getUV(e,n,r,i,s,a,o,c){return this.getBarycoord(e,n,r,i,ui),c.set(0,0),c.addScaledVector(s,ui.x),c.addScaledVector(a,ui.y),c.addScaledVector(o,ui.z),c}static isFrontFacing(e,n,r,i){return pr.subVectors(r,n),ci.subVectors(e,n),pr.cross(ci).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pr.subVectors(this.c,this.b),ci.subVectors(this.a,this.b),pr.cross(ci).length()*.5}getMidpoint(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new H),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return It.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Vr),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return It.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return It.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return It.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return It.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){n===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new H);const r=this.a,i=this.b,s=this.c;let a,o;ja.subVectors(i,r),Pa.subVectors(s,r),Tm.subVectors(e,r);const c=ja.dot(Tm),u=Pa.dot(Tm);if(c<=0&&u<=0)return n.copy(r);Nm.subVectors(e,i);const d=ja.dot(Nm),h=Pa.dot(Nm);if(d>=0&&h<=d)return n.copy(i);const f=c*h-d*u;if(f<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector(ja,a);km.subVectors(e,s);const p=ja.dot(km),x=Pa.dot(km);if(x>=0&&p<=x)return n.copy(s);const y=p*u-c*x;if(y<=0&&u>=0&&x<=0)return o=u/(u-x),n.copy(r).addScaledVector(Pa,o);const v=d*x-p*h;if(v<=0&&h-d>=0&&p-x>=0)return R1.subVectors(s,i),o=(h-d)/(h-d+(p-x)),n.copy(i).addScaledVector(R1,o);const g=1/(v+y+f);return a=y*g,o=f*g,n.copy(r).addScaledVector(ja,a).addScaledVector(Pa,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let TU=0;function qt(){Object.defineProperty(this,"id",{value:TU++}),this.uuid=Zr(),this.name="",this.type="Material",this.fog=!0,this.blending=pc,this.side=Xf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Bk,this.blendDst=zk,this.blendEquation=Ga,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=By,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fm,this.stencilZFail=fm,this.stencilZPass=fm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}qt.prototype=Object.assign(Object.create(ya.prototype),{constructor:qt,isMaterial:!0,onBuild:function(){},onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if(e==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Ok;continue}const r=this[e];if(r===void 0){console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n}},toJSON:function(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==pc&&(n.blending=this.blending),this.side!==Xf&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(i){const s=[];for(const a in i){const o=i[a];delete o.metadata,s.push(o)}return s}if(e){const i=r(t.textures),s=r(t.images);i.length>0&&(n.textures=i),s.length>0&&(n.images=s)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const r=e.length;n=new Array(r);for(let i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(qt.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}});const Gk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mr={h:0,s:0,l:0},md={h:0,s:0,l:0};function Am(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function jm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Pm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class Ee{constructor(e,n,r){return n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,r){return this.r=e,this.g=n,this.b=r,this}setHSL(e,n,r){if(e=hU(e,1),n=On(n,0,1),r=On(r,0,1),n===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+n):r+n-r*n,s=2*r-i;this.r=Am(s,i,e+1/3),this.g=Am(s,i,e),this.b=Am(s,i,e-1/3)}return this}setStyle(e){function n(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,n(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,n(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const o=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,u=parseInt(i[3],10)/100;return n(i[4]),this.setHSL(o,c,u)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],s=i.length;if(s===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(s===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=Gk[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n=2){return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n=2){const r=n>0?1/n:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=jm(e.r),this.g=jm(e.g),this.b=jm(e.b),this}copyLinearToSRGB(e){return this.r=Pm(e.r),this.g=Pm(e.g),this.b=Pm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const n=this.r,r=this.g,i=this.b,s=Math.max(n,r,i),a=Math.min(n,r,i);let o,c;const u=(a+s)/2;if(a===s)o=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case n:o=(r-i)/d+(r<i?6:0);break;case r:o=(i-n)/d+2;break;case i:o=(n-r)/d+4;break}o/=6}return e.h=o,e.s=c,e.l=u,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,r){return this.getHSL(mr),mr.h+=e,mr.s+=n,mr.l+=r,this.setHSL(mr.h,mr.s,mr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(mr),e.getHSL(md);const r=mm(mr.h,md.h,n),i=mm(mr.s,md.s,n),s=mm(mr.l,md.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ee.NAMES=Gk;Ee.prototype.isColor=!0;Ee.prototype.r=1;Ee.prototype.g=1;Ee.prototype.b=1;class J0 extends qt{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}J0.prototype.isMeshBasicMaterial=!0;const at=new H,gd=new ge;class $t{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=Qc,this.updateRange={offset:0,count:-1},this.version=0,this.onUploadCallback=function(){}}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new Ee),n[r++]=a.r,n[r++]=a.g,n[r++]=a.b}return this}copyVector2sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new ge),n[r++]=a.x,n[r++]=a.y}return this}copyVector3sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new H),n[r++]=a.x,n[r++]=a.y,n[r++]=a.z}return this}copyVector4sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let a=e[i];a===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new et),n[r++]=a.x,n[r++]=a.y,n[r++]=a.z,n[r++]=a.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)gd.fromBufferAttribute(this,n),gd.applyMatrix3(e),this.setXY(n,gd.x,gd.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)at.fromBufferAttribute(this,n),at.applyMatrix3(e),this.setXYZ(n,at.x,at.y,at.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)at.x=this.getX(n),at.y=this.getY(n),at.z=this.getZ(n),at.applyMatrix4(e),this.setXYZ(n,at.x,at.y,at.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)at.x=this.getX(n),at.y=this.getY(n),at.z=this.getZ(n),at.applyNormalMatrix(e),this.setXYZ(n,at.x,at.y,at.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)at.x=this.getX(n),at.y=this.getY(n),at.z=this.getZ(n),at.transformDirection(e),this.setXYZ(n,at.x,at.y,at.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qc&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}$t.prototype.isBufferAttribute=!0;class Wk extends $t{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class $k extends $t{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class NU extends $t{constructor(e,n,r){super(new Uint16Array(e),n,r)}}NU.prototype.isFloat16BufferAttribute=!0;class mt extends $t{constructor(e,n,r){super(new Float32Array(e),n,r)}}function qk(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}let kU=0;const Fr=new Ae,Lm=new Ye,La=new H,Dn=new or,Pl=new or,zt=new H;class tt extends ya{constructor(){super(),Object.defineProperty(this,"id",{value:kU++}),this.uuid=Zr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qk(e)>65535?$k:Wk)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Zt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}rotateX(e){return Fr.makeRotationX(e),this.applyMatrix4(Fr),this}rotateY(e){return Fr.makeRotationY(e),this.applyMatrix4(Fr),this}rotateZ(e){return Fr.makeRotationZ(e),this.applyMatrix4(Fr),this}translate(e,n,r){return Fr.makeTranslation(e,n,r),this.applyMatrix4(Fr),this}scale(e,n,r){return Fr.makeScale(e,n,r),this.applyMatrix4(Fr),this}lookAt(e){return Lm.lookAt(e),Lm.updateMatrix(),this.applyMatrix4(Lm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(La).negate(),this.translate(La.x,La.y,La.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new mt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new or);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Dn.setFromBufferAttribute(s),this.morphTargetsRelative?(zt.addVectors(this.boundingBox.min,Dn.min),this.boundingBox.expandByPoint(zt),zt.addVectors(this.boundingBox.max,Dn.max),this.boundingBox.expandByPoint(zt)):(this.boundingBox.expandByPoint(Dn.min),this.boundingBox.expandByPoint(Dn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(Dn.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Pl.setFromBufferAttribute(o),this.morphTargetsRelative?(zt.addVectors(Dn.min,Pl.min),Dn.expandByPoint(zt),zt.addVectors(Dn.max,Pl.max),Dn.expandByPoint(zt)):(Dn.expandByPoint(Pl.min),Dn.expandByPoint(Pl.max))}Dn.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)zt.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(zt));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],c=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)zt.fromBufferAttribute(o,u),c&&(La.fromBufferAttribute(e,u),zt.add(La)),i=Math.max(i,r.distanceToSquared(zt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,a=n.uv.array,o=i.length/3;n.tangent===void 0&&this.setAttribute("tangent",new $t(new Float32Array(4*o),4));const c=n.tangent.array,u=[],d=[];for(let L=0;L<o;L++)u[L]=new H,d[L]=new H;const h=new H,f=new H,p=new H,x=new ge,y=new ge,v=new ge,g=new H,m=new H;function b(L,F,D){h.fromArray(i,L*3),f.fromArray(i,F*3),p.fromArray(i,D*3),x.fromArray(a,L*2),y.fromArray(a,F*2),v.fromArray(a,D*2),f.sub(h),p.sub(h),y.sub(x),v.sub(x);const k=1/(y.x*v.y-v.x*y.y);isFinite(k)&&(g.copy(f).multiplyScalar(v.y).addScaledVector(p,-y.y).multiplyScalar(k),m.copy(p).multiplyScalar(y.x).addScaledVector(f,-v.x).multiplyScalar(k),u[L].add(g),u[F].add(g),u[D].add(g),d[L].add(m),d[F].add(m),d[D].add(m))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let L=0,F=S.length;L<F;++L){const D=S[L],k=D.start,T=D.count;for(let z=k,j=k+T;z<j;z+=3)b(r[z+0],r[z+1],r[z+2])}const M=new H,w=new H,C=new H,E=new H;function N(L){C.fromArray(s,L*3),E.copy(C);const F=u[L];M.copy(F),M.sub(C.multiplyScalar(C.dot(F))).normalize(),w.crossVectors(E,F);const k=w.dot(d[L])<0?-1:1;c[L*4]=M.x,c[L*4+1]=M.y,c[L*4+2]=M.z,c[L*4+3]=k}for(let L=0,F=S.length;L<F;++L){const D=S[L],k=D.start,T=D.count;for(let z=k,j=k+T;z<j;z+=3)N(r[z+0]),N(r[z+1]),N(r[z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $t(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new H,s=new H,a=new H,o=new H,c=new H,u=new H,d=new H,h=new H;if(e)for(let f=0,p=e.count;f<p;f+=3){const x=e.getX(f+0),y=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(n,x),s.fromBufferAttribute(n,y),a.fromBufferAttribute(n,v),d.subVectors(a,s),h.subVectors(i,s),d.cross(h),o.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),u.fromBufferAttribute(r,v),o.add(d),c.add(d),u.add(d),r.setXYZ(x,o.x,o.y,o.z),r.setXYZ(y,c.x,c.y,c.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),d.subVectors(a,s),h.subVectors(i,s),d.cross(h),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const a=r[i].array,o=e.attributes[i],c=o.array,u=o.itemSize*n,d=Math.min(c.length,a.length-u);for(let h=0,f=u;h<d;h++,f++)a[f]=c[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)zt.fromBufferAttribute(e,n),zt.normalize(),e.setXYZ(n,zt.x,zt.y,zt.z)}toNonIndexed(){function e(o,c){const u=o.array,d=o.itemSize,h=o.normalized,f=new u.constructor(c.length*d);let p=0,x=0;for(let y=0,v=c.length;y<v;y++){p=c[y]*d;for(let g=0;g<d;g++)f[x++]=u[p++]}return new $t(f,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tt,r=this.index.array,i=this.attributes;for(const o in i){const c=i[o],u=e(c,r);n.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const c=[],u=s[o];for(let d=0,h=u.length;d<h;d++){const f=u[d],p=e(f,r);c.push(p)}n.morphAttributes[o]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const u=a[o];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let h=0,f=u.length;h<f;h++){const p=u[h];d.push(p.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new tt().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let f=0,p=h.length;f<p;f++)d.push(h[f].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const h=a[u];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}tt.prototype.isBufferGeometry=!0;const D1=new Ae,Ra=new ul,Rm=new cl,Di=new H,Fi=new H,Ii=new H,Dm=new H,Fm=new H,Im=new H,yd=new H,xd=new H,vd=new H,bd=new ge,_d=new ge,wd=new ge,Om=new H,Sd=new H;class Qt extends Ye{constructor(e=new tt,n=new J0){super(),this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Rm.copy(r.boundingSphere),Rm.applyMatrix4(s),e.ray.intersectsSphere(Rm)===!1)||(D1.copy(s).invert(),Ra.copy(e.ray).applyMatrix4(D1),r.boundingBox!==null&&Ra.intersectsBox(r.boundingBox)===!1))return;let a;if(r.isBufferGeometry){const o=r.index,c=r.attributes.position,u=r.morphAttributes.position,d=r.morphTargetsRelative,h=r.attributes.uv,f=r.attributes.uv2,p=r.groups,x=r.drawRange;if(o!==null)if(Array.isArray(i))for(let y=0,v=p.length;y<v;y++){const g=p[y],m=i[g.materialIndex],b=Math.max(g.start,x.start),S=Math.min(g.start+g.count,x.start+x.count);for(let M=b,w=S;M<w;M+=3){const C=o.getX(M),E=o.getX(M+1),N=o.getX(M+2);a=Md(this,m,e,Ra,c,u,d,h,f,C,E,N),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,n.push(a))}}else{const y=Math.max(0,x.start),v=Math.min(o.count,x.start+x.count);for(let g=y,m=v;g<m;g+=3){const b=o.getX(g),S=o.getX(g+1),M=o.getX(g+2);a=Md(this,i,e,Ra,c,u,d,h,f,b,S,M),a&&(a.faceIndex=Math.floor(g/3),n.push(a))}}else if(c!==void 0)if(Array.isArray(i))for(let y=0,v=p.length;y<v;y++){const g=p[y],m=i[g.materialIndex],b=Math.max(g.start,x.start),S=Math.min(g.start+g.count,x.start+x.count);for(let M=b,w=S;M<w;M+=3){const C=M,E=M+1,N=M+2;a=Md(this,m,e,Ra,c,u,d,h,f,C,E,N),a&&(a.faceIndex=Math.floor(M/3),a.face.materialIndex=g.materialIndex,n.push(a))}}else{const y=Math.max(0,x.start),v=Math.min(c.count,x.start+x.count);for(let g=y,m=v;g<m;g+=3){const b=g,S=g+1,M=g+2;a=Md(this,i,e,Ra,c,u,d,h,f,b,S,M),a&&(a.faceIndex=Math.floor(g/3),n.push(a))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Qt.prototype.isMesh=!0;function AU(t,e,n,r,i,s,a,o){let c;if(e.side===Vt?c=r.intersectTriangle(a,s,i,!0,o):c=r.intersectTriangle(i,s,a,e.side!==Yf,o),c===null)return null;Sd.copy(o),Sd.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Sd);return u<n.near||u>n.far?null:{distance:u,point:Sd.clone(),object:t}}function Md(t,e,n,r,i,s,a,o,c,u,d,h){Di.fromBufferAttribute(i,u),Fi.fromBufferAttribute(i,d),Ii.fromBufferAttribute(i,h);const f=t.morphTargetInfluences;if(e.morphTargets&&s&&f){yd.set(0,0,0),xd.set(0,0,0),vd.set(0,0,0);for(let x=0,y=s.length;x<y;x++){const v=f[x],g=s[x];v!==0&&(Dm.fromBufferAttribute(g,u),Fm.fromBufferAttribute(g,d),Im.fromBufferAttribute(g,h),a?(yd.addScaledVector(Dm,v),xd.addScaledVector(Fm,v),vd.addScaledVector(Im,v)):(yd.addScaledVector(Dm.sub(Di),v),xd.addScaledVector(Fm.sub(Fi),v),vd.addScaledVector(Im.sub(Ii),v)))}Di.add(yd),Fi.add(xd),Ii.add(vd)}t.isSkinnedMesh&&e.skinning&&(t.boneTransform(u,Di),t.boneTransform(d,Fi),t.boneTransform(h,Ii));const p=AU(t,e,n,r,Di,Fi,Ii,Om);if(p){o&&(bd.fromBufferAttribute(o,u),_d.fromBufferAttribute(o,d),wd.fromBufferAttribute(o,h),p.uv=It.getUV(Om,Di,Fi,Ii,bd,_d,wd,new ge)),c&&(bd.fromBufferAttribute(c,u),_d.fromBufferAttribute(c,d),wd.fromBufferAttribute(c,h),p.uv2=It.getUV(Om,Di,Fi,Ii,bd,_d,wd,new ge));const x={a:u,b:d,c:h,normal:new H,materialIndex:0};It.getNormal(Di,Fi,Ii,x.normal),p.face=x}return p}class ev extends tt{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],h=[];let f=0,p=0;x("z","y","x",-1,-1,r,n,e,a,s,0),x("z","y","x",1,-1,r,n,-e,a,s,1),x("x","z","y",1,1,e,r,n,i,a,2),x("x","z","y",1,-1,e,r,-n,i,a,3),x("x","y","z",1,-1,e,n,r,i,s,4),x("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new mt(u,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(h,2));function x(y,v,g,m,b,S,M,w,C,E,N){const L=S/C,F=M/E,D=S/2,k=M/2,T=w/2,z=C+1,j=E+1;let G=0,V=0;const U=new H;for(let q=0;q<j;q++){const W=q*F-k;for(let $=0;$<z;$++){const K=$*L-D;U[y]=K*m,U[v]=W*b,U[g]=T,u.push(U.x,U.y,U.z),U[y]=0,U[v]=0,U[g]=w>0?1:-1,d.push(U.x,U.y,U.z),h.push($/C),h.push(1-q/E),G+=1}}for(let q=0;q<E;q++)for(let W=0;W<C;W++){const $=f+W+z*q,K=f+W+z*(q+1),B=f+(W+1)+z*(q+1),Q=f+(W+1)+z*q;c.push($,K,Q),c.push(K,B,Q),V+=6}o.addGroup(p,V,N),p+=V,f+=G}}}function $o(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function on(t){const e={};for(let n=0;n<t.length;n++){const r=$o(t[n]);for(const i in r)e[i]=r[i]}return e}const jU={clone:$o,merge:on};var PU=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LU=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class da extends qt{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=PU,this.fragmentShader=LU,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$o(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}da.prototype.isShaderMaterial=!0;class tv extends Ye{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ae,this.projectionMatrix=new Ae,this.projectionMatrixInverse=new Ae}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new H),this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}tv.prototype.isCamera=!0;class Tn extends tv{constructor(e=50,n=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Hy*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hy*2*Math.atan(Math.tan(pm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(pm*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/c,n-=a.offsetY*r/u,i*=a.width/c,r*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}Tn.prototype.isPerspectiveCamera=!0;const Da=90,Fa=1;class nv extends Ye{constructor(e,n,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Tn(Da,Fa,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new H(1,0,0)),this.add(i);const s=new Tn(Da,Fa,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new H(-1,0,0)),this.add(s);const a=new Tn(Da,Fa,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new H(0,1,0)),this.add(a);const o=new Tn(Da,Fa,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new H(0,-1,0)),this.add(o);const c=new Tn(Da,Fa,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new H(0,0,1)),this.add(c);const u=new Tn(Da,Fa,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new H(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,a,o,c,u]=this.children,d=e.xr.enabled,h=e.getRenderTarget();e.xr.enabled=!1;const f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,a),e.setRenderTarget(r,3),e.render(n,o),e.setRenderTarget(r,4),e.render(n,c),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(h),e.xr.enabled=d}}class Qf extends nn{constructor(e,n,r,i,s,a,o,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:$0,o=o!==void 0?o:Qs,super(e,n,r,i,s,a,o,c,u,d),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Qf.prototype.isCubeTexture=!0;class Xk extends Zs{constructor(e,n,r){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=r),super(e,e,n),n=n||{},this.texture=new Qf(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:er,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=Nr,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ev(5,5,5),s=new da({name:"CubemapFromEquirect",uniforms:$o(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Vt,blending:fc});s.uniforms.tEquirect.value=n;const a=new Qt(i,s),o=n.minFilter;return n.minFilter===K0&&(n.minFilter=er),new nv(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}Xk.prototype.isWebGLCubeRenderTarget=!0;class Yk extends nn{constructor(e,n,r,i,s,a,o,c,u,d,h,f){super(null,a,o,c,u,d,i,s,h,f),this.image={data:e||null,width:n||1,height:r||1},this.magFilter=u!==void 0?u:yn,this.minFilter=d!==void 0?d:yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Yk.prototype.isDataTexture=!0;const Ia=new cl,Cd=new H;class Zf{constructor(e=new Vr,n=new Vr,r=new Vr,i=new Vr,s=new Vr,a=new Vr){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],a=r[2],o=r[3],c=r[4],u=r[5],d=r[6],h=r[7],f=r[8],p=r[9],x=r[10],y=r[11],v=r[12],g=r[13],m=r[14],b=r[15];return n[0].setComponents(o-i,h-c,y-f,b-v).normalize(),n[1].setComponents(o+i,h+c,y+f,b+v).normalize(),n[2].setComponents(o+s,h+u,y+p,b+g).normalize(),n[3].setComponents(o-s,h-u,y-p,b-g).normalize(),n[4].setComponents(o-a,h-d,y-x,b-m).normalize(),n[5].setComponents(o+a,h+d,y+x,b+m).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Ia.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ia)}intersectsSprite(e){return Ia.center.set(0,0,0),Ia.radius=.7071067811865476,Ia.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ia)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Cd.x=i.normal.x>0?e.max.x:e.min.x,Cd.y=i.normal.y>0?e.max.y:e.min.y,Cd.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Cd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Kk(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function RU(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,d){const h=u.array,f=u.usage,p=t.createBuffer();t.bindBuffer(d,p),t.bufferData(d,h,f),u.onUploadCallback();let x=5126;return h instanceof Float32Array?x=5126:h instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):h instanceof Uint16Array?u.isFloat16BufferAttribute?n?x=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):x=5123:h instanceof Int16Array?x=5122:h instanceof Uint32Array?x=5125:h instanceof Int32Array?x=5124:h instanceof Int8Array?x=5120:h instanceof Uint8Array&&(x=5121),{buffer:p,type:x,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const f=d.array,p=d.updateRange;t.bindBuffer(h,u),p.count===-1?t.bufferSubData(h,0,f):(n?t.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):t.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(t.deleteBuffer(d.buffer),r.delete(u))}function c(u,d){if(u.isGLBufferAttribute){const f=r.get(u);(!f||f.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:a,remove:o,update:c}}class DU extends tt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),c=Math.floor(i),u=o+1,d=c+1,h=e/o,f=n/c,p=[],x=[],y=[],v=[];for(let g=0;g<d;g++){const m=g*f-a;for(let b=0;b<u;b++){const S=b*h-s;x.push(S,-m,0),y.push(0,0,1),v.push(b/o),v.push(1-g/c)}}for(let g=0;g<c;g++)for(let m=0;m<o;m++){const b=m+u*g,S=m+u*(g+1),M=m+1+u*(g+1),w=m+1+u*g;p.push(b,S,w),p.push(S,M,w)}this.setIndex(p),this.setAttribute("position",new mt(x,3)),this.setAttribute("normal",new mt(y,3)),this.setAttribute("uv",new mt(v,2))}}var FU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,IU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,OU=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,BU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,zU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,VU="vec3 transformed = vec3( position );",HU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,UU=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,GU=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,WU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,$U=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,XU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,KU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,QU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ZU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,eG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,tG=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,nG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,iG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,sG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,aG="gl_FragColor = linearToOutputTexel( gl_FragColor );",oG=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,lG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,uG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,dG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fG=`#ifdef USE_FOG
	fogDepth = - mvPosition.z;
#endif`,pG=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,mG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,xG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,vG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,bG=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,_G=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,wG=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( -viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
			vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,SG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,MG=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,CG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,EG=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,TG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,NG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float specularRoughness;
	vec3 specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,kG=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,AG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,jG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,PG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,LG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,DG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,FG=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,IG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,OG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,BG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,VG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,HG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,UG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
		uniform float morphTargetInfluences[ 8 ];
	#else
		uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,GG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
		transformed += morphTarget4 * morphTargetInfluences[ 4 ];
		transformed += morphTarget5 * morphTargetInfluences[ 5 ];
		transformed += morphTarget6 * morphTargetInfluences[ 6 ];
		transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,WG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,$G=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,XG=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,YG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,KG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,QG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ZG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,iW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,sW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,aW=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,oW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,uW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mW=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gW=`#ifdef USE_TRANSMISSIONMAP
	totalTransmission *= texture2D( transmissionMap, vUv ).r;
#endif`,yW=`#ifdef USE_TRANSMISSIONMAP
	uniform sampler2D transmissionMap;
#endif`,xW=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,vW=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,bW=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,_W=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,wW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,SW=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,MW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,CW=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,EW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,TW=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,NW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,AW=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,jW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,PW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,RW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,DW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,FW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OW=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,BW=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zW=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HW=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,UW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GW=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$W=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qW=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSMISSION
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSMISSION
	uniform float transmission;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <transmissionmap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#ifdef TRANSMISSION
		float totalTransmission = transmission;
	#endif
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <transmissionmap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSMISSION
		diffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XW=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,YW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,KW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,QW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,JW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,e7=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,n7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const ze={alphamap_fragment:FU,alphamap_pars_fragment:IU,alphatest_fragment:OU,aomap_fragment:BU,aomap_pars_fragment:zU,begin_vertex:VU,beginnormal_vertex:HU,bsdfs:UU,bumpmap_pars_fragment:GU,clipping_planes_fragment:WU,clipping_planes_pars_fragment:$U,clipping_planes_pars_vertex:qU,clipping_planes_vertex:XU,color_fragment:YU,color_pars_fragment:KU,color_pars_vertex:QU,color_vertex:ZU,common:JU,cube_uv_reflection_fragment:eG,defaultnormal_vertex:tG,displacementmap_pars_vertex:nG,displacementmap_vertex:rG,emissivemap_fragment:iG,emissivemap_pars_fragment:sG,encodings_fragment:aG,encodings_pars_fragment:oG,envmap_fragment:lG,envmap_common_pars_fragment:cG,envmap_pars_fragment:uG,envmap_pars_vertex:dG,envmap_physical_pars_fragment:wG,envmap_vertex:hG,fog_vertex:fG,fog_pars_vertex:pG,fog_fragment:mG,fog_pars_fragment:gG,gradientmap_pars_fragment:yG,lightmap_fragment:xG,lightmap_pars_fragment:vG,lights_lambert_vertex:bG,lights_pars_begin:_G,lights_toon_fragment:SG,lights_toon_pars_fragment:MG,lights_phong_fragment:CG,lights_phong_pars_fragment:EG,lights_physical_fragment:TG,lights_physical_pars_fragment:NG,lights_fragment_begin:kG,lights_fragment_maps:AG,lights_fragment_end:jG,logdepthbuf_fragment:PG,logdepthbuf_pars_fragment:LG,logdepthbuf_pars_vertex:RG,logdepthbuf_vertex:DG,map_fragment:FG,map_pars_fragment:IG,map_particle_fragment:OG,map_particle_pars_fragment:BG,metalnessmap_fragment:zG,metalnessmap_pars_fragment:VG,morphnormal_vertex:HG,morphtarget_pars_vertex:UG,morphtarget_vertex:GG,normal_fragment_begin:WG,normal_fragment_maps:$G,normalmap_pars_fragment:qG,clearcoat_normal_fragment_begin:XG,clearcoat_normal_fragment_maps:YG,clearcoat_pars_fragment:KG,packing:QG,premultiplied_alpha_fragment:ZG,project_vertex:JG,dithering_fragment:eW,dithering_pars_fragment:tW,roughnessmap_fragment:nW,roughnessmap_pars_fragment:rW,shadowmap_pars_fragment:iW,shadowmap_pars_vertex:sW,shadowmap_vertex:aW,shadowmask_pars_fragment:oW,skinbase_vertex:lW,skinning_pars_vertex:cW,skinning_vertex:uW,skinnormal_vertex:dW,specularmap_fragment:hW,specularmap_pars_fragment:fW,tonemapping_fragment:pW,tonemapping_pars_fragment:mW,transmissionmap_fragment:gW,transmissionmap_pars_fragment:yW,uv_pars_fragment:xW,uv_pars_vertex:vW,uv_vertex:bW,uv2_pars_fragment:_W,uv2_pars_vertex:wW,uv2_vertex:SW,worldpos_vertex:MW,background_frag:CW,background_vert:EW,cube_frag:TW,cube_vert:NW,depth_frag:kW,depth_vert:AW,distanceRGBA_frag:jW,distanceRGBA_vert:PW,equirect_frag:LW,equirect_vert:RW,linedashed_frag:DW,linedashed_vert:FW,meshbasic_frag:IW,meshbasic_vert:OW,meshlambert_frag:BW,meshlambert_vert:zW,meshmatcap_frag:VW,meshmatcap_vert:HW,meshtoon_frag:UW,meshtoon_vert:GW,meshphong_frag:WW,meshphong_vert:$W,meshphysical_frag:qW,meshphysical_vert:XW,normal_frag:YW,normal_vert:KW,points_frag:QW,points_vert:ZW,shadow_frag:JW,shadow_vert:e7,sprite_frag:t7,sprite_vert:n7},we={common:{diffuse:{value:new Ee(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Zt},uv2Transform:{value:new Zt},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ee(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ee(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Zt}},sprite:{diffuse:{value:new Ee(15658734)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Zt}}},Hr={basic:{uniforms:on([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:ze.meshbasic_vert,fragmentShader:ze.meshbasic_frag},lambert:{uniforms:on([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.fog,we.lights,{emissive:{value:new Ee(0)}}]),vertexShader:ze.meshlambert_vert,fragmentShader:ze.meshlambert_frag},phong:{uniforms:on([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Ee(0)},specular:{value:new Ee(1118481)},shininess:{value:30}}]),vertexShader:ze.meshphong_vert,fragmentShader:ze.meshphong_frag},standard:{uniforms:on([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new Ee(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ze.meshphysical_vert,fragmentShader:ze.meshphysical_frag},toon:{uniforms:on([we.common,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new Ee(0)}}]),vertexShader:ze.meshtoon_vert,fragmentShader:ze.meshtoon_frag},matcap:{uniforms:on([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:ze.meshmatcap_vert,fragmentShader:ze.meshmatcap_frag},points:{uniforms:on([we.points,we.fog]),vertexShader:ze.points_vert,fragmentShader:ze.points_frag},dashed:{uniforms:on([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ze.linedashed_vert,fragmentShader:ze.linedashed_frag},depth:{uniforms:on([we.common,we.displacementmap]),vertexShader:ze.depth_vert,fragmentShader:ze.depth_frag},normal:{uniforms:on([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:ze.normal_vert,fragmentShader:ze.normal_frag},sprite:{uniforms:on([we.sprite,we.fog]),vertexShader:ze.sprite_vert,fragmentShader:ze.sprite_frag},background:{uniforms:{uvTransform:{value:new Zt},t2D:{value:null}},vertexShader:ze.background_vert,fragmentShader:ze.background_frag},cube:{uniforms:on([we.envmap,{opacity:{value:1}}]),vertexShader:ze.cube_vert,fragmentShader:ze.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ze.equirect_vert,fragmentShader:ze.equirect_frag},distanceRGBA:{uniforms:on([we.common,we.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ze.distanceRGBA_vert,fragmentShader:ze.distanceRGBA_frag},shadow:{uniforms:on([we.lights,we.fog,{color:{value:new Ee(0)},opacity:{value:1}}]),vertexShader:ze.shadow_vert,fragmentShader:ze.shadow_frag}};Hr.physical={uniforms:on([Hr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ge(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ee(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ze.meshphysical_vert,fragmentShader:ze.meshphysical_frag};function r7(t,e,n,r,i){const s=new Ee(0);let a=0,o,c,u=null,d=0,h=null;function f(x,y,v,g){let m=y.isScene===!0?y.background:null;m&&m.isTexture&&(m=e.get(m));const b=t.xr,S=b.getSession&&b.getSession();S&&S.environmentBlendMode==="additive"&&(m=null),m===null?p(s,a):m&&m.isColor&&(p(m,1),g=!0),(t.autoClear||g)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),m&&(m.isCubeTexture||m.mapping===X0)?(c===void 0&&(c=new Qt(new ev(1,1,1),new da({name:"BackgroundCubeMaterial",uniforms:$o(Hr.cube.uniforms),vertexShader:Hr.cube.vertexShader,fragmentShader:Hr.cube.fragmentShader,side:Vt,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,w,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=m,c.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,(u!==m||d!==m.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,u=m,d=m.version,h=t.toneMapping),x.unshift(c,c.geometry,c.material,0,0,null)):m&&m.isTexture&&(o===void 0&&(o=new Qt(new DU(2,2),new da({name:"BackgroundMaterial",uniforms:$o(Hr.background.uniforms),vertexShader:Hr.background.vertexShader,fragmentShader:Hr.background.fragmentShader,side:Xf,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),o.material.uniforms.uvTransform.value.copy(m.matrix),(u!==m||d!==m.version||h!==t.toneMapping)&&(o.material.needsUpdate=!0,u=m,d=m.version,h=t.toneMapping),x.unshift(o,o.geometry,o.material,0,0,null))}function p(x,y){n.buffers.color.setClear(x.r,x.g,x.b,y,i)}return{getClearColor:function(){return s},setClearColor:function(x,y=1){s.set(x),a=y,p(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(x){a=x,p(s,a)},render:f}}function i7(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},c=y(null);let u=c;function d(k,T,z,j,G){let V=!1;if(a){const U=x(j,z,T);u!==U&&(u=U,f(u.object)),V=v(j,G),V&&g(j,G)}else{const U=T.wireframe===!0;(u.geometry!==j.id||u.program!==z.id||u.wireframe!==U)&&(u.geometry=j.id,u.program=z.id,u.wireframe=U,V=!0)}k.isInstancedMesh===!0&&(V=!0),G!==null&&n.update(G,34963),V&&(C(k,T,z,j),G!==null&&t.bindBuffer(34963,n.get(G).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function f(k){return r.isWebGL2?t.bindVertexArray(k):s.bindVertexArrayOES(k)}function p(k){return r.isWebGL2?t.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function x(k,T,z){const j=z.wireframe===!0;let G=o[k.id];G===void 0&&(G={},o[k.id]=G);let V=G[T.id];V===void 0&&(V={},G[T.id]=V);let U=V[j];return U===void 0&&(U=y(h()),V[j]=U),U}function y(k){const T=[],z=[],j=[];for(let G=0;G<i;G++)T[G]=0,z[G]=0,j[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:z,attributeDivisors:j,object:k,attributes:{},index:null}}function v(k,T){const z=u.attributes,j=k.attributes;let G=0;for(const V in j){const U=z[V],q=j[V];if(U===void 0||U.attribute!==q||U.data!==q.data)return!0;G++}return u.attributesNum!==G||u.index!==T}function g(k,T){const z={},j=k.attributes;let G=0;for(const V in j){const U=j[V],q={};q.attribute=U,U.data&&(q.data=U.data),z[V]=q,G++}u.attributes=z,u.attributesNum=G,u.index=T}function m(){const k=u.newAttributes;for(let T=0,z=k.length;T<z;T++)k[T]=0}function b(k){S(k,0)}function S(k,T){const z=u.newAttributes,j=u.enabledAttributes,G=u.attributeDivisors;z[k]=1,j[k]===0&&(t.enableVertexAttribArray(k),j[k]=1),G[k]!==T&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,T),G[k]=T)}function M(){const k=u.newAttributes,T=u.enabledAttributes;for(let z=0,j=T.length;z<j;z++)T[z]!==k[z]&&(t.disableVertexAttribArray(z),T[z]=0)}function w(k,T,z,j,G,V){r.isWebGL2===!0&&(z===5124||z===5125)?t.vertexAttribIPointer(k,T,z,G,V):t.vertexAttribPointer(k,T,z,j,G,V)}function C(k,T,z,j){if(r.isWebGL2===!1&&(k.isInstancedMesh||j.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;m();const G=j.attributes,V=z.getAttributes(),U=T.defaultAttributeValues;for(const q in V){const W=V[q];if(W>=0){const $=G[q];if($!==void 0){const K=$.normalized,B=$.itemSize,Q=n.get($);if(Q===void 0)continue;const pe=Q.buffer,J=Q.type,de=Q.bytesPerElement;if($.isInterleavedBufferAttribute){const _e=$.data,be=_e.stride,ue=$.offset;_e&&_e.isInstancedInterleavedBuffer?(S(W,_e.meshPerAttribute),j._maxInstanceCount===void 0&&(j._maxInstanceCount=_e.meshPerAttribute*_e.count)):b(W),t.bindBuffer(34962,pe),w(W,B,J,K,be*de,ue*de)}else $.isInstancedBufferAttribute?(S(W,$.meshPerAttribute),j._maxInstanceCount===void 0&&(j._maxInstanceCount=$.meshPerAttribute*$.count)):b(W),t.bindBuffer(34962,pe),w(W,B,J,K,0,0)}else if(q==="instanceMatrix"){const K=n.get(k.instanceMatrix);if(K===void 0)continue;const B=K.buffer,Q=K.type;S(W+0,1),S(W+1,1),S(W+2,1),S(W+3,1),t.bindBuffer(34962,B),t.vertexAttribPointer(W+0,4,Q,!1,64,0),t.vertexAttribPointer(W+1,4,Q,!1,64,16),t.vertexAttribPointer(W+2,4,Q,!1,64,32),t.vertexAttribPointer(W+3,4,Q,!1,64,48)}else if(q==="instanceColor"){const K=n.get(k.instanceColor);if(K===void 0)continue;const B=K.buffer,Q=K.type;S(W,1),t.bindBuffer(34962,B),t.vertexAttribPointer(W,3,Q,!1,12,0)}else if(U!==void 0){const K=U[q];if(K!==void 0)switch(K.length){case 2:t.vertexAttrib2fv(W,K);break;case 3:t.vertexAttrib3fv(W,K);break;case 4:t.vertexAttrib4fv(W,K);break;default:t.vertexAttrib1fv(W,K)}}}}M()}function E(){F();for(const k in o){const T=o[k];for(const z in T){const j=T[z];for(const G in j)p(j[G].object),delete j[G];delete T[z]}delete o[k]}}function N(k){if(o[k.id]===void 0)return;const T=o[k.id];for(const z in T){const j=T[z];for(const G in j)p(j[G].object),delete j[G];delete T[z]}delete o[k.id]}function L(k){for(const T in o){const z=o[T];if(z[k.id]===void 0)continue;const j=z[k.id];for(const G in j)p(j[G].object),delete j[G];delete z[k.id]}}function F(){D(),u!==c&&(u=c,f(u.object))}function D(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:d,reset:F,resetDefaultState:D,dispose:E,releaseStatesOfGeometry:N,releaseStatesOfProgram:L,initAttributes:m,enableAttribute:b,disableUnusedAttributes:M}}function s7(t,e,n,r){const i=r.isWebGL2;let s;function a(u){s=u}function o(u,d){t.drawArrays(s,u,d),n.update(d,s,1)}function c(u,d,h){if(h===0)return;let f,p;if(i)f=t,p="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](s,u,d,h),n.update(d,s,h)}this.setMode=a,this.render=o,this.renderInstances=c}function a7(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const w=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(w){if(w==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";w="mediump"}return w==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let o=n.precision!==void 0?n.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),h=t.getParameter(35660),f=t.getParameter(3379),p=t.getParameter(34076),x=t.getParameter(34921),y=t.getParameter(36347),v=t.getParameter(36348),g=t.getParameter(36349),m=h>0,b=a||e.has("OES_texture_float"),S=m&&b,M=a?t.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:x,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:b,floatVertexTextures:S,maxSamples:M}}function o7(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Vr,o=new Zt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f,p){const x=h.length!==0||f||r!==0||i;return i=f,n=d(h,p,0),r=h.length,x},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,f,p){const x=h.clippingPlanes,y=h.clipIntersection,v=h.clipShadows,g=t.get(h);if(!i||x===null||x.length===0||s&&!v)s?d(null):u();else{const m=s?0:r,b=m*4;let S=g.clippingState||null;c.value=S,S=d(x,f,b,p);for(let M=0;M!==b;++M)S[M]=n[M];g.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=m}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,f,p,x){const y=h!==null?h.length:0;let v=null;if(y!==0){if(v=c.value,x!==!0||v===null){const g=p+y*4,m=f.matrixWorldInverse;o.getNormalMatrix(m),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,S=p;b!==y;++b,S+=4)a.copy(h[b]).applyMatrix4(m,o),a.normal.toArray(v,S),v[S+3]=a.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function l7(t){let e=new WeakMap;function n(a,o){return o===c1?a.mapping=$0:o===u1&&(a.mapping=q0),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===c1||o===u1)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=t.getRenderTarget(),d=new Xk(c.height/2);return d.fromEquirectangularTexture(t,a),e.set(a,d),t.setRenderTarget(u),a.addEventListener("dispose",i),n(d.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}function c7(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function u7(t,e,n,r){const i={},s=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const x in f.attributes)e.remove(f.attributes[x]);f.removeEventListener("dispose",a),delete i[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(h,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function c(h){const f=h.attributes;for(const x in f)e.update(f[x],34962);const p=h.morphAttributes;for(const x in p){const y=p[x];for(let v=0,g=y.length;v<g;v++)e.update(y[v],34962)}}function u(h){const f=[],p=h.index,x=h.attributes.position;let y=0;if(p!==null){const m=p.array;y=p.version;for(let b=0,S=m.length;b<S;b+=3){const M=m[b+0],w=m[b+1],C=m[b+2];f.push(M,w,w,C,C,M)}}else{const m=x.array;y=x.version;for(let b=0,S=m.length/3-1;b<S;b+=3){const M=b+0,w=b+1,C=b+2;f.push(M,w,w,C,C,M)}}const v=new(qk(f)>65535?$k:Wk)(f,1);v.version=y;const g=s.get(h);g&&e.remove(g),s.set(h,v)}function d(h){const f=s.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&u(h)}else u(h);return s.get(h)}return{get:o,update:c,getWireframeAttribute:d}}function d7(t,e,n,r){const i=r.isWebGL2;let s;function a(f){s=f}let o,c;function u(f){o=f.type,c=f.bytesPerElement}function d(f,p){t.drawElements(s,p,o,f*c),n.update(p,s,1)}function h(f,p,x){if(x===0)return;let y,v;if(i)y=t,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,p,o,f*c,x),n.update(p,s,x)}this.setMode=a,this.setIndex=u,this.render=d,this.renderInstances=h}function h7(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case 4:n.triangles+=o*(s/3);break;case 1:n.lines+=o*(s/2);break;case 3:n.lines+=o*(s-1);break;case 2:n.lines+=o*s;break;case 0:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function f7(t,e){return t[0]-e[0]}function p7(t,e){return Math.abs(e[1])-Math.abs(t[1])}function m7(t){const e={},n=new Float32Array(8),r=[];for(let s=0;s<8;s++)r[s]=[s,0];function i(s,a,o,c){const u=s.morphTargetInfluences,d=u===void 0?0:u.length;let h=e[a.id];if(h===void 0){h=[];for(let v=0;v<d;v++)h[v]=[v,0];e[a.id]=h}for(let v=0;v<d;v++){const g=h[v];g[0]=v,g[1]=u[v]}h.sort(p7);for(let v=0;v<8;v++)v<d&&h[v][1]?(r[v][0]=h[v][0],r[v][1]=h[v][1]):(r[v][0]=Number.MAX_SAFE_INTEGER,r[v][1]=0);r.sort(f7);const f=o.morphTargets&&a.morphAttributes.position,p=o.morphNormals&&a.morphAttributes.normal;let x=0;for(let v=0;v<8;v++){const g=r[v],m=g[0],b=g[1];m!==Number.MAX_SAFE_INTEGER&&b?(f&&a.getAttribute("morphTarget"+v)!==f[m]&&a.setAttribute("morphTarget"+v,f[m]),p&&a.getAttribute("morphNormal"+v)!==p[m]&&a.setAttribute("morphNormal"+v,p[m]),n[v]=b,x+=b):(f&&a.hasAttribute("morphTarget"+v)===!0&&a.deleteAttribute("morphTarget"+v),p&&a.hasAttribute("morphNormal"+v)===!0&&a.deleteAttribute("morphNormal"+v),n[v]=0)}const y=a.morphTargetsRelative?1:1-x;c.getUniforms().setValue(t,"morphTargetBaseInfluence",y),c.getUniforms().setValue(t,"morphTargetInfluences",n)}return{update:i}}function g7(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,h=e.get(c,d);return i.get(h)!==u&&(e.update(h),i.set(h,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),n.update(c.instanceMatrix,34962),c.instanceColor!==null&&n.update(c.instanceColor,34962)),h}function a(){i=new WeakMap}function o(c){const u=c.target;u.removeEventListener("dispose",o),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class Qk extends nn{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=yn,this.minFilter=yn,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Qk.prototype.isDataTexture2DArray=!0;class Zk extends nn{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=yn,this.minFilter=yn,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Zk.prototype.isDataTexture3D=!0;const Jk=new nn,y7=new Qk,x7=new Zk,eA=new Qf,F1=[],I1=[],O1=new Float32Array(16),B1=new Float32Array(9),z1=new Float32Array(4);function hl(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=F1[i];if(s===void 0&&(s=new Float32Array(i),F1[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function _n(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function dn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function tA(t,e){let n=I1[e];n===void 0&&(n=new Int32Array(e),I1[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function v7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function b7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_n(n,e))return;t.uniform2fv(this.addr,e),dn(n,e)}}function _7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(_n(n,e))return;t.uniform3fv(this.addr,e),dn(n,e)}}function w7(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_n(n,e))return;t.uniform4fv(this.addr,e),dn(n,e)}}function S7(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_n(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),dn(n,e)}else{if(_n(n,r))return;z1.set(r),t.uniformMatrix2fv(this.addr,!1,z1),dn(n,r)}}function M7(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_n(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),dn(n,e)}else{if(_n(n,r))return;B1.set(r),t.uniformMatrix3fv(this.addr,!1,B1),dn(n,r)}}function C7(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_n(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),dn(n,e)}else{if(_n(n,r))return;O1.set(r),t.uniformMatrix4fv(this.addr,!1,O1),dn(n,r)}}function E7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function T7(t,e){const n=this.cache;_n(n,e)||(t.uniform2iv(this.addr,e),dn(n,e))}function N7(t,e){const n=this.cache;_n(n,e)||(t.uniform3iv(this.addr,e),dn(n,e))}function k7(t,e){const n=this.cache;_n(n,e)||(t.uniform4iv(this.addr,e),dn(n,e))}function A7(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function j7(t,e){const n=this.cache;_n(n,e)||(t.uniform2uiv(this.addr,e),dn(n,e))}function P7(t,e){const n=this.cache;_n(n,e)||(t.uniform3uiv(this.addr,e),dn(n,e))}function L7(t,e){const n=this.cache;_n(n,e)||(t.uniform4uiv(this.addr,e),dn(n,e))}function R7(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||Jk,i)}function D7(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||x7,i)}function F7(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||eA,i)}function I7(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||y7,i)}function O7(t){switch(t){case 5126:return v7;case 35664:return b7;case 35665:return _7;case 35666:return w7;case 35674:return S7;case 35675:return M7;case 35676:return C7;case 5124:case 35670:return E7;case 35667:case 35671:return T7;case 35668:case 35672:return N7;case 35669:case 35673:return k7;case 5125:return A7;case 36294:return j7;case 36295:return P7;case 36296:return L7;case 35678:case 36198:case 36298:case 36306:case 35682:return R7;case 35679:case 36299:case 36307:return D7;case 35680:case 36300:case 36308:case 36293:return F7;case 36289:case 36303:case 36311:case 36292:return I7}}function B7(t,e){t.uniform1fv(this.addr,e)}function z7(t,e){const n=hl(e,this.size,2);t.uniform2fv(this.addr,n)}function V7(t,e){const n=hl(e,this.size,3);t.uniform3fv(this.addr,n)}function H7(t,e){const n=hl(e,this.size,4);t.uniform4fv(this.addr,n)}function U7(t,e){const n=hl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function G7(t,e){const n=hl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function W7(t,e){const n=hl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $7(t,e){t.uniform1iv(this.addr,e)}function q7(t,e){t.uniform2iv(this.addr,e)}function X7(t,e){t.uniform3iv(this.addr,e)}function Y7(t,e){t.uniform4iv(this.addr,e)}function K7(t,e){t.uniform1uiv(this.addr,e)}function Q7(t,e){t.uniform2uiv(this.addr,e)}function Z7(t,e){t.uniform3uiv(this.addr,e)}function J7(t,e){t.uniform4uiv(this.addr,e)}function e9(t,e,n){const r=e.length,i=tA(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.safeSetTexture2D(e[s]||Jk,i[s])}function t9(t,e,n){const r=e.length,i=tA(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.safeSetTextureCube(e[s]||eA,i[s])}function n9(t){switch(t){case 5126:return B7;case 35664:return z7;case 35665:return V7;case 35666:return H7;case 35674:return U7;case 35675:return G7;case 35676:return W7;case 5124:case 35670:return $7;case 35667:case 35671:return q7;case 35668:case 35672:return X7;case 35669:case 35673:return Y7;case 5125:return K7;case 36294:return Q7;case 36295:return Z7;case 36296:return J7;case 35678:case 36198:case 36298:case 36306:case 35682:return e9;case 35680:case 36300:case 36308:case 36293:return t9}}function r9(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=O7(e.type)}function nA(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=n9(e.type)}nA.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),dn(e,t)};function rA(t){this.id=t,this.seq=[],this.map={}}rA.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const a=r[i];a.setValue(t,e[a.id],n)}};const Bm=/(\w+)(\])?(\[|\.)?/g;function V1(t,e){t.seq.push(e),t.map[e.id]=e}function i9(t,e,n){const r=t.name,i=r.length;for(Bm.lastIndex=0;;){const s=Bm.exec(r),a=Bm.lastIndex;let o=s[1];const c=s[2]==="]",u=s[3];if(c&&(o=o|0),u===void 0||u==="["&&a+2===i){V1(n,u===void 0?new r9(o,t,e):new nA(o,t,e));break}else{let h=n.map[o];h===void 0&&(h=new rA(o),V1(n,h)),n=h}}}function ds(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const i=t.getActiveUniform(e,r),s=t.getUniformLocation(e,i.name);i9(i,s,this)}}ds.prototype.setValue=function(t,e,n,r){const i=this.map[e];i!==void 0&&i.setValue(t,n,r)};ds.prototype.setOptional=function(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)};ds.upload=function(t,e,n,r){for(let i=0,s=e.length;i!==s;++i){const a=e[i],o=n[a.id];o.needsUpdate!==!1&&a.setValue(t,o.value,r)}};ds.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.id in e&&n.push(s)}return n};function H1(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let s9=0;function a9(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function iA(t){switch(t){case Cu:return["Linear","( value )"];case Uk:return["sRGB","( value )"];case rU:return["RGBE","( value )"];case sU:return["RGBM","( value, 7.0 )"];case aU:return["RGBM","( value, 16.0 )"];case oU:return["RGBD","( value, 256.0 )"];case nU:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case iU:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function U1(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+i+a9(s)}function Ll(t,e){const n=iA(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function o9(t,e){const n=iA(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function l9(t,e){let n;switch(e){case tH:n="Linear";break;case nH:n="Reinhard";break;case rH:n="OptimizedCineon";break;case iH:n="ACESFilmic";break;case sH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function c9(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ql).join(`
`)}function u9(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function d9(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}return n}function ql(t){return t!==""}function G1(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function W1(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const h9=/^[ \t]*#include +<([\w\d./]+)>/gm;function Uy(t){return t.replace(h9,f9)}function f9(t,e){const n=ze[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return Uy(n)}const p9=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,m9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $1(t){return t.replace(m9,sA).replace(p9,g9)}function g9(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),sA(t,e,n,r)}function sA(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function q1(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function y9(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Ik?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===L8?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===$l&&(e="SHADOWMAP_TYPE_VSM"),e}function x9(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case $0:case q0:e="ENVMAP_TYPE_CUBE";break;case X0:case Y0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function v9(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case q0:case Y0:e="ENVMAP_MODE_REFRACTION";break}return e}function b9(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Kf:e="ENVMAP_BLENDING_MULTIPLY";break;case J8:e="ENVMAP_BLENDING_MIX";break;case eH:e="ENVMAP_BLENDING_ADD";break}return e}function _9(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const c=y9(n),u=x9(n),d=v9(n),h=b9(n),f=t.gammaFactor>0?t.gammaFactor:1,p=n.isWebGL2?"":c9(n),x=u9(s),y=i.createProgram();let v,g,m=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=[x].filter(ql).join(`
`),v.length>0&&(v+=`
`),g=[p,x].filter(ql).join(`
`),g.length>0&&(g+=`
`)):(v=[q1(n),"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ql).join(`
`),g=[p,q1(n),"#define SHADER_NAME "+n.shaderName,x,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==mc?"#define TONE_MAPPING":"",n.toneMapping!==mc?ze.tonemapping_pars_fragment:"",n.toneMapping!==mc?l9("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",ze.encodings_pars_fragment,n.map?Ll("mapTexelToLinear",n.mapEncoding):"",n.matcap?Ll("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Ll("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Ll("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Ll("lightMapTexelToLinear",n.lightMapEncoding):"",o9("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ql).join(`
`)),a=Uy(a),a=G1(a,n),a=W1(a,n),o=Uy(o),o=G1(o,n),o=W1(o,n),a=$1(a),o=$1(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,v=["#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",n.glslVersion===S1?"":"out highp vec4 pc_fragColor;",n.glslVersion===S1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=m+v+a,S=m+g+o,M=H1(i,35633,b),w=H1(i,35632,S);if(i.attachShader(y,M),i.attachShader(y,w),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const N=i.getProgramInfoLog(y).trim(),L=i.getShaderInfoLog(M).trim(),F=i.getShaderInfoLog(w).trim();let D=!0,k=!0;if(i.getProgramParameter(y,35714)===!1){D=!1;const T=U1(i,M,"vertex"),z=U1(i,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(y,35715),"gl.getProgramInfoLog",N,T,z)}else N!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",N):(L===""||F==="")&&(k=!1);k&&(this.diagnostics={runnable:D,programLog:N,vertexShader:{log:L,prefix:v},fragmentShader:{log:F,prefix:g}})}i.deleteShader(M),i.deleteShader(w);let C;this.getUniforms=function(){return C===void 0&&(C=new ds(i,y)),C};let E;return this.getAttributes=function(){return E===void 0&&(E=d9(i,y)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=s9++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=w,this}function w9(t,e,n,r,i,s){const a=[],o=r.isWebGL2,c=r.logarithmicDepthBuffer,u=r.floatVertexTextures,d=r.maxVertexUniforms,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},x=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function y(w){const E=w.skeleton.bones;if(u)return 1024;{const L=Math.floor((d-20)/4),F=Math.min(L,E.length);return F<E.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+E.length+" bones. This GPU supports "+F+"."),0):F}}function v(w){let C;return w&&w.isTexture?C=w.encoding:w&&w.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=w.texture.encoding):C=Cu,C}function g(w,C,E,N,L){const F=N.fog,D=w.isMeshStandardMaterial?N.environment:null,k=e.get(w.envMap||D),T=p[w.type],z=L.isSkinnedMesh?y(L):0;w.precision!==null&&(f=r.getMaxPrecision(w.precision),f!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",f,"instead."));let j,G;if(T){const q=Hr[T];j=q.vertexShader,G=q.fragmentShader}else j=w.vertexShader,G=w.fragmentShader;const V=t.getRenderTarget();return{isWebGL2:o,shaderID:T,shaderName:w.type,vertexShader:j,fragmentShader:G,defines:w.defines,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:f,instancing:L.isInstancedMesh===!0,instancingColor:L.isInstancedMesh===!0&&L.instanceColor!==null,supportsVertexTextures:h,outputEncoding:V!==null?v(V.texture):t.outputEncoding,map:!!w.map,mapEncoding:v(w.map),matcap:!!w.matcap,matcapEncoding:v(w.matcap),envMap:!!k,envMapMode:k&&k.mapping,envMapEncoding:v(k),envMapCubeUV:!!k&&(k.mapping===X0||k.mapping===Y0),lightMap:!!w.lightMap,lightMapEncoding:v(w.lightMap),aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,emissiveMapEncoding:v(w.emissiveMap),bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===uU,tangentSpaceNormalMap:w.normalMapType===ol,clearcoatMap:!!w.clearcoatMap,clearcoatRoughnessMap:!!w.clearcoatRoughnessMap,clearcoatNormalMap:!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,alphaMap:!!w.alphaMap,gradientMap:!!w.gradientMap,sheen:!!w.sheen,transmissionMap:!!w.transmissionMap,combine:w.combine,vertexTangents:w.normalMap&&w.vertexTangents,vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&L.geometry&&L.geometry.attributes.color&&L.geometry.attributes.color.itemSize===4,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap||!!w.transmissionMap,uvsVertexOnly:!(w.map||w.bumpMap||w.normalMap||w.specularMap||w.alphaMap||w.emissiveMap||w.roughnessMap||w.metalnessMap||w.clearcoatNormalMap||w.transmissionMap)&&!!w.displacementMap,fog:!!F,useFog:w.fog,fogExp2:F&&F.isFogExp2,flatShading:!!w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:c,skinning:w.skinning&&z>0,maxBones:z,useVertexTexture:u,morphTargets:w.morphTargets,morphNormals:w.morphNormals,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:w.dithering,shadowMapEnabled:t.shadowMap.enabled&&E.length>0,shadowMapType:t.shadowMap.type,toneMapping:w.toneMapped?t.toneMapping:mc,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,alphaTest:w.alphaTest,doubleSided:w.side===Yf,flipSided:w.side===Vt,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:o||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||n.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function m(w){const C=[];if(w.shaderID?C.push(w.shaderID):(C.push(w.fragmentShader),C.push(w.vertexShader)),w.defines!==void 0)for(const E in w.defines)C.push(E),C.push(w.defines[E]);if(w.isRawShaderMaterial===!1){for(let E=0;E<x.length;E++)C.push(w[x[E]]);C.push(t.outputEncoding),C.push(t.gammaFactor)}return C.push(w.customProgramCacheKey),C.join()}function b(w){const C=p[w.type];let E;if(C){const N=Hr[C];E=jU.clone(N.uniforms)}else E=w.uniforms;return E}function S(w,C){let E;for(let N=0,L=a.length;N<L;N++){const F=a[N];if(F.cacheKey===C){E=F,++E.usedTimes;break}}return E===void 0&&(E=new _9(t,C,w,i),a.push(E)),E}function M(w){if(--w.usedTimes===0){const C=a.indexOf(w);a[C]=a[a.length-1],a.pop(),w.destroy()}}return{getParameters:g,getProgramCacheKey:m,getUniforms:b,acquireProgram:S,releaseProgram:M,programs:a}}function S9(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function r(s,a,o){t.get(s)[a]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function M9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function C9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function X1(t){const e=[];let n=0;const r=[],i=[],s={id:-1};function a(){n=0,r.length=0,i.length=0}function o(f,p,x,y,v,g){let m=e[n];const b=t.get(x);return m===void 0?(m={id:f.id,object:f,geometry:p,material:x,program:b.program||s,groupOrder:y,renderOrder:f.renderOrder,z:v,group:g},e[n]=m):(m.id=f.id,m.object=f,m.geometry=p,m.material=x,m.program=b.program||s,m.groupOrder=y,m.renderOrder=f.renderOrder,m.z=v,m.group=g),n++,m}function c(f,p,x,y,v,g){const m=o(f,p,x,y,v,g);(x.transparent===!0?i:r).push(m)}function u(f,p,x,y,v,g){const m=o(f,p,x,y,v,g);(x.transparent===!0?i:r).unshift(m)}function d(f,p){r.length>1&&r.sort(f||M9),i.length>1&&i.sort(p||C9)}function h(){for(let f=n,p=e.length;f<p;f++){const x=e[f];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.program=null,x.group=null}}return{opaque:r,transparent:i,init:a,push:c,unshift:u,finish:h,sort:d}}function E9(t){let e=new WeakMap;function n(i,s){let a;return e.has(i)===!1?(a=new X1(t),e.set(i,[a])):s>=e.get(i).length?(a=new X1(t),e.get(i).push(a)):a=e.get(i)[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}function T9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new Ee};break;case"SpotLight":n={position:new H,direction:new H,color:new Ee,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new Ee,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new Ee,groundColor:new Ee};break;case"RectAreaLight":n={color:new Ee,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function N9(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let k9=0;function A9(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function j9(t,e){const n=new T9,r=N9(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)i.probe.push(new H);const s=new H,a=new Ae,o=new Ae;function c(d){let h=0,f=0,p=0;for(let C=0;C<9;C++)i.probe[C].set(0,0,0);let x=0,y=0,v=0,g=0,m=0,b=0,S=0,M=0;d.sort(A9);for(let C=0,E=d.length;C<E;C++){const N=d[C],L=N.color,F=N.intensity,D=N.distance,k=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)h+=L.r*F,f+=L.g*F,p+=L.b*F;else if(N.isLightProbe)for(let T=0;T<9;T++)i.probe[T].addScaledVector(N.sh.coefficients[T],F);else if(N.isDirectionalLight){const T=n.get(N);if(T.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const z=N.shadow,j=r.get(N);j.shadowBias=z.bias,j.shadowNormalBias=z.normalBias,j.shadowRadius=z.radius,j.shadowMapSize=z.mapSize,i.directionalShadow[x]=j,i.directionalShadowMap[x]=k,i.directionalShadowMatrix[x]=N.shadow.matrix,b++}i.directional[x]=T,x++}else if(N.isSpotLight){const T=n.get(N);if(T.position.setFromMatrixPosition(N.matrixWorld),T.color.copy(L).multiplyScalar(F),T.distance=D,T.coneCos=Math.cos(N.angle),T.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),T.decay=N.decay,N.castShadow){const z=N.shadow,j=r.get(N);j.shadowBias=z.bias,j.shadowNormalBias=z.normalBias,j.shadowRadius=z.radius,j.shadowMapSize=z.mapSize,i.spotShadow[v]=j,i.spotShadowMap[v]=k,i.spotShadowMatrix[v]=N.shadow.matrix,M++}i.spot[v]=T,v++}else if(N.isRectAreaLight){const T=n.get(N);T.color.copy(L).multiplyScalar(F),T.halfWidth.set(N.width*.5,0,0),T.halfHeight.set(0,N.height*.5,0),i.rectArea[g]=T,g++}else if(N.isPointLight){const T=n.get(N);if(T.color.copy(N.color).multiplyScalar(N.intensity),T.distance=N.distance,T.decay=N.decay,N.castShadow){const z=N.shadow,j=r.get(N);j.shadowBias=z.bias,j.shadowNormalBias=z.normalBias,j.shadowRadius=z.radius,j.shadowMapSize=z.mapSize,j.shadowCameraNear=z.camera.near,j.shadowCameraFar=z.camera.far,i.pointShadow[y]=j,i.pointShadowMap[y]=k,i.pointShadowMatrix[y]=N.shadow.matrix,S++}i.point[y]=T,y++}else if(N.isHemisphereLight){const T=n.get(N);T.skyColor.copy(N.color).multiplyScalar(F),T.groundColor.copy(N.groundColor).multiplyScalar(F),i.hemi[m]=T,m++}}g>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=we.LTC_FLOAT_1,i.rectAreaLTC2=we.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=we.LTC_HALF_1,i.rectAreaLTC2=we.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=f,i.ambient[2]=p;const w=i.hash;(w.directionalLength!==x||w.pointLength!==y||w.spotLength!==v||w.rectAreaLength!==g||w.hemiLength!==m||w.numDirectionalShadows!==b||w.numPointShadows!==S||w.numSpotShadows!==M)&&(i.directional.length=x,i.spot.length=v,i.rectArea.length=g,i.point.length=y,i.hemi.length=m,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=S,i.spotShadowMatrix.length=M,w.directionalLength=x,w.pointLength=y,w.spotLength=v,w.rectAreaLength=g,w.hemiLength=m,w.numDirectionalShadows=b,w.numPointShadows=S,w.numSpotShadows=M,i.version=k9++)}function u(d,h){let f=0,p=0,x=0,y=0,v=0;const g=h.matrixWorldInverse;for(let m=0,b=d.length;m<b;m++){const S=d[m];if(S.isDirectionalLight){const M=i.directional[f];M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),f++}else if(S.isSpotLight){const M=i.spot[x];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(g),M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(g),x++}else if(S.isRectAreaLight){const M=i.rectArea[y];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(g),o.identity(),a.copy(S.matrixWorld),a.premultiply(g),o.extractRotation(a),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),y++}else if(S.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(g),p++}else if(S.isHemisphereLight){const M=i.hemi[v];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(g),M.direction.normalize(),v++}}}return{setup:c,setupView:u,state:i}}function Y1(t,e){const n=new j9(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(h){r.push(h)}function o(h){i.push(h)}function c(){n.setup(r)}function u(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:c,setupLightsView:u,pushLight:a,pushShadow:o}}function P9(t,e){let n=new WeakMap;function r(s,a=0){let o;return n.has(s)===!1?(o=new Y1(t,e),n.set(s,[o])):a>=n.get(s).length?(o=new Y1(t,e),n.get(s).push(o)):o=n.get(s)[a],o}function i(){n=new WeakMap}return{get:r,dispose:i}}class aA extends qt{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=lU,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}aA.prototype.isMeshDepthMaterial=!0;class oA extends qt{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}oA.prototype.isMeshDistanceMaterial=!0;var L9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	float mean = 0.0;
	float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );
	for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean * HALF_SAMPLE_RATE;
	squared_mean = squared_mean * HALF_SAMPLE_RATE;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,R9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function lA(t,e,n){let r=new Zf;const i=new ge,s=new ge,a=new et,o=[],c=[],u={},d=n.maxTextureSize,h={0:Vt,1:Xf,2:Yf},f=new da({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:R9,fragmentShader:L9}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const x=new tt;x.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Qt(x,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ik,this.render=function(w,C,E){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||w.length===0)return;const N=t.getRenderTarget(),L=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),D=t.state;D.setBlending(fc),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let k=0,T=w.length;k<T;k++){const z=w[k],j=z.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;i.copy(j.mapSize);const G=j.getFrameExtents();if(i.multiply(G),s.copy(j.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/G.x),i.x=s.x*G.x,j.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/G.y),i.y=s.y*G.y,j.mapSize.y=s.y)),j.map===null&&!j.isPointLightShadow&&this.type===$l){const U={minFilter:er,magFilter:er,format:Nr};j.map=new Zs(i.x,i.y,U),j.map.texture.name=z.name+".shadowMap",j.mapPass=new Zs(i.x,i.y,U),j.camera.updateProjectionMatrix()}if(j.map===null){const U={minFilter:yn,magFilter:yn,format:Nr};j.map=new Zs(i.x,i.y,U),j.map.texture.name=z.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const V=j.getViewportCount();for(let U=0;U<V;U++){const q=j.getViewport(U);a.set(s.x*q.x,s.y*q.y,s.x*q.z,s.y*q.w),D.viewport(a),j.updateMatrices(z,U),r=j.getFrustum(),M(C,E,j.camera,z,this.type)}!j.isPointLightShadow&&this.type===$l&&g(j,E),j.needsUpdate=!1}v.needsUpdate=!1,t.setRenderTarget(N,L,F)};function g(w,C){const E=e.update(y);f.uniforms.shadow_pass.value=w.map.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(C,null,E,f,y,null),p.uniforms.shadow_pass.value=w.mapPass.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(C,null,E,p,y,null)}function m(w,C,E){const N=w<<0|C<<1|E<<2;let L=o[N];return L===void 0&&(L=new aA({depthPacking:cU,morphTargets:w,skinning:C}),o[N]=L),L}function b(w,C,E){const N=w<<0|C<<1|E<<2;let L=c[N];return L===void 0&&(L=new oA({morphTargets:w,skinning:C}),c[N]=L),L}function S(w,C,E,N,L,F,D){let k=null,T=m,z=w.customDepthMaterial;if(N.isPointLight===!0&&(T=b,z=w.customDistanceMaterial),z===void 0){let j=!1;E.morphTargets===!0&&(j=C.morphAttributes&&C.morphAttributes.position&&C.morphAttributes.position.length>0);let G=!1;w.isSkinnedMesh===!0&&(E.skinning===!0?G=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",w));const V=w.isInstancedMesh===!0;k=T(j,G,V)}else k=z;if(t.localClippingEnabled&&E.clipShadows===!0&&E.clippingPlanes.length!==0){const j=k.uuid,G=E.uuid;let V=u[j];V===void 0&&(V={},u[j]=V);let U=V[G];U===void 0&&(U=k.clone(),V[G]=U),k=U}return k.visible=E.visible,k.wireframe=E.wireframe,D===$l?k.side=E.shadowSide!==null?E.shadowSide:E.side:k.side=E.shadowSide!==null?E.shadowSide:h[E.side],k.clipShadows=E.clipShadows,k.clippingPlanes=E.clippingPlanes,k.clipIntersection=E.clipIntersection,k.wireframeLinewidth=E.wireframeLinewidth,k.linewidth=E.linewidth,N.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(N.matrixWorld),k.nearDistance=L,k.farDistance=F),k}function M(w,C,E,N,L){if(w.visible===!1)return;if(w.layers.test(C.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&L===$l)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,w.matrixWorld);const k=e.update(w),T=w.material;if(Array.isArray(T)){const z=k.groups;for(let j=0,G=z.length;j<G;j++){const V=z[j],U=T[V.materialIndex];if(U&&U.visible){const q=S(w,k,U,N,E.near,E.far,L);t.renderBufferDirect(E,null,k,q,w,V)}}}else if(T.visible){const z=S(w,k,T,N,E.near,E.far,L);t.renderBufferDirect(E,null,k,z,w,null)}}const D=w.children;for(let k=0,T=D.length;k<T;k++)M(D[k],C,E,N,L)}}function D9(t,e,n){const r=n.isWebGL2;function i(){let I=!1;const se=new et;let xe=null;const Ce=new et(0,0,0,0);return{setMask:function(ce){xe!==ce&&!I&&(t.colorMask(ce,ce,ce,ce),xe=ce)},setLocked:function(ce){I=ce},setClear:function(ce,ke,qe,gt,lr){lr===!0&&(ce*=gt,ke*=gt,qe*=gt),se.set(ce,ke,qe,gt),Ce.equals(se)===!1&&(t.clearColor(ce,ke,qe,gt),Ce.copy(se))},reset:function(){I=!1,xe=null,Ce.set(-1,0,0,0)}}}function s(){let I=!1,se=null,xe=null,Ce=null;return{setTest:function(ce){ce?$(2929):K(2929)},setMask:function(ce){se!==ce&&!I&&(t.depthMask(ce),se=ce)},setFunc:function(ce){if(xe!==ce){if(ce)switch(ce){case $8:t.depthFunc(512);break;case q8:t.depthFunc(519);break;case X8:t.depthFunc(513);break;case By:t.depthFunc(515);break;case Y8:t.depthFunc(514);break;case K8:t.depthFunc(518);break;case Q8:t.depthFunc(516);break;case Z8:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);xe=ce}},setLocked:function(ce){I=ce},setClear:function(ce){Ce!==ce&&(t.clearDepth(ce),Ce=ce)},reset:function(){I=!1,se=null,xe=null,Ce=null}}}function a(){let I=!1,se=null,xe=null,Ce=null,ce=null,ke=null,qe=null,gt=null,lr=null;return{setTest:function(Je){I||(Je?$(2960):K(2960))},setMask:function(Je){se!==Je&&!I&&(t.stencilMask(Je),se=Je)},setFunc:function(Je,$n,Bt){(xe!==Je||Ce!==$n||ce!==Bt)&&(t.stencilFunc(Je,$n,Bt),xe=Je,Ce=$n,ce=Bt)},setOp:function(Je,$n,Bt){(ke!==Je||qe!==$n||gt!==Bt)&&(t.stencilOp(Je,$n,Bt),ke=Je,qe=$n,gt=Bt)},setLocked:function(Je){I=Je},setClear:function(Je){lr!==Je&&(t.clearStencil(Je),lr=Je)},reset:function(){I=!1,se=null,xe=null,Ce=null,ce=null,ke=null,qe=null,gt=null,lr=null}}}const o=new i,c=new s,u=new a;let d={},h=null,f={},p=null,x=!1,y=null,v=null,g=null,m=null,b=null,S=null,M=null,w=!1,C=null,E=null,N=null,L=null,F=null;const D=t.getParameter(35661);let k=!1,T=0;const z=t.getParameter(7938);z.indexOf("WebGL")!==-1?(T=parseFloat(/^WebGL (\d)/.exec(z)[1]),k=T>=1):z.indexOf("OpenGL ES")!==-1&&(T=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),k=T>=2);let j=null,G={};const V=new et(0,0,t.canvas.width,t.canvas.height),U=new et(0,0,t.canvas.width,t.canvas.height);function q(I,se,xe){const Ce=new Uint8Array(4),ce=t.createTexture();t.bindTexture(I,ce),t.texParameteri(I,10241,9728),t.texParameteri(I,10240,9728);for(let ke=0;ke<xe;ke++)t.texImage2D(se+ke,0,6408,1,1,0,6408,5121,Ce);return ce}const W={};W[3553]=q(3553,3553,1),W[34067]=q(34067,34069,6),o.setClear(0,0,0,1),c.setClear(1),u.setClear(0),$(2929),c.setFunc(By),ue(!1),ee(r1),$(2884),_e(fc);function $(I){d[I]!==!0&&(t.enable(I),d[I]=!0)}function K(I){d[I]!==!1&&(t.disable(I),d[I]=!1)}function B(I){I!==h&&(t.bindFramebuffer(36160,I),h=I)}function Q(I,se){se===null&&h!==null&&(se=h),f[I]!==se&&(t.bindFramebuffer(I,se),f[I]=se,r&&(I===36009&&(f[36160]=se),I===36160&&(f[36009]=se)))}function pe(I){return p!==I?(t.useProgram(I),p=I,!0):!1}const J={[Ga]:32774,[D8]:32778,[F8]:32779};if(r)J[o1]=32775,J[l1]=32776;else{const I=e.get("EXT_blend_minmax");I!==null&&(J[o1]=I.MIN_EXT,J[l1]=I.MAX_EXT)}const de={[I8]:0,[O8]:1,[B8]:768,[Bk]:770,[W8]:776,[U8]:774,[V8]:772,[z8]:769,[zk]:771,[G8]:775,[H8]:773};function _e(I,se,xe,Ce,ce,ke,qe,gt){if(I===fc){x===!0&&(K(3042),x=!1);return}if(x===!1&&($(3042),x=!0),I!==R8){if(I!==y||gt!==w){if((v!==Ga||b!==Ga)&&(t.blendEquation(32774),v=Ga,b=Ga),gt)switch(I){case pc:t.blendFuncSeparate(1,771,1,771);break;case i1:t.blendFunc(1,1);break;case s1:t.blendFuncSeparate(0,0,769,771);break;case a1:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",I);break}else switch(I){case pc:t.blendFuncSeparate(770,771,1,771);break;case i1:t.blendFunc(770,1);break;case s1:t.blendFunc(0,769);break;case a1:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",I);break}g=null,m=null,S=null,M=null,y=I,w=gt}return}ce=ce||se,ke=ke||xe,qe=qe||Ce,(se!==v||ce!==b)&&(t.blendEquationSeparate(J[se],J[ce]),v=se,b=ce),(xe!==g||Ce!==m||ke!==S||qe!==M)&&(t.blendFuncSeparate(de[xe],de[Ce],de[ke],de[qe]),g=xe,m=Ce,S=ke,M=qe),y=I,w=null}function be(I,se){I.side===Yf?K(2884):$(2884);let xe=I.side===Vt;se&&(xe=!xe),ue(xe),I.blending===pc&&I.transparent===!1?_e(fc):_e(I.blending,I.blendEquation,I.blendSrc,I.blendDst,I.blendEquationAlpha,I.blendSrcAlpha,I.blendDstAlpha,I.premultipliedAlpha),c.setFunc(I.depthFunc),c.setTest(I.depthTest),c.setMask(I.depthWrite),o.setMask(I.colorWrite);const Ce=I.stencilWrite;u.setTest(Ce),Ce&&(u.setMask(I.stencilWriteMask),u.setFunc(I.stencilFunc,I.stencilRef,I.stencilFuncMask),u.setOp(I.stencilFail,I.stencilZFail,I.stencilZPass)),ae(I.polygonOffset,I.polygonOffsetFactor,I.polygonOffsetUnits),I.alphaToCoverage===!0?$(32926):K(32926)}function ue(I){C!==I&&(I?t.frontFace(2304):t.frontFace(2305),C=I)}function ee(I){I!==j8?($(2884),I!==E&&(I===r1?t.cullFace(1029):I===P8?t.cullFace(1028):t.cullFace(1032))):K(2884),E=I}function le(I){I!==N&&(k&&t.lineWidth(I),N=I)}function ae(I,se,xe){I?($(32823),(L!==se||F!==xe)&&(t.polygonOffset(se,xe),L=se,F=xe)):K(32823)}function ye(I){I?$(3089):K(3089)}function oe(I){I===void 0&&(I=33984+D-1),j!==I&&(t.activeTexture(I),j=I)}function O(I,se){j===null&&oe();let xe=G[j];xe===void 0&&(xe={type:void 0,texture:void 0},G[j]=xe),(xe.type!==I||xe.texture!==se)&&(t.bindTexture(I,se||W[I]),xe.type=I,xe.texture=se)}function P(){const I=G[j];I!==void 0&&I.type!==void 0&&(t.bindTexture(I.type,null),I.type=void 0,I.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function re(){try{t.texImage2D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function X(){try{t.texImage3D.apply(t,arguments)}catch(I){console.error("THREE.WebGLState:",I)}}function me(I){V.equals(I)===!1&&(t.scissor(I.x,I.y,I.z,I.w),V.copy(I))}function Ne(I){U.equals(I)===!1&&(t.viewport(I.x,I.y,I.z,I.w),U.copy(I))}function Te(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},j=null,G={},h=null,f={},p=null,x=!1,y=null,v=null,g=null,m=null,b=null,S=null,M=null,w=!1,C=null,E=null,N=null,L=null,F=null,V.set(0,0,t.canvas.width,t.canvas.height),U.set(0,0,t.canvas.width,t.canvas.height),o.reset(),c.reset(),u.reset()}return{buffers:{color:o,depth:c,stencil:u},enable:$,disable:K,bindFramebuffer:Q,bindXRFramebuffer:B,useProgram:pe,setBlending:_e,setMaterial:be,setFlipSided:ue,setCullFace:ee,setLineWidth:le,setPolygonOffset:ae,setScissorTest:ye,activeTexture:oe,bindTexture:O,unbindTexture:P,compressedTexImage2D:te,texImage2D:re,texImage3D:X,scissor:me,viewport:Ne,reset:Te}}function F9(t,e,n,r,i,s,a){const o=i.isWebGL2,c=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,f=new WeakMap;let p,x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(O,P){return x?new OffscreenCanvas(O,P):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(O,P,te,re){let X=1;if((O.width>re||O.height>re)&&(X=re/Math.max(O.width,O.height)),X<1||P===!0)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const me=P?pU:Math.floor,Ne=me(X*O.width),Te=me(X*O.height);p===void 0&&(p=y(Ne,Te));const I=te?y(Ne,Te):p;return I.width=Ne,I.height=Te,I.getContext("2d").drawImage(O,0,0,Ne,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+Ne+"x"+Te+")."),I}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function g(O){return M1(O.width)&&M1(O.height)}function m(O){return o?!1:O.wrapS!==Cr||O.wrapT!==Cr||O.minFilter!==yn&&O.minFilter!==er}function b(O,P){return O.generateMipmaps&&P&&O.minFilter!==yn&&O.minFilter!==er}function S(O,P,te,re){t.generateMipmap(O);const X=r.get(P);X.__maxMipLevel=Math.log2(Math.max(te,re))}function M(O,P,te){if(o===!1)return P;if(O!==null){if(t[O]!==void 0)return t[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let re=P;return P===6403&&(te===5126&&(re=33326),te===5131&&(re=33325),te===5121&&(re=33321)),P===6407&&(te===5126&&(re=34837),te===5131&&(re=34843),te===5121&&(re=32849)),P===6408&&(te===5126&&(re=34836),te===5131&&(re=34842),te===5121&&(re=32856)),(re===33325||re===33326||re===34842||re===34836)&&e.get("EXT_color_buffer_float"),re}function w(O){return O===yn||O===d1||O===h1?9728:9729}function C(O){const P=O.target;P.removeEventListener("dispose",C),N(P),P.isVideoTexture&&f.delete(P),a.memory.textures--}function E(O){const P=O.target;P.removeEventListener("dispose",E),L(P),a.memory.textures--}function N(O){const P=r.get(O);P.__webglInit!==void 0&&(t.deleteTexture(P.__webglTexture),r.remove(O))}function L(O){const P=O.texture,te=r.get(O),re=r.get(P);if(O){if(re.__webglTexture!==void 0&&t.deleteTexture(re.__webglTexture),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let X=0;X<6;X++)t.deleteFramebuffer(te.__webglFramebuffer[X]),te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[X]);else t.deleteFramebuffer(te.__webglFramebuffer),te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer&&t.deleteRenderbuffer(te.__webglColorRenderbuffer),te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer);r.remove(P),r.remove(O)}}let F=0;function D(){F=0}function k(){const O=F;return O>=c&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+c),F+=1,O}function T(O,P){const te=r.get(O);if(O.isVideoTexture&&ee(O),O.version>0&&te.__version!==O.version){const re=O.image;if(re===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(te,O,P);return}}n.activeTexture(33984+P),n.bindTexture(3553,te.__webglTexture)}function z(O,P){const te=r.get(O);if(O.version>0&&te.__version!==O.version){$(te,O,P);return}n.activeTexture(33984+P),n.bindTexture(35866,te.__webglTexture)}function j(O,P){const te=r.get(O);if(O.version>0&&te.__version!==O.version){$(te,O,P);return}n.activeTexture(33984+P),n.bindTexture(32879,te.__webglTexture)}function G(O,P){const te=r.get(O);if(O.version>0&&te.__version!==O.version){K(te,O,P);return}n.activeTexture(33984+P),n.bindTexture(34067,te.__webglTexture)}const V={[zy]:10497,[Cr]:33071,[Vy]:33648},U={[yn]:9728,[d1]:9984,[h1]:9986,[er]:9729,[aH]:9985,[K0]:9987};function q(O,P,te){if(te?(t.texParameteri(O,10242,V[P.wrapS]),t.texParameteri(O,10243,V[P.wrapT]),(O===32879||O===35866)&&t.texParameteri(O,32882,V[P.wrapR]),t.texParameteri(O,10240,U[P.magFilter]),t.texParameteri(O,10241,U[P.minFilter])):(t.texParameteri(O,10242,33071),t.texParameteri(O,10243,33071),(O===32879||O===35866)&&t.texParameteri(O,32882,33071),(P.wrapS!==Cr||P.wrapT!==Cr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(O,10240,w(P.magFilter)),t.texParameteri(O,10241,w(P.minFilter)),P.minFilter!==yn&&P.minFilter!==er&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const re=e.get("EXT_texture_filter_anisotropic");if(P.type===qi&&e.has("OES_texture_float_linear")===!1||o===!1&&P.type===Qh&&e.has("OES_texture_half_float_linear")===!1)return;(P.anisotropy>1||r.get(P).__currentAnisotropy)&&(t.texParameterf(O,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(P.anisotropy,i.getMaxAnisotropy())),r.get(P).__currentAnisotropy=P.anisotropy)}}function W(O,P){O.__webglInit===void 0&&(O.__webglInit=!0,P.addEventListener("dispose",C),O.__webglTexture=t.createTexture(),a.memory.textures++)}function $(O,P,te){let re=3553;P.isDataTexture2DArray&&(re=35866),P.isDataTexture3D&&(re=32879),W(O,P),n.activeTexture(33984+te),n.bindTexture(re,O.__webglTexture),t.pixelStorei(37440,P.flipY),t.pixelStorei(37441,P.premultiplyAlpha),t.pixelStorei(3317,P.unpackAlignment),t.pixelStorei(37443,0);const X=m(P)&&g(P.image)===!1,me=v(P.image,X,!1,d),Ne=g(me)||o,Te=s.convert(P.format);let I=s.convert(P.type),se=M(P.internalFormat,Te,I);q(re,P,Ne);let xe;const Ce=P.mipmaps;if(P.isDepthTexture)se=6402,o?P.type===qi?se=36012:P.type===ah?se=33190:P.type===gc?se=35056:se=33189:P.type===qi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),P.format===Mo&&se===6402&&P.type!==Kh&&P.type!==ah&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),P.type=Kh,I=s.convert(P.type)),P.format===Kc&&se===6402&&(se=34041,P.type!==gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),P.type=gc,I=s.convert(P.type))),n.texImage2D(3553,0,se,me.width,me.height,0,Te,I,null);else if(P.isDataTexture)if(Ce.length>0&&Ne){for(let ce=0,ke=Ce.length;ce<ke;ce++)xe=Ce[ce],n.texImage2D(3553,ce,se,xe.width,xe.height,0,Te,I,xe.data);P.generateMipmaps=!1,O.__maxMipLevel=Ce.length-1}else n.texImage2D(3553,0,se,me.width,me.height,0,Te,I,me.data),O.__maxMipLevel=0;else if(P.isCompressedTexture){for(let ce=0,ke=Ce.length;ce<ke;ce++)xe=Ce[ce],P.format!==Nr&&P.format!==Qs?Te!==null?n.compressedTexImage2D(3553,ce,se,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,ce,se,xe.width,xe.height,0,Te,I,xe.data);O.__maxMipLevel=Ce.length-1}else if(P.isDataTexture2DArray)n.texImage3D(35866,0,se,me.width,me.height,me.depth,0,Te,I,me.data),O.__maxMipLevel=0;else if(P.isDataTexture3D)n.texImage3D(32879,0,se,me.width,me.height,me.depth,0,Te,I,me.data),O.__maxMipLevel=0;else if(Ce.length>0&&Ne){for(let ce=0,ke=Ce.length;ce<ke;ce++)xe=Ce[ce],n.texImage2D(3553,ce,se,Te,I,xe);P.generateMipmaps=!1,O.__maxMipLevel=Ce.length-1}else n.texImage2D(3553,0,se,Te,I,me),O.__maxMipLevel=0;b(P,Ne)&&S(re,P,me.width,me.height),O.__version=P.version,P.onUpdate&&P.onUpdate(P)}function K(O,P,te){if(P.image.length!==6)return;W(O,P),n.activeTexture(33984+te),n.bindTexture(34067,O.__webglTexture),t.pixelStorei(37440,P.flipY),t.pixelStorei(37441,P.premultiplyAlpha),t.pixelStorei(3317,P.unpackAlignment),t.pixelStorei(37443,0);const re=P&&(P.isCompressedTexture||P.image[0].isCompressedTexture),X=P.image[0]&&P.image[0].isDataTexture,me=[];for(let ce=0;ce<6;ce++)!re&&!X?me[ce]=v(P.image[ce],!1,!0,u):me[ce]=X?P.image[ce].image:P.image[ce];const Ne=me[0],Te=g(Ne)||o,I=s.convert(P.format),se=s.convert(P.type),xe=M(P.internalFormat,I,se);q(34067,P,Te);let Ce;if(re){for(let ce=0;ce<6;ce++){Ce=me[ce].mipmaps;for(let ke=0;ke<Ce.length;ke++){const qe=Ce[ke];P.format!==Nr&&P.format!==Qs?I!==null?n.compressedTexImage2D(34069+ce,ke,xe,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+ce,ke,xe,qe.width,qe.height,0,I,se,qe.data)}}O.__maxMipLevel=Ce.length-1}else{Ce=P.mipmaps;for(let ce=0;ce<6;ce++)if(X){n.texImage2D(34069+ce,0,xe,me[ce].width,me[ce].height,0,I,se,me[ce].data);for(let ke=0;ke<Ce.length;ke++){const gt=Ce[ke].image[ce].image;n.texImage2D(34069+ce,ke+1,xe,gt.width,gt.height,0,I,se,gt.data)}}else{n.texImage2D(34069+ce,0,xe,I,se,me[ce]);for(let ke=0;ke<Ce.length;ke++){const qe=Ce[ke];n.texImage2D(34069+ce,ke+1,xe,I,se,qe.image[ce])}}O.__maxMipLevel=Ce.length}b(P,Te)&&S(34067,P,Ne.width,Ne.height),O.__version=P.version,P.onUpdate&&P.onUpdate(P)}function B(O,P,te,re){const X=P.texture,me=s.convert(X.format),Ne=s.convert(X.type),Te=M(X.internalFormat,me,Ne);re===32879||re===35866?n.texImage3D(re,0,Te,P.width,P.height,P.depth,0,me,Ne,null):n.texImage2D(re,0,Te,P.width,P.height,0,me,Ne,null),n.bindFramebuffer(36160,O),t.framebufferTexture2D(36160,te,re,r.get(X).__webglTexture,0),n.bindFramebuffer(36160,null)}function Q(O,P,te){if(t.bindRenderbuffer(36161,O),P.depthBuffer&&!P.stencilBuffer){let re=33189;if(te){const X=P.depthTexture;X&&X.isDepthTexture&&(X.type===qi?re=36012:X.type===ah&&(re=33190));const me=ue(P);t.renderbufferStorageMultisample(36161,me,re,P.width,P.height)}else t.renderbufferStorage(36161,re,P.width,P.height);t.framebufferRenderbuffer(36160,36096,36161,O)}else if(P.depthBuffer&&P.stencilBuffer){if(te){const re=ue(P);t.renderbufferStorageMultisample(36161,re,35056,P.width,P.height)}else t.renderbufferStorage(36161,34041,P.width,P.height);t.framebufferRenderbuffer(36160,33306,36161,O)}else{const re=P.texture,X=s.convert(re.format),me=s.convert(re.type),Ne=M(re.internalFormat,X,me);if(te){const Te=ue(P);t.renderbufferStorageMultisample(36161,Te,Ne,P.width,P.height)}else t.renderbufferStorage(36161,Ne,P.width,P.height)}t.bindRenderbuffer(36161,null)}function pe(O,P){if(P&&P.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,O),!(P.depthTexture&&P.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(P.depthTexture).__webglTexture||P.depthTexture.image.width!==P.width||P.depthTexture.image.height!==P.height)&&(P.depthTexture.image.width=P.width,P.depthTexture.image.height=P.height,P.depthTexture.needsUpdate=!0),T(P.depthTexture,0);const re=r.get(P.depthTexture).__webglTexture;if(P.depthTexture.format===Mo)t.framebufferTexture2D(36160,36096,3553,re,0);else if(P.depthTexture.format===Kc)t.framebufferTexture2D(36160,33306,3553,re,0);else throw new Error("Unknown depthTexture format")}function J(O){const P=r.get(O),te=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture){if(te)throw new Error("target.depthTexture not supported in Cube render targets");pe(P.__webglFramebuffer,O)}else if(te){P.__webglDepthbuffer=[];for(let re=0;re<6;re++)n.bindFramebuffer(36160,P.__webglFramebuffer[re]),P.__webglDepthbuffer[re]=t.createRenderbuffer(),Q(P.__webglDepthbuffer[re],O,!1)}else n.bindFramebuffer(36160,P.__webglFramebuffer),P.__webglDepthbuffer=t.createRenderbuffer(),Q(P.__webglDepthbuffer,O,!1);n.bindFramebuffer(36160,null)}function de(O){const P=O.texture,te=r.get(O),re=r.get(P);O.addEventListener("dispose",E),re.__webglTexture=t.createTexture(),re.__version=P.version,a.memory.textures++;const X=O.isWebGLCubeRenderTarget===!0,me=O.isWebGLMultisampleRenderTarget===!0,Ne=P.isDataTexture3D||P.isDataTexture2DArray,Te=g(O)||o;if(o&&P.format===Qs&&(P.type===qi||P.type===Qh)&&(P.format=Nr,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),X){te.__webglFramebuffer=[];for(let I=0;I<6;I++)te.__webglFramebuffer[I]=t.createFramebuffer()}else if(te.__webglFramebuffer=t.createFramebuffer(),me)if(o){te.__webglMultisampledFramebuffer=t.createFramebuffer(),te.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,te.__webglColorRenderbuffer);const I=s.convert(P.format),se=s.convert(P.type),xe=M(P.internalFormat,I,se),Ce=ue(O);t.renderbufferStorageMultisample(36161,Ce,xe,O.width,O.height),n.bindFramebuffer(36160,te.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,te.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),O.depthBuffer&&(te.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(te.__webglDepthRenderbuffer,O,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(X){n.bindTexture(34067,re.__webglTexture),q(34067,P,Te);for(let I=0;I<6;I++)B(te.__webglFramebuffer[I],O,36064,34069+I);b(P,Te)&&S(34067,P,O.width,O.height),n.bindTexture(34067,null)}else{let I=3553;Ne&&(o?I=P.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(I,re.__webglTexture),q(I,P,Te),B(te.__webglFramebuffer,O,36064,I),b(P,Te)&&S(3553,P,O.width,O.height),n.bindTexture(3553,null)}O.depthBuffer&&J(O)}function _e(O){const P=O.texture,te=g(O)||o;if(b(P,te)){const re=O.isWebGLCubeRenderTarget?34067:3553,X=r.get(P).__webglTexture;n.bindTexture(re,X),S(re,P,O.width,O.height),n.bindTexture(re,null)}}function be(O){if(O.isWebGLMultisampleRenderTarget)if(o){const P=O.width,te=O.height;let re=16384;O.depthBuffer&&(re|=256),O.stencilBuffer&&(re|=1024);const X=r.get(O);n.bindFramebuffer(36008,X.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,X.__webglFramebuffer),t.blitFramebuffer(0,0,P,te,0,0,P,te,re,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,X.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function ue(O){return o&&O.isWebGLMultisampleRenderTarget?Math.min(h,O.samples):0}function ee(O){const P=a.render.frame;f.get(O)!==P&&(f.set(O,P),O.update())}let le=!1,ae=!1;function ye(O,P){O&&O.isWebGLRenderTarget&&(le===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),le=!0),O=O.texture),T(O,P)}function oe(O,P){O&&O.isWebGLCubeRenderTarget&&(ae===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ae=!0),O=O.texture),G(O,P)}this.allocateTextureUnit=k,this.resetTextureUnits=D,this.setTexture2D=T,this.setTexture2DArray=z,this.setTexture3D=j,this.setTextureCube=G,this.setupRenderTarget=de,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=be,this.safeSetTexture2D=ye,this.safeSetTextureCube=oe}function I9(t,e,n){const r=n.isWebGL2;function i(s){let a;if(s===Q0)return 5121;if(s===uH)return 32819;if(s===dH)return 32820;if(s===hH)return 33635;if(s===oH)return 5120;if(s===lH)return 5122;if(s===Kh)return 5123;if(s===cH)return 5124;if(s===ah)return 5125;if(s===qi)return 5126;if(s===Qh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fH)return 6406;if(s===Qs)return 6407;if(s===Nr)return 6408;if(s===pH)return 6409;if(s===mH)return 6410;if(s===Mo)return 6402;if(s===Kc)return 34041;if(s===gH)return 6403;if(s===yH)return 36244;if(s===xH)return 33319;if(s===vH)return 33320;if(s===bH)return 36248;if(s===_H)return 36249;if(s===f1||s===p1||s===m1||s===g1)if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===f1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===p1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===m1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===g1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===y1||s===x1||s===v1||s===b1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===y1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===x1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===v1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===b1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===wH)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((s===_1||s===w1)&&(a=e.get("WEBGL_compressed_texture_etc"),a!==null)){if(s===_1)return a.COMPRESSED_RGB8_ETC2;if(s===w1)return a.COMPRESSED_RGBA8_ETC2_EAC}if(s===SH||s===MH||s===CH||s===EH||s===TH||s===NH||s===kH||s===AH||s===jH||s===PH||s===LH||s===RH||s===DH||s===FH||s===OH||s===BH||s===zH||s===VH||s===HH||s===UH||s===GH||s===WH||s===$H||s===qH||s===XH||s===YH||s===KH||s===QH)return a=e.get("WEBGL_compressed_texture_astc"),a!==null?s:null;if(s===IH)return a=e.get("EXT_texture_compression_bptc"),a!==null?s:null;if(s===gc)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class cA extends Tn{constructor(e=[]){super(),this.cameras=e}}cA.prototype.isArrayCamera=!0;class uo extends Ye{constructor(){super(),this.type="Group"}}uo.prototype.isGroup=!0;const O9={type:"move"};class zm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(o!==null&&(i=n.getPose(e.targetRaySpace,r),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(O9))),u&&e.hand){a=!0;for(const y of e.hand.values()){const v=n.getJointPose(y,r);if(u.joints[y.jointName]===void 0){const m=new uo;m.matrixAutoUpdate=!1,m.visible=!1,u.joints[y.jointName]=m,u.add(m)}const g=u.joints[y.jointName];v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=v.radius),g.visible=v!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=d.position.distanceTo(h.position),p=.02,x=.005;u.inputState.pinching&&f>p+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=p-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));return o!==null&&(o.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}}class B9 extends ya{constructor(e,n){super();const r=this,i=e.state;let s=null,a=1,o=null,c="local-floor",u=null;const d=[],h=new Map,f=new Tn;f.layers.enable(1),f.viewport=new et;const p=new Tn;p.layers.enable(2),p.viewport=new et;const x=[f,p],y=new cA;y.layers.enable(1),y.layers.enable(2);let v=null,g=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let k=d[D];return k===void 0&&(k=new zm,d[D]=k),k.getTargetRaySpace()},this.getControllerGrip=function(D){let k=d[D];return k===void 0&&(k=new zm,d[D]=k),k.getGripSpace()},this.getHand=function(D){let k=d[D];return k===void 0&&(k=new zm,d[D]=k),k.getHandSpace()};function m(D){const k=h.get(D.inputSource);k&&k.dispatchEvent({type:D.type,data:D.inputSource})}function b(){h.forEach(function(D,k){D.disconnect(k)}),h.clear(),v=null,g=null,i.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),F.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){a=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){c=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return s},this.setSession=async function(D){if(s=D,s!==null){s.addEventListener("select",m),s.addEventListener("selectstart",m),s.addEventListener("selectend",m),s.addEventListener("squeeze",m),s.addEventListener("squeezestart",m),s.addEventListener("squeezeend",m),s.addEventListener("end",b),s.addEventListener("inputsourceschange",S);const k=n.getContextAttributes();k.xrCompatible!==!0&&await n.makeXRCompatible();const T={antialias:k.antialias,alpha:k.alpha,depth:k.depth,stencil:k.stencil,framebufferScaleFactor:a},z=new XRWebGLLayer(s,n,T);s.updateRenderState({baseLayer:z}),o=await s.requestReferenceSpace(c),F.setContext(s),F.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function S(D){const k=s.inputSources;for(let T=0;T<d.length;T++)h.set(k[T],d[T]);for(let T=0;T<D.removed.length;T++){const z=D.removed[T],j=h.get(z);j&&(j.dispatchEvent({type:"disconnected",data:z}),h.delete(z))}for(let T=0;T<D.added.length;T++){const z=D.added[T],j=h.get(z);j&&j.dispatchEvent({type:"connected",data:z})}}const M=new H,w=new H;function C(D,k,T){M.setFromMatrixPosition(k.matrixWorld),w.setFromMatrixPosition(T.matrixWorld);const z=M.distanceTo(w),j=k.projectionMatrix.elements,G=T.projectionMatrix.elements,V=j[14]/(j[10]-1),U=j[14]/(j[10]+1),q=(j[9]+1)/j[5],W=(j[9]-1)/j[5],$=(j[8]-1)/j[0],K=(G[8]+1)/G[0],B=V*$,Q=V*K,pe=z/(-$+K),J=pe*-$;k.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(J),D.translateZ(pe),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const de=V+pe,_e=U+pe,be=B-J,ue=Q+(z-J),ee=q*U/_e*de,le=W*U/_e*de;D.projectionMatrix.makePerspective(be,ue,ee,le,de,_e)}function E(D,k){k===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(k.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.getCamera=function(D){y.near=p.near=f.near=D.near,y.far=p.far=f.far=D.far,(v!==y.near||g!==y.far)&&(s.updateRenderState({depthNear:y.near,depthFar:y.far}),v=y.near,g=y.far);const k=D.parent,T=y.cameras;E(y,k);for(let j=0;j<T.length;j++)E(T[j],k);D.matrixWorld.copy(y.matrixWorld),D.matrix.copy(y.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale);const z=D.children;for(let j=0,G=z.length;j<G;j++)z[j].updateMatrixWorld(!0);return T.length===2?C(y,f,p):y.projectionMatrix.copy(f.projectionMatrix),y};let N=null;function L(D,k){if(u=k.getViewerPose(o),u!==null){const z=u.views,j=s.renderState.baseLayer;i.bindXRFramebuffer(j.framebuffer);let G=!1;z.length!==y.cameras.length&&(y.cameras.length=0,G=!0);for(let V=0;V<z.length;V++){const U=z[V],q=j.getViewport(U),W=x[V];W.matrix.fromArray(U.transform.matrix),W.projectionMatrix.fromArray(U.projectionMatrix),W.viewport.set(q.x,q.y,q.width,q.height),V===0&&y.matrix.copy(W.matrix),G===!0&&y.cameras.push(W)}}const T=s.inputSources;for(let z=0;z<d.length;z++){const j=d[z],G=T[z];j.update(G,k,o)}N&&N(D,k)}const F=new Kk;F.setAnimationLoop(L),this.setAnimationLoop=function(D){N=D},this.dispose=function(){}}}function z9(t){function e(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)}function n(g,m,b,S){m.isMeshBasicMaterial?r(g,m):m.isMeshLambertMaterial?(r(g,m),c(g,m)):m.isMeshToonMaterial?(r(g,m),d(g,m)):m.isMeshPhongMaterial?(r(g,m),u(g,m)):m.isMeshStandardMaterial?(r(g,m),m.isMeshPhysicalMaterial?f(g,m):h(g,m)):m.isMeshMatcapMaterial?(r(g,m),p(g,m)):m.isMeshDepthMaterial?(r(g,m),x(g,m)):m.isMeshDistanceMaterial?(r(g,m),y(g,m)):m.isMeshNormalMaterial?(r(g,m),v(g,m)):m.isLineBasicMaterial?(i(g,m),m.isLineDashedMaterial&&s(g,m)):m.isPointsMaterial?a(g,m,b,S):m.isSpriteMaterial?o(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function r(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.specularMap&&(g.specularMap.value=m.specularMap);const b=t.get(m).envMap;if(b){g.envMap.value=b,g.flipEnvMap.value=b.isCubeTexture&&b._needsFlipEnvMap?-1:1,g.reflectivity.value=m.reflectivity,g.refractionRatio.value=m.refractionRatio;const w=t.get(b).__maxMipLevel;w!==void 0&&(g.maxMipLevel.value=w)}m.lightMap&&(g.lightMap.value=m.lightMap,g.lightMapIntensity.value=m.lightMapIntensity),m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity);let S;m.map?S=m.map:m.specularMap?S=m.specularMap:m.displacementMap?S=m.displacementMap:m.normalMap?S=m.normalMap:m.bumpMap?S=m.bumpMap:m.roughnessMap?S=m.roughnessMap:m.metalnessMap?S=m.metalnessMap:m.alphaMap?S=m.alphaMap:m.emissiveMap?S=m.emissiveMap:m.clearcoatMap?S=m.clearcoatMap:m.clearcoatNormalMap?S=m.clearcoatNormalMap:m.clearcoatRoughnessMap&&(S=m.clearcoatRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),g.uvTransform.value.copy(S.matrix));let M;m.aoMap?M=m.aoMap:m.lightMap&&(M=m.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uv2Transform.value.copy(M.matrix))}function i(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}function s(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}function a(g,m,b,S){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*b,g.scale.value=S*.5,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let M;m.map?M=m.map:m.alphaMap&&(M=m.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),g.uvTransform.value.copy(M.matrix))}function o(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap);let b;m.map?b=m.map:m.alphaMap&&(b=m.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function c(g,m){m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap)}function u(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function d(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function h(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),t.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}function f(g,m){h(g,m),g.reflectivity.value=m.reflectivity,g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.sheen&&g.sheen.value.copy(m.sheen),m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Vt&&g.clearcoatNormalScale.value.negate()),g.transmission.value=m.transmission,m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap)}function p(g,m){m.matcap&&(g.matcap.value=m.matcap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function x(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}function y(g,m){m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}function v(g,m){m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,m.side===Vt&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),m.side===Vt&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function V9(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}function rt(t){t=t||{};const e=t.canvas!==void 0?t.canvas:V9(),n=t.context!==void 0?t.context:null,r=t.alpha!==void 0?t.alpha:!1,i=t.depth!==void 0?t.depth:!0,s=t.stencil!==void 0?t.stencil:!0,a=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,c=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,u=t.powerPreference!==void 0?t.powerPreference:"default",d=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let h=null,f=null;const p=[],x=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Cu,this.physicallyCorrectLights=!1,this.toneMapping=mc,this.toneMappingExposure=1;const y=this;let v=!1,g=0,m=0,b=null,S=-1,M=null;const w=new et,C=new et;let E=null,N=e.width,L=e.height,F=1,D=null,k=null;const T=new et(0,0,N,L),z=new et(0,0,N,L);let j=!1;const G=new Zf;let V=!1,U=!1;const q=new Ae,W=new H,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function K(){return b===null?F:1}let B=n;function Q(A,Z){for(let Y=0;Y<A.length;Y++){const ne=A[Y],ve=e.getContext(ne,Z);if(ve!==null)return ve}return null}try{const A={alpha:r,depth:i,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if(e.addEventListener("webglcontextlost",ke,!1),e.addEventListener("webglcontextrestored",qe,!1),B===null){const Z=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&Z.shift(),B=Q(Z,A),B===null)throw Q(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}B.getShaderPrecisionFormat===void 0&&(B.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let pe,J,de,_e,be,ue,ee,le,ae,ye,oe,O,P,te,re,X,me,Ne,Te,I,se,xe;function Ce(){pe=new c7(B),J=new a7(B,pe,t),pe.init(J),se=new I9(B,pe,J),de=new D9(B,pe,J),_e=new h7,be=new S9,ue=new F9(B,pe,de,be,J,se,_e),ee=new l7(y),le=new RU(B,J),xe=new i7(B,pe,le,J),ae=new u7(B,le,_e,xe),ye=new g7(B,ae,le,_e),Ne=new m7(B),re=new o7(be),oe=new w9(y,ee,pe,J,xe,re),O=new z9(be),P=new E9(be),te=new P9(pe,J),me=new r7(y,ee,de,ye,o),X=new lA(y,ye,J),Te=new s7(B,pe,_e,J),I=new d7(B,pe,_e,J),_e.programs=oe.programs,y.capabilities=J,y.extensions=pe,y.properties=be,y.renderLists=P,y.shadowMap=X,y.state=de,y.info=_e}Ce();const ce=new B9(y,B);this.xr=ce,this.getContext=function(){return B},this.getContextAttributes=function(){return B.getContextAttributes()},this.forceContextLoss=function(){const A=pe.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=pe.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(A){A!==void 0&&(F=A,this.setSize(N,L,!1))},this.getSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),A=new ge),A.set(N,L)},this.setSize=function(A,Z,Y){if(ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=A,L=Z,e.width=Math.floor(A*F),e.height=Math.floor(Z*F),Y!==!1&&(e.style.width=A+"px",e.style.height=Z+"px"),this.setViewport(0,0,A,Z)},this.getDrawingBufferSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),A=new ge),A.set(N*F,L*F).floor()},this.setDrawingBufferSize=function(A,Z,Y){N=A,L=Z,F=Y,e.width=Math.floor(A*Y),e.height=Math.floor(Z*Y),this.setViewport(0,0,A,Z)},this.getCurrentViewport=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),A=new et),A.copy(w)},this.getViewport=function(A){return A.copy(T)},this.setViewport=function(A,Z,Y,ne){A.isVector4?T.set(A.x,A.y,A.z,A.w):T.set(A,Z,Y,ne),de.viewport(w.copy(T).multiplyScalar(F).floor())},this.getScissor=function(A){return A.copy(z)},this.setScissor=function(A,Z,Y,ne){A.isVector4?z.set(A.x,A.y,A.z,A.w):z.set(A,Z,Y,ne),de.scissor(C.copy(z).multiplyScalar(F).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(A){de.setScissorTest(j=A)},this.setOpaqueSort=function(A){D=A},this.setTransparentSort=function(A){k=A},this.getClearColor=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),A=new Ee),A.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(A,Z,Y){let ne=0;(A===void 0||A)&&(ne|=16384),(Z===void 0||Z)&&(ne|=256),(Y===void 0||Y)&&(ne|=1024),B.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ke,!1),e.removeEventListener("webglcontextrestored",qe,!1),P.dispose(),te.dispose(),be.dispose(),ee.dispose(),ye.dispose(),xe.dispose(),ce.dispose(),ce.removeEventListener("sessionstart",Nu),ce.removeEventListener("sessionend",ml),Lr.stop()};function ke(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function qe(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const A=_e.autoReset,Z=X.enabled,Y=X.autoUpdate,ne=X.needsUpdate,ve=X.type;Ce(),_e.autoReset=A,X.enabled=Z,X.autoUpdate=Y,X.needsUpdate=ne,X.type=ve}function gt(A){const Z=A.target;Z.removeEventListener("dispose",gt),lr(Z)}function lr(A){Je(A),be.remove(A)}function Je(A){const Z=be.get(A).programs;Z!==void 0&&Z.forEach(function(Y){oe.releaseProgram(Y)})}function $n(A,Z){A.render(function(Y){y.renderBufferImmediate(Y,Z)})}this.renderBufferImmediate=function(A,Z){xe.initAttributes();const Y=be.get(A);A.hasPositions&&!Y.position&&(Y.position=B.createBuffer()),A.hasNormals&&!Y.normal&&(Y.normal=B.createBuffer()),A.hasUvs&&!Y.uv&&(Y.uv=B.createBuffer()),A.hasColors&&!Y.color&&(Y.color=B.createBuffer());const ne=Z.getAttributes();A.hasPositions&&(B.bindBuffer(34962,Y.position),B.bufferData(34962,A.positionArray,35048),xe.enableAttribute(ne.position),B.vertexAttribPointer(ne.position,3,5126,!1,0,0)),A.hasNormals&&(B.bindBuffer(34962,Y.normal),B.bufferData(34962,A.normalArray,35048),xe.enableAttribute(ne.normal),B.vertexAttribPointer(ne.normal,3,5126,!1,0,0)),A.hasUvs&&(B.bindBuffer(34962,Y.uv),B.bufferData(34962,A.uvArray,35048),xe.enableAttribute(ne.uv),B.vertexAttribPointer(ne.uv,2,5126,!1,0,0)),A.hasColors&&(B.bindBuffer(34962,Y.color),B.bufferData(34962,A.colorArray,35048),xe.enableAttribute(ne.color),B.vertexAttribPointer(ne.color,3,5126,!1,0,0)),xe.disableUnusedAttributes(),B.drawArrays(4,0,A.count),A.count=0},this.renderBufferDirect=function(A,Z,Y,ne,ve,Ue){Z===null&&(Z=$);const Re=ve.isMesh&&ve.matrixWorld.determinant()<0,Oe=Xe(A,Z,ne,ve);de.setMaterial(ne,Re);let it=Y.index;const Fe=Y.attributes.position;if(it===null){if(Fe===void 0||Fe.count===0)return}else if(it.count===0)return;let We=1;ne.wireframe===!0&&(it=ae.getWireframeAttribute(Y),We=2),(ne.morphTargets||ne.morphNormals)&&Ne.update(ve,Y,ne,Oe),xe.setup(ve,ne,Oe,Y,it);let De,Ke=Te;it!==null&&(De=le.get(it),Ke=I,Ke.setIndex(De));const Rr=it!==null?it.count:Fe.count,fn=Y.drawRange.start*We,Ts=Y.drawRange.count*We,Rt=Ue!==null?Ue.start*We:0,Ns=Ue!==null?Ue.count*We:1/0,At=Math.max(fn,Rt),ip=Math.min(Rr,fn+Ts,Rt+Ns)-1,Mn=Math.max(0,ip-At+1);if(Mn!==0){if(ve.isMesh)ne.wireframe===!0?(de.setLineWidth(ne.wireframeLinewidth*K()),Ke.setMode(1)):Ke.setMode(4);else if(ve.isLine){let ri=ne.linewidth;ri===void 0&&(ri=1),de.setLineWidth(ri*K()),ve.isLineSegments?Ke.setMode(1):ve.isLineLoop?Ke.setMode(2):Ke.setMode(3)}else ve.isPoints?Ke.setMode(0):ve.isSprite&&Ke.setMode(4);if(ve.isInstancedMesh)Ke.renderInstances(At,Mn,ve.count);else if(Y.isInstancedBufferGeometry){const ri=Math.min(Y.instanceCount,Y._maxInstanceCount);Ke.renderInstances(At,Mn,ri)}else Ke.render(At,Mn)}},this.compile=function(A,Z){f=te.get(A),f.init(),A.traverseVisible(function(Y){Y.isLight&&Y.layers.test(Z.layers)&&(f.pushLight(Y),Y.castShadow&&f.pushShadow(Y))}),f.setupLights(),A.traverse(function(Y){const ne=Y.material;if(ne)if(Array.isArray(ne))for(let ve=0;ve<ne.length;ve++){const Ue=ne[ve];gl(Ue,A,Y)}else gl(ne,A,Y)})};let Bt=null;function rp(A){Bt&&Bt(A)}function Nu(){Lr.stop()}function ml(){Lr.start()}const Lr=new Kk;Lr.setAnimationLoop(rp),typeof window<"u"&&Lr.setContext(window),this.setAnimationLoop=function(A){Bt=A,ce.setAnimationLoop(A),A===null?Lr.stop():Lr.start()},ce.addEventListener("sessionstart",Nu),ce.addEventListener("sessionend",ml),this.render=function(A,Z){let Y,ne;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Y=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),ne=arguments[3]),Z!==void 0&&Z.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;A.autoUpdate===!0&&A.updateMatrixWorld(),Z.parent===null&&Z.updateMatrixWorld(),ce.enabled===!0&&ce.isPresenting===!0&&(Z=ce.getCamera(Z)),A.isScene===!0&&A.onBeforeRender(y,A,Z,Y||b),f=te.get(A,x.length),f.init(),x.push(f),q.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),G.setFromProjectionMatrix(q),U=this.localClippingEnabled,V=re.init(this.clippingPlanes,U,Z),h=P.get(A,p.length),h.init(),p.push(h),ku(A,Z,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(D,k),V===!0&&re.beginShadows();const ve=f.state.shadowsArray;X.render(ve,A,Z),f.setupLights(),f.setupLightsView(Z),V===!0&&re.endShadows(),this.info.autoReset===!0&&this.info.reset(),Y!==void 0&&this.setRenderTarget(Y),me.render(h,A,Z,ne);const Ue=h.opaque,Re=h.transparent;Ue.length>0&&va(Ue,A,Z),Re.length>0&&va(Re,A,Z),b!==null&&(ue.updateRenderTargetMipmap(b),ue.updateMultisampleRenderTarget(b)),A.isScene===!0&&A.onAfterRender(y,A,Z),de.buffers.depth.setTest(!0),de.buffers.depth.setMask(!0),de.buffers.color.setMask(!0),de.setPolygonOffset(!1),xe.resetDefaultState(),S=-1,M=null,x.pop(),x.length>0?f=x[x.length-1]:f=null,p.pop(),p.length>0?h=p[p.length-1]:h=null};function ku(A,Z,Y,ne){if(A.visible===!1)return;if(A.layers.test(Z.layers)){if(A.isGroup)Y=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(Z);else if(A.isLight)f.pushLight(A),A.castShadow&&f.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||G.intersectsSprite(A)){ne&&W.setFromMatrixPosition(A.matrixWorld).applyMatrix4(q);const Re=ye.update(A),Oe=A.material;Oe.visible&&h.push(A,Re,Oe,Y,W.z,null)}}else if(A.isImmediateRenderObject)ne&&W.setFromMatrixPosition(A.matrixWorld).applyMatrix4(q),h.push(A,null,A.material,Y,W.z,null);else if((A.isMesh||A.isLine||A.isPoints)&&(A.isSkinnedMesh&&A.skeleton.frame!==_e.render.frame&&(A.skeleton.update(),A.skeleton.frame=_e.render.frame),!A.frustumCulled||G.intersectsObject(A))){ne&&W.setFromMatrixPosition(A.matrixWorld).applyMatrix4(q);const Re=ye.update(A),Oe=A.material;if(Array.isArray(Oe)){const it=Re.groups;for(let Fe=0,We=it.length;Fe<We;Fe++){const De=it[Fe],Ke=Oe[De.materialIndex];Ke&&Ke.visible&&h.push(A,Re,Ke,Y,W.z,De)}}else Oe.visible&&h.push(A,Re,Oe,Y,W.z,null)}}const Ue=A.children;for(let Re=0,Oe=Ue.length;Re<Oe;Re++)ku(Ue[Re],Z,Y,ne)}function va(A,Z,Y){const ne=Z.isScene===!0?Z.overrideMaterial:null;for(let ve=0,Ue=A.length;ve<Ue;ve++){const Re=A[ve],Oe=Re.object,it=Re.geometry,Fe=ne===null?Re.material:ne,We=Re.group;if(Y.isArrayCamera){const De=Y.cameras;for(let Ke=0,Rr=De.length;Ke<Rr;Ke++){const fn=De[Ke];Oe.layers.test(fn.layers)&&(de.viewport(w.copy(fn.viewport)),f.setupLightsView(fn),cr(Oe,Z,fn,it,Fe,We))}}else cr(Oe,Z,Y,it,Fe,We)}}function cr(A,Z,Y,ne,ve,Ue){if(A.onBeforeRender(y,Z,Y,ne,ve,Ue),A.modelViewMatrix.multiplyMatrices(Y.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),A.isImmediateRenderObject){const Re=Xe(Y,Z,ve,A);de.setMaterial(ve),xe.reset(),$n(A,Re)}else y.renderBufferDirect(Y,Z,ne,ve,A,Ue);A.onAfterRender(y,Z,Y,ne,ve,Ue)}function gl(A,Z,Y){Z.isScene!==!0&&(Z=$);const ne=be.get(A),ve=f.state.lights,Ue=f.state.shadowsArray,Re=ve.state.version,Oe=oe.getParameters(A,ve.state,Ue,Z,Y),it=oe.getProgramCacheKey(Oe);let Fe=ne.programs;ne.environment=A.isMeshStandardMaterial?Z.environment:null,ne.fog=Z.fog,ne.envMap=ee.get(A.envMap||ne.environment),Fe===void 0&&(A.addEventListener("dispose",gt),Fe=new Map,ne.programs=Fe);let We=Fe.get(it);if(We!==void 0){if(ne.currentProgram===We&&ne.lightsStateVersion===Re)return Pe(A,Oe),We}else Oe.uniforms=oe.getUniforms(A),A.onBuild(Oe,y),A.onBeforeCompile(Oe,y),We=oe.acquireProgram(Oe,it),Fe.set(it,We),ne.uniforms=Oe.uniforms;const De=ne.uniforms;(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(De.clippingPlanes=re.uniform),Pe(A,Oe),ne.needsLights=Ln(A),ne.lightsStateVersion=Re,ne.needsLights&&(De.ambientLightColor.value=ve.state.ambient,De.lightProbe.value=ve.state.probe,De.directionalLights.value=ve.state.directional,De.directionalLightShadows.value=ve.state.directionalShadow,De.spotLights.value=ve.state.spot,De.spotLightShadows.value=ve.state.spotShadow,De.rectAreaLights.value=ve.state.rectArea,De.ltc_1.value=ve.state.rectAreaLTC1,De.ltc_2.value=ve.state.rectAreaLTC2,De.pointLights.value=ve.state.point,De.pointLightShadows.value=ve.state.pointShadow,De.hemisphereLights.value=ve.state.hemi,De.directionalShadowMap.value=ve.state.directionalShadowMap,De.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,De.spotShadowMap.value=ve.state.spotShadowMap,De.spotShadowMatrix.value=ve.state.spotShadowMatrix,De.pointShadowMap.value=ve.state.pointShadowMap,De.pointShadowMatrix.value=ve.state.pointShadowMatrix);const Ke=We.getUniforms(),Rr=ds.seqWithValue(Ke.seq,De);return ne.currentProgram=We,ne.uniformsList=Rr,We}function Pe(A,Z){const Y=be.get(A);Y.outputEncoding=Z.outputEncoding,Y.instancing=Z.instancing,Y.numClippingPlanes=Z.numClippingPlanes,Y.numIntersection=Z.numClipIntersection,Y.vertexAlphas=Z.vertexAlphas}function Xe(A,Z,Y,ne){Z.isScene!==!0&&(Z=$),ue.resetTextureUnits();const ve=Z.fog,Ue=Y.isMeshStandardMaterial?Z.environment:null,Re=b===null?y.outputEncoding:b.texture.encoding,Oe=ee.get(Y.envMap||Ue),it=Y.vertexColors===!0&&ne.geometry&&ne.geometry.attributes.color&&ne.geometry.attributes.color.itemSize===4,Fe=be.get(Y),We=f.state.lights;if(V===!0&&(U===!0||A!==M)){const At=A===M&&Y.id===S;re.setState(Y,A,At)}let De=!1;Y.version===Fe.__version?(Fe.needsLights&&Fe.lightsStateVersion!==We.state.version||Fe.outputEncoding!==Re||ne.isInstancedMesh&&Fe.instancing===!1||!ne.isInstancedMesh&&Fe.instancing===!0||Fe.envMap!==Oe||Y.fog&&Fe.fog!==ve||Fe.numClippingPlanes!==void 0&&(Fe.numClippingPlanes!==re.numPlanes||Fe.numIntersection!==re.numIntersection)||Fe.vertexAlphas!==it)&&(De=!0):(De=!0,Fe.__version=Y.version);let Ke=Fe.currentProgram;De===!0&&(Ke=gl(Y,Z,ne));let Rr=!1,fn=!1,Ts=!1;const Rt=Ke.getUniforms(),Ns=Fe.uniforms;if(de.useProgram(Ke.program)&&(Rr=!0,fn=!0,Ts=!0),Y.id!==S&&(S=Y.id,fn=!0),Rr||M!==A){if(Rt.setValue(B,"projectionMatrix",A.projectionMatrix),J.logarithmicDepthBuffer&&Rt.setValue(B,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),M!==A&&(M=A,fn=!0,Ts=!0),Y.isShaderMaterial||Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshStandardMaterial||Y.envMap){const At=Rt.map.cameraPosition;At!==void 0&&At.setValue(B,W.setFromMatrixPosition(A.matrixWorld))}(Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshLambertMaterial||Y.isMeshBasicMaterial||Y.isMeshStandardMaterial||Y.isShaderMaterial)&&Rt.setValue(B,"isOrthographic",A.isOrthographicCamera===!0),(Y.isMeshPhongMaterial||Y.isMeshToonMaterial||Y.isMeshLambertMaterial||Y.isMeshBasicMaterial||Y.isMeshStandardMaterial||Y.isShaderMaterial||Y.isShadowMaterial||Y.skinning)&&Rt.setValue(B,"viewMatrix",A.matrixWorldInverse)}if(Y.skinning){Rt.setOptional(B,ne,"bindMatrix"),Rt.setOptional(B,ne,"bindMatrixInverse");const At=ne.skeleton;if(At){const ip=At.bones;if(J.floatVertexTextures){if(At.boneTexture===null){let Mn=Math.sqrt(ip.length*4);Mn=fU(Mn),Mn=Math.max(Mn,4);const ri=new Float32Array(Mn*Mn*4);ri.set(At.boneMatrices);const VA=new Yk(ri,Mn,Mn,Nr,qi);At.boneMatrices=ri,At.boneTexture=VA,At.boneTextureSize=Mn}Rt.setValue(B,"boneTexture",At.boneTexture,ue),Rt.setValue(B,"boneTextureSize",At.boneTextureSize)}else Rt.setOptional(B,At,"boneMatrices")}}return(fn||Fe.receiveShadow!==ne.receiveShadow)&&(Fe.receiveShadow=ne.receiveShadow,Rt.setValue(B,"receiveShadow",ne.receiveShadow)),fn&&(Rt.setValue(B,"toneMappingExposure",y.toneMappingExposure),Fe.needsLights&&st(Ns,Ts),ve&&Y.fog&&O.refreshFogUniforms(Ns,ve),O.refreshMaterialUniforms(Ns,Y,F,L),ds.upload(B,Fe.uniformsList,Ns,ue)),Y.isShaderMaterial&&Y.uniformsNeedUpdate===!0&&(ds.upload(B,Fe.uniformsList,Ns,ue),Y.uniformsNeedUpdate=!1),Y.isSpriteMaterial&&Rt.setValue(B,"center",ne.center),Rt.setValue(B,"modelViewMatrix",ne.modelViewMatrix),Rt.setValue(B,"normalMatrix",ne.normalMatrix),Rt.setValue(B,"modelMatrix",ne.matrixWorld),Ke}function st(A,Z){A.ambientLightColor.needsUpdate=Z,A.lightProbe.needsUpdate=Z,A.directionalLights.needsUpdate=Z,A.directionalLightShadows.needsUpdate=Z,A.pointLights.needsUpdate=Z,A.pointLightShadows.needsUpdate=Z,A.spotLights.needsUpdate=Z,A.spotLightShadows.needsUpdate=Z,A.rectAreaLights.needsUpdate=Z,A.hemisphereLights.needsUpdate=Z}function Ln(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return b},this.setRenderTarget=function(A,Z=0,Y=0){b=A,g=Z,m=Y,A&&be.get(A).__webglFramebuffer===void 0&&ue.setupRenderTarget(A);let ne=null,ve=!1,Ue=!1;if(A){const Re=A.texture;(Re.isDataTexture3D||Re.isDataTexture2DArray)&&(Ue=!0);const Oe=be.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(ne=Oe[Z],ve=!0):A.isWebGLMultisampleRenderTarget?ne=be.get(A).__webglMultisampledFramebuffer:ne=Oe,w.copy(A.viewport),C.copy(A.scissor),E=A.scissorTest}else w.copy(T).multiplyScalar(F).floor(),C.copy(z).multiplyScalar(F).floor(),E=j;if(de.bindFramebuffer(36160,ne),de.viewport(w),de.scissor(C),de.setScissorTest(E),ve){const Re=be.get(A.texture);B.framebufferTexture2D(36160,36064,34069+Z,Re.__webglTexture,Y)}else if(Ue){const Re=be.get(A.texture),Oe=Z||0;B.framebufferTextureLayer(36160,36064,Re.__webglTexture,Y||0,Oe)}},this.readRenderTargetPixels=function(A,Z,Y,ne,ve,Ue,Re){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Oe=be.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&Re!==void 0&&(Oe=Oe[Re]),Oe){de.bindFramebuffer(36160,Oe);try{const it=A.texture,Fe=it.format,We=it.type;if(Fe!==Nr&&se.convert(Fe)!==B.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const De=We===Qh&&(pe.has("EXT_color_buffer_half_float")||J.isWebGL2&&pe.has("EXT_color_buffer_float"));if(We!==Q0&&se.convert(We)!==B.getParameter(35738)&&!(We===qi&&(J.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float")))&&!De){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}B.checkFramebufferStatus(36160)===36053?Z>=0&&Z<=A.width-ne&&Y>=0&&Y<=A.height-ve&&B.readPixels(Z,Y,ne,ve,se.convert(Fe),se.convert(We),Ue):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const it=b!==null?be.get(b).__webglFramebuffer:null;de.bindFramebuffer(36160,it)}}},this.copyFramebufferToTexture=function(A,Z,Y=0){const ne=Math.pow(2,-Y),ve=Math.floor(Z.image.width*ne),Ue=Math.floor(Z.image.height*ne),Re=se.convert(Z.format);ue.setTexture2D(Z,0),B.copyTexImage2D(3553,Y,Re,A.x,A.y,ve,Ue,0),de.unbindTexture()},this.copyTextureToTexture=function(A,Z,Y,ne=0){const ve=Z.image.width,Ue=Z.image.height,Re=se.convert(Y.format),Oe=se.convert(Y.type);ue.setTexture2D(Y,0),B.pixelStorei(37440,Y.flipY),B.pixelStorei(37441,Y.premultiplyAlpha),B.pixelStorei(3317,Y.unpackAlignment),Z.isDataTexture?B.texSubImage2D(3553,ne,A.x,A.y,ve,Ue,Re,Oe,Z.image.data):Z.isCompressedTexture?B.compressedTexSubImage2D(3553,ne,A.x,A.y,Z.mipmaps[0].width,Z.mipmaps[0].height,Re,Z.mipmaps[0].data):B.texSubImage2D(3553,ne,A.x,A.y,Re,Oe,Z.image),ne===0&&Y.generateMipmaps&&B.generateMipmap(3553),de.unbindTexture()},this.copyTextureToTexture3D=function(A,Z,Y,ne,ve=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const{width:Ue,height:Re,data:Oe}=Y.image,it=se.convert(ne.format),Fe=se.convert(ne.type);let We;if(ne.isDataTexture3D)ue.setTexture3D(ne,0),We=32879;else if(ne.isDataTexture2DArray)ue.setTexture2DArray(ne,0),We=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}B.pixelStorei(37440,ne.flipY),B.pixelStorei(37441,ne.premultiplyAlpha),B.pixelStorei(3317,ne.unpackAlignment);const De=B.getParameter(3314),Ke=B.getParameter(32878),Rr=B.getParameter(3316),fn=B.getParameter(3315),Ts=B.getParameter(32877);B.pixelStorei(3314,Ue),B.pixelStorei(32878,Re),B.pixelStorei(3316,A.min.x),B.pixelStorei(3315,A.min.y),B.pixelStorei(32877,A.min.z),B.texSubImage3D(We,ve,Z.x,Z.y,Z.z,A.max.x-A.min.x+1,A.max.y-A.min.y+1,A.max.z-A.min.z+1,it,Fe,Oe),B.pixelStorei(3314,De),B.pixelStorei(32878,Ke),B.pixelStorei(3316,Rr),B.pixelStorei(3315,fn),B.pixelStorei(32877,Ts),ve===0&&ne.generateMipmaps&&B.generateMipmap(We),de.unbindTexture()},this.initTexture=function(A){ue.setTexture2D(A,0),de.unbindTexture()},this.resetState=function(){g=0,m=0,b=null,de.reset(),xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class H9 extends rt{}H9.prototype.isWebGL1Renderer=!0;class rv extends Ye{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.background!==null&&(n.object.background=this.background.toJSON(e)),this.environment!==null&&(n.object.environment=this.environment.toJSON(e)),this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}rv.prototype.isScene=!0;class xa{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Qc,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zr(),this.onUploadCallback=function(){}}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new xa(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}xa.prototype.isInterleavedBuffer=!0;const Nt=new H;class Zc{constructor(e,n,r,i){this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Nt.x=this.getX(n),Nt.y=this.getY(n),Nt.z=this.getZ(n),Nt.applyMatrix4(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Nt.x=this.getX(n),Nt.y=this.getY(n),Nt.z=this.getZ(n),Nt.applyNormalMatrix(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Nt.x=this.getX(n),Nt.y=this.getY(n),Nt.z=this.getZ(n),Nt.transformDirection(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new $t(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Zc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Zc.prototype.isInterleavedBufferAttribute=!0;class uA extends qt{constructor(e){super(),this.type="SpriteMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}uA.prototype.isSpriteMaterial=!0;let Oa;const Rl=new H,Ba=new H,za=new H,Va=new ge,Dl=new ge,dA=new Ae,Ed=new H,Fl=new H,Td=new H,K1=new ge,Vm=new ge,Q1=new ge;class U9 extends Ye{constructor(e){if(super(),this.type="Sprite",Oa===void 0){Oa=new tt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new xa(n,5);Oa.setIndex([0,1,2,0,2,3]),Oa.setAttribute("position",new Zc(r,3,0,!1)),Oa.setAttribute("uv",new Zc(r,2,3,!1))}this.geometry=Oa,this.material=e!==void 0?e:new uA,this.center=new ge(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ba.setFromMatrixScale(this.matrixWorld),dA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),za.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ba.multiplyScalar(-za.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;Nd(Ed.set(-.5,-.5,0),za,a,Ba,i,s),Nd(Fl.set(.5,-.5,0),za,a,Ba,i,s),Nd(Td.set(.5,.5,0),za,a,Ba,i,s),K1.set(0,0),Vm.set(1,0),Q1.set(1,1);let o=e.ray.intersectTriangle(Ed,Fl,Td,!1,Rl);if(o===null&&(Nd(Fl.set(-.5,.5,0),za,a,Ba,i,s),Vm.set(0,1),o=e.ray.intersectTriangle(Ed,Td,Fl,!1,Rl),o===null))return;const c=e.ray.origin.distanceTo(Rl);c<e.near||c>e.far||n.push({distance:c,point:Rl.clone(),uv:It.getUV(Rl,Ed,Fl,Td,K1,Vm,Q1,new ge),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}U9.prototype.isSprite=!0;function Nd(t,e,n,r,i,s){Va.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Dl.x=s*Va.x-i*Va.y,Dl.y=i*Va.x+s*Va.y):Dl.copy(Va),t.copy(e),t.x+=Dl.x,t.y+=Dl.y,t.applyMatrix4(dA)}const Z1=new H,J1=new et,eS=new et,G9=new H,tS=new Ae;class hA extends Qt{constructor(e,n){super(e,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ae,this.bindMatrixInverse=new Ae}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new et,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.x=n.getX(r),e.y=n.getY(r),e.z=n.getZ(r),e.w=n.getW(r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;J1.fromBufferAttribute(i.attributes.skinIndex,e),eS.fromBufferAttribute(i.attributes.skinWeight,e),Z1.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=eS.getComponent(s);if(a!==0){const o=J1.getComponent(s);tS.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(G9.copy(Z1).applyMatrix4(tS),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}hA.prototype.isSkinnedMesh=!0;class W9 extends Ye{constructor(){super(),this.type="Bone"}}W9.prototype.isBone=!0;const nS=new Ae,rS=new Ae,kd=[],Il=new Qt;class $9 extends Qt{constructor(e,n,r){super(e,n),this.instanceMatrix=new $t(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Il.geometry=this.geometry,Il.material=this.material,Il.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,nS),rS.multiplyMatrices(r,nS),Il.matrixWorld=rS,Il.raycast(e,kd);for(let a=0,o=kd.length;a<o;a++){const c=kd[a];c.instanceId=s,c.object=this,n.push(c)}kd.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $t(new Float32Array(this.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}$9.prototype.isInstancedMesh=!0;class Eu extends qt{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Ee(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}Eu.prototype.isLineBasicMaterial=!0;const iS=new H,sS=new H,aS=new Ae,Hm=new ul,Ad=new cl;class iv extends Ye{constructor(e=new tt,n=new Eu){super(),this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)iS.fromBufferAttribute(n,i-1),sS.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=iS.distanceTo(sS);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ad.copy(r.boundingSphere),Ad.applyMatrix4(i),Ad.radius+=s,e.ray.intersectsSphere(Ad)===!1)return;aS.copy(i).invert(),Hm.copy(e.ray).applyMatrix4(aS);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,u=new H,d=new H,h=new H,f=new H,p=this.isLineSegments?2:1;if(r.isBufferGeometry){const x=r.index,v=r.attributes.position;if(x!==null){const g=Math.max(0,a.start),m=Math.min(x.count,a.start+a.count);for(let b=g,S=m-1;b<S;b+=p){const M=x.getX(b),w=x.getX(b+1);if(u.fromBufferAttribute(v,M),d.fromBufferAttribute(v,w),Hm.distanceSqToSegment(u,d,f,h)>c)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||n.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,a.start),m=Math.min(v.count,a.start+a.count);for(let b=g,S=m-1;b<S;b+=p){if(u.fromBufferAttribute(v,b),d.fromBufferAttribute(v,b+1),Hm.distanceSqToSegment(u,d,f,h)>c)continue;f.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(f);w<e.near||w>e.far||n.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}iv.prototype.isLine=!0;const oS=new H,lS=new H;class sv extends iv{constructor(e,n){super(e,n),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)oS.fromBufferAttribute(n,i),lS.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+oS.distanceTo(lS);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}sv.prototype.isLineSegments=!0;class q9 extends iv{constructor(e,n){super(e,n),this.type="LineLoop"}}q9.prototype.isLineLoop=!0;class fA extends qt{constructor(e){super(),this.type="PointsMaterial",this.color=new Ee(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}fA.prototype.isPointsMaterial=!0;const cS=new Ae,Gy=new ul,jd=new cl,Pd=new H;class X9 extends Ye{constructor(e=new tt,n=new fA){super(),this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jd.copy(r.boundingSphere),jd.applyMatrix4(i),jd.radius+=s,e.ray.intersectsSphere(jd)===!1)return;cS.copy(i).invert(),Gy.copy(e.ray).applyMatrix4(cS);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o;if(r.isBufferGeometry){const u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let x=f,y=p;x<y;x++){const v=u.getX(x);Pd.fromBufferAttribute(h,v),uS(Pd,v,c,i,e,n,this)}}else{const f=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let x=f,y=p;x<y;x++)Pd.fromBufferAttribute(h,x),uS(Pd,x,c,i,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}X9.prototype.isPoints=!0;function uS(t,e,n,r,i,s,a){const o=Gy.distanceSqToPoint(t);if(o<n){const c=new H;Gy.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:a})}}class Y9 extends nn{constructor(e,n,r,i,s,a,o,c,u){super(e,n,r,i,s,a,o,c,u),this.format=o!==void 0?o:Qs,this.minFilter=a!==void 0?a:er,this.magFilter=s!==void 0?s:er,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Y9.prototype.isVideoTexture=!0;class K9 extends nn{constructor(e,n,r,i,s,a,o,c,u,d,h,f){super(null,a,o,c,u,d,i,s,h,f),this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}K9.prototype.isCompressedTexture=!0;class Q9 extends nn{constructor(e,n,r,i,s,a,o,c,u){super(e,n,r,i,s,a,o,c,u),this.needsUpdate=!0}}Q9.prototype.isCanvasTexture=!0;class Z9 extends nn{constructor(e,n,r,i,s,a,o,c,u,d){if(d=d!==void 0?d:Mo,d!==Mo&&d!==Kc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Mo&&(r=Kh),r===void 0&&d===Kc&&(r=gc),super(null,i,s,a,o,c,d,r,u),this.image={width:e,height:n},this.magFilter=o!==void 0?o:yn,this.minFilter=c!==void 0?c:yn,this.flipY=!1,this.generateMipmaps=!1}}Z9.prototype.isDepthTexture=!0;class Um extends tt{constructor(e=1,n=1,r=1,i=8,s=1,a=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],f=[],p=[];let x=0;const y=[],v=r/2;let g=0;m(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(d),this.setAttribute("position",new mt(h,3)),this.setAttribute("normal",new mt(f,3)),this.setAttribute("uv",new mt(p,2));function m(){const S=new H,M=new H;let w=0;const C=(n-e)/r;for(let E=0;E<=s;E++){const N=[],L=E/s,F=L*(n-e)+e;for(let D=0;D<=i;D++){const k=D/i,T=k*c+o,z=Math.sin(T),j=Math.cos(T);M.x=F*z,M.y=-L*r+v,M.z=F*j,h.push(M.x,M.y,M.z),S.set(z,C,j).normalize(),f.push(S.x,S.y,S.z),p.push(k,1-L),N.push(x++)}y.push(N)}for(let E=0;E<i;E++)for(let N=0;N<s;N++){const L=y[N][E],F=y[N+1][E],D=y[N+1][E+1],k=y[N][E+1];d.push(L,F,k),d.push(F,D,k),w+=6}u.addGroup(g,w,0),g+=w}function b(S){const M=x,w=new ge,C=new H;let E=0;const N=S===!0?e:n,L=S===!0?1:-1;for(let D=1;D<=i;D++)h.push(0,v*L,0),f.push(0,L,0),p.push(.5,.5),x++;const F=x;for(let D=0;D<=i;D++){const T=D/i*c+o,z=Math.cos(T),j=Math.sin(T);C.x=N*j,C.y=v*L,C.z=N*z,h.push(C.x,C.y,C.z),f.push(0,L,0),w.x=z*.5+.5,w.y=j*.5*L+.5,p.push(w.x,w.y),x++}for(let D=0;D<i;D++){const k=M+D,T=F+D;S===!0?d.push(T,T+1,k):d.push(T+1,T,k),E+=3}u.addGroup(g,E,S===!0?1:2),g+=E}}}class J9 extends tt{constructor(e,n,r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),u(r),d(),this.setAttribute("position",new mt(s,3)),this.setAttribute("normal",new mt(s.slice(),3)),this.setAttribute("uv",new mt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(m){const b=new H,S=new H,M=new H;for(let w=0;w<n.length;w+=3)p(n[w+0],b),p(n[w+1],S),p(n[w+2],M),c(b,S,M,m)}function c(m,b,S,M){const w=M+1,C=[];for(let E=0;E<=w;E++){C[E]=[];const N=m.clone().lerp(S,E/w),L=b.clone().lerp(S,E/w),F=w-E;for(let D=0;D<=F;D++)D===0&&E===w?C[E][D]=N:C[E][D]=N.clone().lerp(L,D/F)}for(let E=0;E<w;E++)for(let N=0;N<2*(w-E)-1;N++){const L=Math.floor(N/2);N%2===0?(f(C[E][L+1]),f(C[E+1][L]),f(C[E][L])):(f(C[E][L+1]),f(C[E+1][L+1]),f(C[E+1][L]))}}function u(m){const b=new H;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(m),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function d(){const m=new H;for(let b=0;b<s.length;b+=3){m.x=s[b+0],m.y=s[b+1],m.z=s[b+2];const S=v(m)/2/Math.PI+.5,M=g(m)/Math.PI+.5;a.push(S,1-M)}x(),h()}function h(){for(let m=0;m<a.length;m+=6){const b=a[m+0],S=a[m+2],M=a[m+4],w=Math.max(b,S,M),C=Math.min(b,S,M);w>.9&&C<.1&&(b<.2&&(a[m+0]+=1),S<.2&&(a[m+2]+=1),M<.2&&(a[m+4]+=1))}}function f(m){s.push(m.x,m.y,m.z)}function p(m,b){const S=m*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function x(){const m=new H,b=new H,S=new H,M=new H,w=new ge,C=new ge,E=new ge;for(let N=0,L=0;N<s.length;N+=9,L+=6){m.set(s[N+0],s[N+1],s[N+2]),b.set(s[N+3],s[N+4],s[N+5]),S.set(s[N+6],s[N+7],s[N+8]),w.set(a[L+0],a[L+1]),C.set(a[L+2],a[L+3]),E.set(a[L+4],a[L+5]),M.copy(m).add(b).add(S).divideScalar(3);const F=v(M);y(w,L+0,m,F),y(C,L+2,b,F),y(E,L+4,S,F)}}function y(m,b,S,M){M<0&&m.x===1&&(a[b]=m.x-1),S.x===0&&S.z===0&&(a[b]=M/2/Math.PI+.5)}function v(m){return Math.atan2(m.z,-m.x)}function g(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}}const e$={triangulate:function(t,e,n){n=n||2;const r=e&&e.length,i=r?e[0]*n:t.length;let s=pA(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,u,d,h,f,p;if(r&&(s=s$(t,e,s,n)),t.length>80*n){o=u=t[0],c=d=t[1];for(let x=n;x<i;x+=n)h=t[x],f=t[x+1],h<o&&(o=h),f<c&&(c=f),h>u&&(u=h),f>d&&(d=f);p=Math.max(u-o,d-c),p=p!==0?1/p:0}return Jc(s,a,n,o,c,p),a}};function pA(t,e,n,r,i){let s,a;if(i===g$(t,e,n,r)>0)for(s=e;s<n;s+=r)a=dS(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=dS(s,t[s],t[s+1],a);return a&&Jf(a,a.next)&&(tu(a),a=a.next),a}function xs(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Jf(n,n.next)||vt(n.prev,n,n.next)===0)){if(tu(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Jc(t,e,n,r,i,s,a){if(!t)return;!a&&s&&u$(t,r,i,s);let o=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?n$(t,r,i,s):t$(t)){e.push(c.i/n),e.push(t.i/n),e.push(u.i/n),tu(t),t=u.next,o=u.next;continue}if(t=u,t===o){a?a===1?(t=r$(xs(t),e,n),Jc(t,e,n,r,i,s,2)):a===2&&i$(t,e,n,r,i,s):Jc(xs(t),e,n,r,i,s,1);break}}}function t$(t){const e=t.prev,n=t,r=t.next;if(vt(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(ho(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&vt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function n$(t,e,n,r){const i=t.prev,s=t,a=t.next;if(vt(i,s,a)>=0)return!1;const o=i.x<s.x?i.x<a.x?i.x:a.x:s.x<a.x?s.x:a.x,c=i.y<s.y?i.y<a.y?i.y:a.y:s.y<a.y?s.y:a.y,u=i.x>s.x?i.x>a.x?i.x:a.x:s.x>a.x?s.x:a.x,d=i.y>s.y?i.y>a.y?i.y:a.y:s.y>a.y?s.y:a.y,h=Wy(o,c,e,n,r),f=Wy(u,d,e,n,r);let p=t.prevZ,x=t.nextZ;for(;p&&p.z>=h&&x&&x.z<=f;){if(p!==t.prev&&p!==t.next&&ho(i.x,i.y,s.x,s.y,a.x,a.y,p.x,p.y)&&vt(p.prev,p,p.next)>=0||(p=p.prevZ,x!==t.prev&&x!==t.next&&ho(i.x,i.y,s.x,s.y,a.x,a.y,x.x,x.y)&&vt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&ho(i.x,i.y,s.x,s.y,a.x,a.y,p.x,p.y)&&vt(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;x&&x.z<=f;){if(x!==t.prev&&x!==t.next&&ho(i.x,i.y,s.x,s.y,a.x,a.y,x.x,x.y)&&vt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function r$(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Jf(i,s)&&mA(i,r,r.next,s)&&eu(i,s)&&eu(s,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(s.i/n),tu(r),tu(r.next),r=t=s),r=r.next}while(r!==t);return xs(r)}function i$(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&f$(a,o)){let c=gA(a,o);a=xs(a,a.next),c=xs(c,c.next),Jc(a,e,n,r,i,s),Jc(c,e,n,r,i,s);return}o=o.next}a=a.next}while(a!==t)}function s$(t,e,n,r){const i=[];let s,a,o,c,u;for(s=0,a=e.length;s<a;s++)o=e[s]*r,c=s<a-1?e[s+1]*r:t.length,u=pA(t,o,c,r,!1),u===u.next&&(u.steiner=!0),i.push(h$(u));for(i.sort(a$),s=0;s<i.length;s++)o$(i[s],n),n=xs(n,n.next);return n}function a$(t,e){return t.x-e.x}function o$(t,e){if(e=l$(t,e),e){const n=gA(e,t);xs(e,e.next),xs(n,n.next)}}function l$(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,a;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s){if(s=f,f===r){if(i===n.y)return n;if(i===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!a)return null;if(r===s)return a;const o=a,c=a.x,u=a.y;let d=1/0,h;n=a;do r>=n.x&&n.x>=c&&r!==n.x&&ho(i<u?r:s,i,c,u,i<u?s:r,i,n.x,n.y)&&(h=Math.abs(i-n.y)/(r-n.x),eu(n,t)&&(h<d||h===d&&(n.x>a.x||n.x===a.x&&c$(a,n)))&&(a=n,d=h)),n=n.next;while(n!==o);return a}function c$(t,e){return vt(t.prev,t,e.prev)<0&&vt(e.next,t,t.next)<0}function u$(t,e,n,r){let i=t;do i.z===null&&(i.z=Wy(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,d$(i)}function d$(t){let e,n,r,i,s,a,o,c,u=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<u&&(o++,r=r.nextZ,!!r);e++);for(c=u;o>0||c>0&&r;)o!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(a>1);return t}function Wy(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function h$(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ho(t,e,n,r,i,s,a,o){return(i-a)*(e-o)-(t-a)*(s-o)>=0&&(t-a)*(r-o)-(n-a)*(e-o)>=0&&(n-a)*(s-o)-(i-a)*(r-o)>=0}function f$(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!p$(t,e)&&(eu(t,e)&&eu(e,t)&&m$(t,e)&&(vt(t.prev,t,e.prev)||vt(t,e.prev,e))||Jf(t,e)&&vt(t.prev,t,t.next)>0&&vt(e.prev,e,e.next)>0)}function vt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Jf(t,e){return t.x===e.x&&t.y===e.y}function mA(t,e,n,r){const i=Rd(vt(t,e,n)),s=Rd(vt(t,e,r)),a=Rd(vt(n,r,t)),o=Rd(vt(n,r,e));return!!(i!==s&&a!==o||i===0&&Ld(t,n,e)||s===0&&Ld(t,r,e)||a===0&&Ld(n,t,r)||o===0&&Ld(n,e,r))}function Ld(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Rd(t){return t>0?1:t<0?-1:0}function p$(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mA(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function eu(t,e){return vt(t.prev,t,t.next)<0?vt(t,e,t.next)>=0&&vt(t,t.prev,e)>=0:vt(t,e,t.prev)<0||vt(t,t.next,e)<0}function m$(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function gA(t,e){const n=new $y(t.i,t.x,t.y),r=new $y(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function dS(t,e,n,r){const i=new $y(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function tu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $y(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function g$(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class hs{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return hs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];hS(e),fS(r,e);let a=e.length;n.forEach(hS);for(let c=0;c<n.length;c++)i.push(a),a+=n[c].length,fS(r,n[c]);const o=e$.triangulate(r,i);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function hS(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function fS(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ep extends tt{constructor(e,n){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o];a(u)}this.setAttribute("position",new mt(i,3)),this.setAttribute("uv",new mt(s,2)),this.computeVertexNormals();function a(o){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1;let h=n.depth!==void 0?n.depth:100,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:6,x=n.bevelSize!==void 0?n.bevelSize:p-2,y=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,m=n.UVGenerator!==void 0?n.UVGenerator:y$;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=n.amount);let b,S=!1,M,w,C,E;g&&(b=g.getSpacedPoints(d),S=!0,f=!1,M=g.computeFrenetFrames(d,!1),w=new H,C=new H,E=new H),f||(v=0,p=0,x=0,y=0);const N=o.extractPoints(u);let L=N.shape;const F=N.holes;if(!hs.isClockWise(L)){L=L.reverse();for(let ee=0,le=F.length;ee<le;ee++){const ae=F[ee];hs.isClockWise(ae)&&(F[ee]=ae.reverse())}}const k=hs.triangulateShape(L,F),T=L;for(let ee=0,le=F.length;ee<le;ee++){const ae=F[ee];L=L.concat(ae)}function z(ee,le,ae){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(ae).add(ee)}const j=L.length,G=k.length;function V(ee,le,ae){let ye,oe,O;const P=ee.x-le.x,te=ee.y-le.y,re=ae.x-ee.x,X=ae.y-ee.y,me=P*P+te*te,Ne=P*X-te*re;if(Math.abs(Ne)>Number.EPSILON){const Te=Math.sqrt(me),I=Math.sqrt(re*re+X*X),se=le.x-te/Te,xe=le.y+P/Te,Ce=ae.x-X/I,ce=ae.y+re/I,ke=((Ce-se)*X-(ce-xe)*re)/(P*X-te*re);ye=se+P*ke-ee.x,oe=xe+te*ke-ee.y;const qe=ye*ye+oe*oe;if(qe<=2)return new ge(ye,oe);O=Math.sqrt(qe/2)}else{let Te=!1;P>Number.EPSILON?re>Number.EPSILON&&(Te=!0):P<-Number.EPSILON?re<-Number.EPSILON&&(Te=!0):Math.sign(te)===Math.sign(X)&&(Te=!0),Te?(ye=-te,oe=P,O=Math.sqrt(me)):(ye=P,oe=te,O=Math.sqrt(me/2))}return new ge(ye/O,oe/O)}const U=[];for(let ee=0,le=T.length,ae=le-1,ye=ee+1;ee<le;ee++,ae++,ye++)ae===le&&(ae=0),ye===le&&(ye=0),U[ee]=V(T[ee],T[ae],T[ye]);const q=[];let W,$=U.concat();for(let ee=0,le=F.length;ee<le;ee++){const ae=F[ee];W=[];for(let ye=0,oe=ae.length,O=oe-1,P=ye+1;ye<oe;ye++,O++,P++)O===oe&&(O=0),P===oe&&(P=0),W[ye]=V(ae[ye],ae[O],ae[P]);q.push(W),$=$.concat(W)}for(let ee=0;ee<v;ee++){const le=ee/v,ae=p*Math.cos(le*Math.PI/2),ye=x*Math.sin(le*Math.PI/2)+y;for(let oe=0,O=T.length;oe<O;oe++){const P=z(T[oe],U[oe],ye);J(P.x,P.y,-ae)}for(let oe=0,O=F.length;oe<O;oe++){const P=F[oe];W=q[oe];for(let te=0,re=P.length;te<re;te++){const X=z(P[te],W[te],ye);J(X.x,X.y,-ae)}}}const K=x+y;for(let ee=0;ee<j;ee++){const le=f?z(L[ee],$[ee],K):L[ee];S?(C.copy(M.normals[0]).multiplyScalar(le.x),w.copy(M.binormals[0]).multiplyScalar(le.y),E.copy(b[0]).add(C).add(w),J(E.x,E.y,E.z)):J(le.x,le.y,0)}for(let ee=1;ee<=d;ee++)for(let le=0;le<j;le++){const ae=f?z(L[le],$[le],K):L[le];S?(C.copy(M.normals[ee]).multiplyScalar(ae.x),w.copy(M.binormals[ee]).multiplyScalar(ae.y),E.copy(b[ee]).add(C).add(w),J(E.x,E.y,E.z)):J(ae.x,ae.y,h/d*ee)}for(let ee=v-1;ee>=0;ee--){const le=ee/v,ae=p*Math.cos(le*Math.PI/2),ye=x*Math.sin(le*Math.PI/2)+y;for(let oe=0,O=T.length;oe<O;oe++){const P=z(T[oe],U[oe],ye);J(P.x,P.y,h+ae)}for(let oe=0,O=F.length;oe<O;oe++){const P=F[oe];W=q[oe];for(let te=0,re=P.length;te<re;te++){const X=z(P[te],W[te],ye);S?J(X.x,X.y+b[d-1].y,b[d-1].x+ae):J(X.x,X.y,h+ae)}}}B(),Q();function B(){const ee=i.length/3;if(f){let le=0,ae=j*le;for(let ye=0;ye<G;ye++){const oe=k[ye];de(oe[2]+ae,oe[1]+ae,oe[0]+ae)}le=d+v*2,ae=j*le;for(let ye=0;ye<G;ye++){const oe=k[ye];de(oe[0]+ae,oe[1]+ae,oe[2]+ae)}}else{for(let le=0;le<G;le++){const ae=k[le];de(ae[2],ae[1],ae[0])}for(let le=0;le<G;le++){const ae=k[le];de(ae[0]+j*d,ae[1]+j*d,ae[2]+j*d)}}r.addGroup(ee,i.length/3-ee,0)}function Q(){const ee=i.length/3;let le=0;pe(T,le),le+=T.length;for(let ae=0,ye=F.length;ae<ye;ae++){const oe=F[ae];pe(oe,le),le+=oe.length}r.addGroup(ee,i.length/3-ee,1)}function pe(ee,le){let ae=ee.length;for(;--ae>=0;){const ye=ae;let oe=ae-1;oe<0&&(oe=ee.length-1);for(let O=0,P=d+v*2;O<P;O++){const te=j*O,re=j*(O+1),X=le+ye+te,me=le+oe+te,Ne=le+oe+re,Te=le+ye+re;_e(X,me,Ne,Te)}}}function J(ee,le,ae){c.push(ee),c.push(le),c.push(ae)}function de(ee,le,ae){be(ee),be(le),be(ae);const ye=i.length/3,oe=m.generateTopUV(r,i,ye-3,ye-2,ye-1);ue(oe[0]),ue(oe[1]),ue(oe[2])}function _e(ee,le,ae,ye){be(ee),be(le),be(ye),be(le),be(ae),be(ye);const oe=i.length/3,O=m.generateSideWallUV(r,i,oe-6,oe-3,oe-2,oe-1);ue(O[0]),ue(O[1]),ue(O[3]),ue(O[1]),ue(O[2]),ue(O[3])}function be(ee){i.push(c[ee*3+0]),i.push(c[ee*3+1]),i.push(c[ee*3+2])}function ue(ee){s.push(ee.x),s.push(ee.y)}}}toJSON(){const e=tt.prototype.toJSON.call(this),n=this.parameters.shapes,r=this.parameters.options;return x$(n,r,e)}}const y$={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new ge(s,a),new ge(o,c),new ge(u,d)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],c=e[n*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],f=e[i*3],p=e[i*3+1],x=e[i*3+2],y=e[s*3],v=e[s*3+1],g=e[s*3+2];return Math.abs(o-d)<.01?[new ge(a,1-c),new ge(u,1-h),new ge(f,1-x),new ge(y,1-g)]:[new ge(o,1-c),new ge(d,1-h),new ge(p,1-x),new ge(v,1-g)]}};function x$(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class v$ extends J9{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}}class b$ extends tt{constructor(e,n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,c,d),o+=c,c=0;this.setIndex(r),this.setAttribute("position",new mt(i,3)),this.setAttribute("normal",new mt(s,3)),this.setAttribute("uv",new mt(a,2));function u(d){const h=i.length/3,f=d.extractPoints(n);let p=f.shape;const x=f.holes;hs.isClockWise(p)===!1&&(p=p.reverse());for(let v=0,g=x.length;v<g;v++){const m=x[v];hs.isClockWise(m)===!0&&(x[v]=m.reverse())}const y=hs.triangulateShape(p,x);for(let v=0,g=x.length;v<g;v++){const m=x[v];p=p.concat(m)}for(let v=0,g=p.length;v<g;v++){const m=p[v];i.push(m.x,m.y,0),s.push(0,0,1),a.push(m.x,m.y)}for(let v=0,g=y.length;v<g;v++){const m=y[v],b=m[0]+h,S=m[1]+h,M=m[2]+h;r.push(b,S,M),c+=3}}}toJSON(){const e=tt.prototype.toJSON.call(this),n=this.parameters.shapes;return _$(n,e)}}function _$(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class w$ extends qt{constructor(e){super(),this.type="ShadowMaterial",this.color=new Ee(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}w$.prototype.isShadowMaterial=!0;class S$ extends da{constructor(e){super(e),this.type="RawShaderMaterial"}}S$.prototype.isRawShaderMaterial=!0;class yA extends qt{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ee(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}yA.prototype.isMeshStandardMaterial=!0;class M$ extends yA{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(n){this.reflectivity=On(2.5*(n-1)/(n+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Ee).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this}}M$.prototype.isMeshPhysicalMaterial=!0;class Xl extends qt{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Ee(16777215),this.specular=new Ee(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Xl.prototype.isMeshPhongMaterial=!0;class C$ extends qt{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ee(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}C$.prototype.isMeshToonMaterial=!0;class E$ extends qt{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}E$.prototype.isMeshNormalMaterial=!0;class T$ extends qt{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Kf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}T$.prototype.isMeshLambertMaterial=!0;class N$ extends qt{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ee(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}N$.prototype.isMeshMatcapMaterial=!0;class k$ extends Eu{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}k$.prototype.isLineDashedMaterial=!0;const ht={arraySlice:function(t,e,n){return ht.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let c=0;c!==e;++c)i[a++]=t[o+c]}return i},flattenJSON:function(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)},subclip:function(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),h=[],f=[];for(let p=0;p<u.times.length;++p){const x=u.times[p]*i;if(!(x<n||x>=r)){h.push(u.times[p]);for(let y=0;y<d;++y)f.push(u.values[p*d+y])}}h.length!==0&&(u.times=ht.convertArray(h,u.times.constructor),u.values=ht.convertArray(f,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let c=0;c<s.tracks.length;++c)o>s.tracks[c].times[0]&&(o=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(g){return g.name===o.name&&g.ValueTypeName===c});if(u===void 0)continue;let d=0;const h=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let f=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const x=o.times.length-1;let y;if(s<=o.times[0]){const g=d,m=h-d;y=ht.arraySlice(o.values,g,m)}else if(s>=o.times[x]){const g=x*h+d,m=g+h-d;y=ht.arraySlice(o.values,g,m)}else{const g=o.createInterpolant(),m=d,b=h-d;g.evaluate(s),y=ht.arraySlice(g.resultBuffer,m,b)}c==="quaternion"&&new bn().fromArray(y).normalize().conjugate().toArray(y);const v=u.times.length;for(let g=0;g<v;++g){const m=g*p+f;if(c==="quaternion")bn.multiplyQuaternionsFlat(u.values,m,y,0,u.values,m);else{const b=p-f*2;for(let S=0;S<b;++S)u.values[m+S]-=y[S]}}}return t.blendMode=Hk,t}};class vs{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}vs.prototype.beforeStart_=vs.prototype.copySampleValue_;vs.prototype.afterEnd_=vs.prototype.copySampleValue_;class A$ extends vs{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lo,endingEnd:lo}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],c=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case co:s=e,o=2*n-r;break;case ef:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(c===void 0)switch(this.getSettings_().endingEnd){case co:a=e,c=2*r-n;break;case ef:a=1,c=r+i[1]-i[0];break;default:a=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-o),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,x=(r-n)/(i-n),y=x*x,v=y*x,g=-f*v+2*f*y-f*x,m=(1+f)*v+(-1.5-2*f)*y+(-.5+f)*x+1,b=(-1-p)*v+(1.5+p)*y+.5*x,S=p*v-p*y;for(let M=0;M!==o;++M)s[M]=g*a[d+M]+m*a[u+M]+b*a[c+M]+S*a[h+M];return s}}class xA extends vs{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,u=c-o,d=(r-n)/(i-n),h=1-d;for(let f=0;f!==o;++f)s[f]=a[u+f]*h+a[c+f]*d;return s}}class j$ extends vs{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ni{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ht.convertArray(n,this.TimeBufferType),this.values=ht.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ht.convertArray(e.times,Array),values:ht.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new j$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new xA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new A$(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Zh:n=this.InterpolantFactoryMethodDiscrete;break;case Jh:n=this.InterpolantFactoryMethodLinear;break;case hm:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Zh;case this.InterpolantFactoryMethodLinear:return Jh;case this.InterpolantFactoryMethodSmooth:return hm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=ht.arraySlice(r,s,a),this.values=ht.arraySlice(this.values,s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=r[o];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(i!==void 0&&ht.isTypedArray(i))for(let o=0,c=i.length;o!==c;++o){const u=i[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=ht.arraySlice(this.times),n=ht.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===hm,s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(i)c=!0;else{const h=o*r,f=h-r,p=h+r;for(let x=0;x!==r;++x){const y=n[h+x];if(y!==n[f+x]||y!==n[p+x]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const h=o*r,f=a*r;for(let p=0;p!==r;++p)n[f+p]=n[h+p]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,c=a*r,u=0;u!==r;++u)n[c+u]=n[o+u];++a}return a!==e.length?(this.times=ht.arraySlice(e,0,a),this.values=ht.arraySlice(n,0,a*r)):(this.times=e,this.values=n),this}clone(){const e=ht.arraySlice(this.times,0),n=ht.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ni.prototype.TimeBufferType=Float32Array;ni.prototype.ValueBufferType=Float32Array;ni.prototype.DefaultInterpolation=Jh;class fl extends ni{}fl.prototype.ValueTypeName="bool";fl.prototype.ValueBufferType=Array;fl.prototype.DefaultInterpolation=Zh;fl.prototype.InterpolantFactoryMethodLinear=void 0;fl.prototype.InterpolantFactoryMethodSmooth=void 0;class vA extends ni{}vA.prototype.ValueTypeName="color";class nf extends ni{}nf.prototype.ValueTypeName="number";class P$ extends vs{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(r-n)/(i-n);let u=e*o;for(let d=u+o;u!==d;u+=4)bn.slerpFlat(s,0,a,u-o,a,u,c);return s}}class Tu extends ni{InterpolantFactoryMethodLinear(e){return new P$(this.times,this.values,this.getValueSize(),e)}}Tu.prototype.ValueTypeName="quaternion";Tu.prototype.DefaultInterpolation=Jh;Tu.prototype.InterpolantFactoryMethodSmooth=void 0;class pl extends ni{}pl.prototype.ValueTypeName="string";pl.prototype.ValueBufferType=Array;pl.prototype.DefaultInterpolation=Zh;pl.prototype.InterpolantFactoryMethodLinear=void 0;pl.prototype.InterpolantFactoryMethodSmooth=void 0;class rf extends ni{}rf.prototype.ValueTypeName="vector";class pS{constructor(e,n=-1,r,i=Z0){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Zr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(R$(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(ni.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let c=[],u=[];c.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const d=ht.getKeyframeOrder(c);c=ht.sortedArray(c,1,d),u=ht.sortedArray(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new nf(".morphTargetInfluences["+n[o].name+"]",c,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const u=e[o],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let f=i[h];f||(i[h]=f=[]),f.push(u)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,f,p,x,y){if(p.length!==0){const v=[],g=[];ht.flattenJSON(p,v,g,x),v.length!==0&&y.push(new h(f,v,g))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const f=u[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let x;for(x=0;x<f.length;x++)if(f[x].morphTargets)for(let y=0;y<f[x].morphTargets.length;y++)p[f[x].morphTargets[y]]=-1;for(const y in p){const v=[],g=[];for(let m=0;m!==f[x].morphTargets.length;++m){const b=f[x];v.push(b.time),g.push(b.morphTarget===y?1:0)}i.push(new nf(".morphTargetInfluence["+y+"]",v,g))}c=p.length*(a||1)}else{const p=".bones["+n[h].name+"]";r(rf,p+".position",f,"pos",i),r(Tu,p+".quaternion",f,"rot",i),r(rf,p+".scale",f,"scl",i)}}return i.length===0?null:new this(s,c,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function L$(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nf;case"vector":case"vector2":case"vector3":case"vector4":return rf;case"color":return vA;case"quaternion":return Tu;case"bool":case"boolean":return fl;case"string":return pl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function R$(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=L$(t.type);if(t.times===void 0){const n=[],r=[];ht.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const qo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class D${constructor(e,n,r){const i=this;let s=!1,a=0,o=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){o++,s===!1&&i.onStart!==void 0&&i.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,i.onProgress!==void 0&&i.onProgress(d,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,f=u.length;h<f;h+=2){const p=u[h],x=u[h+1];if(p.global&&(p.lastIndex=0),p.test(d))return x}return null}}}const F$=new D$;class Es{constructor(e){this.manager=e!==void 0?e:F$,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const gr={};class I$ extends Es{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=qo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;if(gr[e]!==void 0){gr[e].push({onLoad:n,onProgress:r,onError:i});return}const o=/^data:(.*?)(;base64)?,(.*)$/,c=e.match(o);let u;if(c){const d=c[1],h=!!c[2];let f=c[3];f=decodeURIComponent(f),h&&(f=atob(f));try{let p;const x=(this.responseType||"").toLowerCase();switch(x){case"arraybuffer":case"blob":const y=new Uint8Array(f.length);for(let g=0;g<f.length;g++)y[g]=f.charCodeAt(g);x==="blob"?p=new Blob([y.buffer],{type:d}):p=y.buffer;break;case"document":p=new DOMParser().parseFromString(f,d);break;case"json":p=JSON.parse(f);break;default:p=f;break}setTimeout(function(){n&&n(p),s.manager.itemEnd(e)},0)}catch(p){setTimeout(function(){i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)},0)}}else{gr[e]=[],gr[e].push({onLoad:n,onProgress:r,onError:i}),u=new XMLHttpRequest,u.open("GET",e,!0),u.addEventListener("load",function(d){const h=this.response,f=gr[e];if(delete gr[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),qo.add(e,h);for(let p=0,x=f.length;p<x;p++){const y=f[p];y.onLoad&&y.onLoad(h)}s.manager.itemEnd(e)}else{for(let p=0,x=f.length;p<x;p++){const y=f[p];y.onError&&y.onError(d)}s.manager.itemError(e),s.manager.itemEnd(e)}},!1),u.addEventListener("progress",function(d){const h=gr[e];for(let f=0,p=h.length;f<p;f++){const x=h[f];x.onProgress&&x.onProgress(d)}},!1),u.addEventListener("error",function(d){const h=gr[e];delete gr[e];for(let f=0,p=h.length;f<p;f++){const x=h[f];x.onError&&x.onError(d)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),u.addEventListener("abort",function(d){const h=gr[e];delete gr[e];for(let f=0,p=h.length;f<p;f++){const x=h[f];x.onError&&x.onError(d)}s.manager.itemError(e),s.manager.itemEnd(e)},!1),this.responseType!==void 0&&(u.responseType=this.responseType),this.withCredentials!==void 0&&(u.withCredentials=this.withCredentials),u.overrideMimeType&&u.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const d in this.requestHeader)u.setRequestHeader(d,this.requestHeader[d]);u.send(null)}return s.manager.itemStart(e),u}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bA extends Es{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=qo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function c(){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1),qo.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){o.removeEventListener("load",c,!1),o.removeEventListener("error",u,!1),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}return o.addEventListener("load",c,!1),o.addEventListener("error",u,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class O$ extends Es{constructor(e){super(e)}load(e,n,r,i){const s=new Qf,a=new bA(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function c(u){a.load(e[u],function(d){s.images[u]=d,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class B$ extends Es{constructor(e){super(e)}load(e,n,r,i){const s=new nn,a=new bA(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o;const c=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;s.format=c?Qs:Nr,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ar{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,c=s-1,u;for(;o<=c;)if(i=Math.floor(o+(c-o)/2),u=r[i]-a,u<0)o=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===a)return i/(s-1);const d=r[i],f=r[i+1]-d,p=(a-d)/f;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),c=n||(a.isVector2?new ge:new H);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new H,i=[],s=[],a=[],o=new H,c=new Ae;for(let p=0;p<=e;p++){const x=p/e;i[p]=this.getTangentAt(x,new H),i[p].normalize()}s[0]=new H,a[0]=new H;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),f<=u&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(On(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(c.makeRotationAxis(o,x))}a[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(On(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(p=-p);for(let x=1;x<=e;x++)s[x].applyMatrix4(c.makeRotationAxis(i[x],p*x)),a[x].crossVectors(i[x],s[x])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class tp extends ar{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,c=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,n){const r=n||new ge,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=c-this.aX,p=u-this.aY;c=f*d-p*h+this.aX,u=f*h+p*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}tp.prototype.isEllipseCurve=!0;class _A extends tp{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.type="ArcCurve"}}_A.prototype.isArcCurve=!0;function av(){let t=0,e=0,n=0,r=0;function i(s,a,o,c){t=s,e=o,n=-3*s+3*a-2*o-c,r=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,u){i(a,o,u*(o-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,u,d,h){let f=(a-s)/u-(o-s)/(u+d)+(o-a)/d,p=(o-a)/d-(c-a)/(d+h)+(c-o)/h;f*=d,p*=d,i(a,o,f,p)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const Dd=new H,Gm=new av,Wm=new av,$m=new av;class wA extends ar{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new H){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:c===0&&o===s-1&&(o=s-2,c=1);let u,d;this.closed||o>0?u=i[(o-1)%s]:(Dd.subVectors(i[0],i[1]).add(i[0]),u=Dd);const h=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?d=i[(o+2)%s]:(Dd.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=Dd),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(f),p),v=Math.pow(f.distanceToSquared(d),p);y<1e-4&&(y=1),x<1e-4&&(x=y),v<1e-4&&(v=y),Gm.initNonuniformCatmullRom(u.x,h.x,f.x,d.x,x,y,v),Wm.initNonuniformCatmullRom(u.y,h.y,f.y,d.y,x,y,v),$m.initNonuniformCatmullRom(u.z,h.z,f.z,d.z,x,y,v)}else this.curveType==="catmullrom"&&(Gm.initCatmullRom(u.x,h.x,f.x,d.x,this.tension),Wm.initCatmullRom(u.y,h.y,f.y,d.y,this.tension),$m.initCatmullRom(u.z,h.z,f.z,d.z,this.tension));return r.set(Gm.calc(c),Wm.calc(c),$m.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}wA.prototype.isCatmullRomCurve3=!0;function mS(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,c=t*o;return(2*n-2*r+s+a)*c+(-3*n+3*r-2*s-a)*o+s*t+n}function z$(t,e){const n=1-t;return n*n*e}function V$(t,e){return 2*(1-t)*t*e}function H$(t,e){return t*t*e}function yc(t,e,n,r){return z$(t,e)+V$(t,n)+H$(t,r)}function U$(t,e){const n=1-t;return n*n*n*e}function G$(t,e){const n=1-t;return 3*n*n*t*e}function W$(t,e){return 3*(1-t)*t*t*e}function $$(t,e){return t*t*t*e}function xc(t,e,n,r,i){return U$(t,e)+G$(t,n)+W$(t,r)+$$(t,i)}class ov extends ar{constructor(e=new ge,n=new ge,r=new ge,i=new ge){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ge){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(xc(e,i.x,s.x,a.x,o.x),xc(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}ov.prototype.isCubicBezierCurve=!0;class SA extends ar{constructor(e=new H,n=new H,r=new H,i=new H){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(xc(e,i.x,s.x,a.x,o.x),xc(e,i.y,s.y,a.y,o.y),xc(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}SA.prototype.isCubicBezierCurve3=!0;class np extends ar{constructor(e=new ge,n=new ge){super(),this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ge){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new ge;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}np.prototype.isLineCurve=!0;class q$ extends ar{constructor(e=new H,n=new H){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new H){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lv extends ar{constructor(e=new ge,n=new ge,r=new ge){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ge){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(yc(e,i.x,s.x,a.x),yc(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lv.prototype.isQuadraticBezierCurve=!0;class MA extends ar{constructor(e=new H,n=new H,r=new H){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new H){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(yc(e,i.x,s.x,a.x),yc(e,i.y,s.y,a.y),yc(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}MA.prototype.isQuadraticBezierCurve3=!0;class cv extends ar{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,n=new ge){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,c=i[a===0?a:a-1],u=i[a],d=i[a>i.length-2?i.length-1:a+1],h=i[a>i.length-3?i.length-1:a+2];return r.set(mS(o,c.x,u.x,d.x,h.x),mS(o,c.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ge().fromArray(i))}return this}}cv.prototype.isSplineCurve=!0;var X$=Object.freeze({__proto__:null,ArcCurve:_A,CatmullRomCurve3:wA,CubicBezierCurve:ov,CubicBezierCurve3:SA,EllipseCurve:tp,LineCurve:np,LineCurve3:q$,QuadraticBezierCurve:lv,QuadraticBezierCurve3:MA,SplineCurve:cv});class Y$ extends ar{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new np(n,e))}getPoint(e){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const s=r[i]-n,a=this.curves[i],o=a.getLength(),c=o===0?0:1-s/o;return a.getPointAt(c)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a&&a.isEllipseCurve?e*2:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,c=a.getPoints(o);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new X$[i.type]().fromJSON(i))}return this}}class qy extends Y${constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new np(this.currentPoint.clone(),new ge(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new lv(this.currentPoint.clone(),new ge(e,n),new ge(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new ov(this.currentPoint.clone(),new ge(e,n),new ge(r,i),new ge(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new cv(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,n+c,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,s,a,o,c),this}absellipse(e,n,r,i,s,a,o,c){const u=new tp(e,n,r,i,s,a,o,c);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class uv extends qy{constructor(e){super(e),this.uuid=Zr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new qy().fromJSON(i))}return this}}class ei extends Ye{constructor(e,n=1){super(),this.type="Light",this.color=new Ee(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}ei.prototype.isLight=!0;class K$ extends ei{constructor(e,n,r){super(e,r),this.type="HemisphereLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.groundColor=new Ee(n)}copy(e){return ei.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}K$.prototype.isHemisphereLight=!0;const gS=new Ae,yS=new H,xS=new H;class dv{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ge(512,512),this.map=null,this.mapPass=null,this.matrix=new Ae,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zf,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new et(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;yS.setFromMatrixPosition(e.matrixWorld),n.position.copy(yS),xS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(xS),n.updateMatrixWorld(),gS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(n.projectionMatrix),r.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class CA extends dv{constructor(){super(new Tn(50,1,.5,500)),this.focus=1}updateMatrices(e){const n=this.camera,r=Hy*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}CA.prototype.isSpotLightShadow=!0;class Q$ extends ei{constructor(e,n,r=0,i=Math.PI/3,s=0,a=1){super(e,n),this.type="SpotLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.target=new Ye,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.shadow=new CA}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Q$.prototype.isSpotLight=!0;const vS=new Ae,Ol=new H,qm=new H;class EA extends dv{constructor(){super(new Tn(90,1,.5,500)),this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new et(2,1,1,1),new et(0,1,1,1),new et(3,1,1,1),new et(1,1,1,1),new et(3,0,1,1),new et(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ol.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ol),qm.copy(r.position),qm.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(qm),r.updateMatrixWorld(),i.makeTranslation(-Ol.x,-Ol.y,-Ol.z),vS.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vS)}}EA.prototype.isPointLightShadow=!0;class TA extends ei{constructor(e,n,r=0,i=1){super(e,n),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new EA}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}TA.prototype.isPointLight=!0;class NA extends tv{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=d*this.view.offsetY,c=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}NA.prototype.isOrthographicCamera=!0;class kA extends dv{constructor(){super(new NA(-5,5,5,-5,.5,500))}}kA.prototype.isDirectionalLightShadow=!0;class AA extends ei{constructor(e,n){super(e,n),this.type="DirectionalLight",this.position.copy(Ye.DefaultUp),this.updateMatrix(),this.target=new Ye,this.shadow=new kA}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}AA.prototype.isDirectionalLight=!0;class jA extends ei{constructor(e,n){super(e,n),this.type="AmbientLight"}}jA.prototype.isAmbientLight=!0;class Z$ extends ei{constructor(e,n,r=10,i=10){super(e,n),this.type="RectAreaLight",this.width=r,this.height=i}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}Z$.prototype.isRectAreaLight=!0;class PA{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}PA.prototype.isSphericalHarmonics3=!0;class hv extends ei{constructor(e=new PA,n=1){super(void 0,n),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}hv.prototype.isLightProbe=!0;class J${static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}}class eq extends tt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}eq.prototype.isInstancedBufferGeometry=!0;class tq extends $t{constructor(e,n,r,i){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,n,r),this.meshPerAttribute=i||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}tq.prototype.isInstancedBufferAttribute=!0;class nq extends Es{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=qo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){qo.add(e,c),n&&n(c),s.manager.itemEnd(e)}).catch(function(c){i&&i(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}nq.prototype.isImageBitmapLoader=!0;let Fd;const rq={getContext:function(){return Fd===void 0&&(Fd=new(window.AudioContext||window.webkitAudioContext)),Fd},setContext:function(t){Fd=t}};class iq extends Es{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new I$(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{const c=o.slice(0);rq.getContext().decodeAudioData(c,function(d){n(d)})}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}}class sq extends hv{constructor(e,n,r=1){super(void 0,r);const i=new Ee().set(e),s=new Ee().set(n),a=new H(i.r,i.g,i.b),o=new H(s.r,s.g,s.b),c=Math.sqrt(Math.PI),u=c*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(c),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}}sq.prototype.isHemisphereLightProbe=!0;class aq extends hv{constructor(e,n=1){super(void 0,n);const r=new Ee().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}aq.prototype.isAmbientLightProbe=!0;class oq extends Ye{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class lq{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){bn.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;bn.multiplyQuaternionsFlat(e,a,e,n,e,r),bn.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const c=n+o;e[c]=e[c]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const fv="\\[\\]\\.:\\/",cq=new RegExp("["+fv+"]","g"),pv="[^"+fv+"]",uq="[^"+fv.replace("\\.","")+"]",dq=/((?:WC+[\/:])*)/.source.replace("WC",pv),hq=/(WCOD+)?/.source.replace("WCOD",uq),fq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",pv),pq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",pv),mq=new RegExp("^"+dq+hq+fq+pq+"$"),gq=["material","materials","bones"];class yq{constructor(e,n,r){const i=r||Qe.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Qe{constructor(e,n,r){this.path=n,this.parsedPath=r||Qe.parseTrackName(n),this.node=Qe.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Qe.Composite(e,n,r):new Qe(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(cq,"")}static parseTrackName(e){const n=mq.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);gq.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const c=r(o.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.node[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Qe.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qe.Composite=yq;Qe.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Qe.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Qe.prototype.GetterByBindingType=[Qe.prototype._getValue_direct,Qe.prototype._getValue_array,Qe.prototype._getValue_arrayElement,Qe.prototype._getValue_toArray];Qe.prototype.SetterByBindingTypeAndVersioning=[[Qe.prototype._setValue_direct,Qe.prototype._setValue_direct_setNeedsUpdate,Qe.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qe.prototype._setValue_array,Qe.prototype._setValue_array_setNeedsUpdate,Qe.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qe.prototype._setValue_arrayElement,Qe.prototype._setValue_arrayElement_setNeedsUpdate,Qe.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qe.prototype._setValue_fromArray,Qe.prototype._setValue_fromArray_setNeedsUpdate,Qe.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xq{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),c={endingStart:lo,endingEnd:lo};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);o[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,u=o.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;if(c<0||r===0)return;this._startTime=null,n=r*c}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Hk:for(let d=0,h=c.length;d!==h;++d)c[d].evaluate(a),u[d].accumulateAdditive(o);break;case Z0:default:for(let d=0,h=c.length;d!==h;++d)c[d].evaluate(a),u[d].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===eU;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===ZH){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=co,i.endingEnd=co):(e?i.endingStart=this.zeroSlopeAtStart?co:lo:i.endingStart=ef,n?i.endingEnd=this.zeroSlopeAtEnd?co:lo:i.endingEnd=ef)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,c=a.sampleValues;return o[0]=s,c[0]=n,o[1]=s+e,c[1]=r,this}}class vq extends ya{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let h=0;h!==s;++h){const f=i[h],p=f.name;let x=d[p];if(x!==void 0)a[h]=x;else{if(x=a[h],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,c,p));continue}const y=n&&n._propertyBindings[h].binding.parsedPath;x=new lq(Qe.create(r,p,y),f.ValueTypeName,f.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,c,p),a[h]=x}o[h].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],c=o.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const h=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new xA(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?pS.findByName(i,e):e;const o=a!==null?a.uuid:e,c=this._actionsByClip[o];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=Z0),c!==void 0){const h=c.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new xq(this,a,n,r);return this._bindAction(d,u),this._addInactiveAction(d,o,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?pS.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const o=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,c=a.length;o!==c;++o){const u=a[o];this._deactivateAction(u);const d=u._cacheIndex,h=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,n[d]=h,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,c=o[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}vq.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class bq extends xa{constructor(e,n,r=1){super(e,n),this.meshPerAttribute=r||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}bq.prototype.isInstancedInterleavedBuffer=!0;class _q extends Ye{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}_q.prototype.isImmediateRenderObject=!0;const Oi=new H,Id=new Ae,Xm=new Ae;class wq extends sv{constructor(e){const n=LA(e),r=new tt,i=[],s=[],a=new Ee(0,0,1),o=new Ee(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new mt(i,3)),r.setAttribute("color",new mt(s,3));const c=new Eu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Xm.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(Id.multiplyMatrices(Xm,o.matrixWorld),Oi.setFromMatrixPosition(Id),i.setXYZ(a,Oi.x,Oi.y,Oi.z),Id.multiplyMatrices(Xm,o.parent.matrixWorld),Oi.setFromMatrixPosition(Id),i.setXYZ(a+1,Oi.x,Oi.y,Oi.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function LA(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,LA(t.children[n]));return e}class Sq extends sv{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ee(r),i=new Ee(i);const s=n/2,a=e/n,o=e/2,c=[],u=[];for(let f=0,p=0,x=-o;f<=n;f++,x+=a){c.push(-o,0,x,o,0,x),c.push(x,0,-o,x,0,o);const y=f===s?r:i;y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3,y.toArray(u,p),p+=3}const d=new tt;d.setAttribute("position",new mt(c,3)),d.setAttribute("color",new mt(u,3));const h=new Eu({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}}const Mq=new Float32Array(1);new Int32Array(Mq.buffer);const Cq=new J0({side:Vt,depthWrite:!1,depthTest:!1});new Qt(new ev,Cq);ar.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(ar.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};qy.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};Sq.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};wq.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Es.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),J$.extractUrlBase(t)};Es.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};or.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};or.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};or.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};or.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};or.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};cl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Zf.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};Zt.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Zt.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Zt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Zt.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Zt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Zt.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Ae.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};Ae.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Ae.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new H().setFromMatrixColumn(this,3)};Ae.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};Ae.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ae.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Ae.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Ae.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ae.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};Ae.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Ae.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ae.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ae.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ae.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ae.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ae.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Ae.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ae.prototype.makeFrustum=function(t,e,n,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,s)};Ae.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Vr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};bn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};bn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};ul.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};ul.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};ul.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};It.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};It.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};It.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};It.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};It.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};It.barycoordFromPoint=function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),It.getBarycoord(t,e,n,r,i)};It.normal=function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),It.getNormal(t,e,n,r)};uv.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};uv.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ep(this,t)};uv.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new b$(this,t)};ge.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};ge.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};ge.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};H.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};H.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};H.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};H.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};H.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};H.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};H.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};H.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};H.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};et.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};et.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ye.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};Ye.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Ye.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};Ye.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Ye.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Ye.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Qt.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Qt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),tU},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});hA.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Tn.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(ei.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties($t.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===tf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(tf)}}});$t.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?tf:Qc),this};$t.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},$t.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};tt.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};tt.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new $t(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};tt.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};tt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};tt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};tt.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};tt.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(tt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});xa.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?tf:Qc),this};xa.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ep.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ep.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ep.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};rv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(qt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ee}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Ok}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}});Object.defineProperties(da.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});rt.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)};rt.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};rt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};rt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};rt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};rt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};rt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};rt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};rt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};rt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};rt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};rt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};rt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};rt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};rt.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};rt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};rt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};rt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};rt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};rt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};rt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};rt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};rt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};rt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};rt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(rt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Uk:Cu}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(lA.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Zs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});oq.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new iq().load(t,function(r){e.setBuffer(r)}),this};nv.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};nv.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};ll.crossOrigin=void 0;ll.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new B$;i.setCrossOrigin(this.crossOrigin);const s=i.load(t,n,void 0,r);return e&&(s.mapping=e),s};ll.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new O$;i.setCrossOrigin(this.crossOrigin);const s=i.load(t,n,void 0,r);return e&&(s.mapping=e),s};ll.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ll.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Fk}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Fk);const RA=({character:t,size:e="medium",autoRotate:n=!0})=>{const r=_.useRef(null),i=_.useRef(null),s=_.useRef(null),a=_.useRef(null),o=_.useRef(null),c={small:{width:150,height:150,distance:3},medium:{width:250,height:250,distance:4},large:{width:400,height:400,distance:5}},{width:u,height:d,distance:h}=c[e];return _.useEffect(()=>{if(!r.current)return;const f=new rv;f.background=new Ee(16119285),i.current=f;const p=new Tn(75,u/d,.1,1e3);p.position.z=h,s.current=p;const x=new rt({antialias:!0,alpha:!0});x.setSize(u,d),x.setPixelRatio(window.devicePixelRatio),a.current=x,r.current.children.length>0&&r.current.removeChild(r.current.children[0]),r.current.appendChild(x.domElement);const y=new uo;o.current=y,f.add(y);const v=new v$(.8,4),g=new Xl({color:t.color}),m=new Qt(v,g);m.position.y=1,y.add(m);const b=new Um(.6,.5,1.2,8),S=new Xl({color:t.color}),M=new Qt(b,S);M.position.y=-.1,y.add(M);const w=new Um(.25,.2,1,8),C=new Xl({color:t.color}),E=new Qt(w,C);E.position.set(-.8,.2,0),E.rotation.z=.3,y.add(E);const N=new Qt(w,C);N.position.set(.8,.2,0),N.rotation.z=-.3,y.add(N);const L=new Um(.25,.2,1,8),F=new Xl({color:t.color}),D=new Qt(L,F);D.position.set(-.35,-1.1,0),y.add(D);const k=new Qt(L,F);k.position.set(.35,-1.1,0),y.add(k);const T=new jA(16777215,.6);f.add(T);const z=new AA(16777215,.8);z.position.set(5,10,7),f.add(z);const j=new TA(t.color,.5,100);j.position.set(-5,3,5),f.add(j);let G;const V=()=>{G=requestAnimationFrame(V),n&&o.current&&(o.current.rotation.y+=.01,o.current.position.y=Math.sin(Date.now()*.001)*.2),x.render(f,p)};V();const U=()=>{var $,K;const q=(($=r.current)==null?void 0:$.clientWidth)||u,W=((K=r.current)==null?void 0:K.clientHeight)||d;p.aspect=q/W,p.updateProjectionMatrix(),x.setSize(q,W)};return window.addEventListener("resize",U),()=>{cancelAnimationFrame(G),window.removeEventListener("resize",U),r.current&&x.domElement.parentElement===r.current&&r.current.removeChild(x.domElement),x.dispose()}},[t,u,d,h,n]),l.jsx("div",{ref:r,style:{width:`${u}px`,height:`${d}px`,display:"flex",alignItems:"center",justifyContent:"center"}})},Eq=({completedChapters:t,currentCharacterId:e,onBack:n,onChapterSelect:r})=>{const[i,s]=_.useState(null),[a,o]=_.useState(!1),c=Object.values(dm).sort((x,y)=>x.number-y.number),u=i?dm[i]:null,d=e&&Ct[e]?Ct[e]:Ct.tanjiro,h=c.reduce((x,y)=>t.includes(y.id)?x+y.rewards.xp:x,0),f=x=>{const y=dm[x];if(y.number===1)return!0;const v=c.find(g=>g.number===y.number-1);return v?t.includes(v.id):!0},p=x=>t.includes(x);return u?l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-background pb-20",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b transition-colors",style:{borderColor:d.color+"40"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(R.button,{whileTap:{scale:.9},onClick:()=>s(null),className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(zo,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Chapter ",u.number]}),l.jsx("h2",{className:"font-display font-bold text-foreground truncate",children:u.title})]})]})}),l.jsxs("main",{className:"px-4 py-6 space-y-6",children:[l.jsxs("div",{className:"bg-card rounded-2xl p-4 shadow-card border transition-colors",style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Your Guide"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-20 h-20 bg-muted rounded-full overflow-hidden flex-shrink-0",children:l.jsx(RA,{character:d,size:"small",autoRotate:!0})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:d.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.personality})]})]})]}),l.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-card rounded-2xl p-4 shadow-card border transition-colors",style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:l.jsxs("p",{className:"text-sm leading-relaxed text-foreground",children:['"',u.narrative,'"']})}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:" Story Panels"}),u.comicPanels.map((x,y)=>l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+y*.1},className:`flex gap-3 ${x.position==="right"?"flex-row-reverse":"flex-row"}`,children:[l.jsx("div",{className:"text-4xl flex-shrink-0",children:x.emoji}),l.jsx("div",{className:`bg-card rounded-2xl p-3 flex-1 shadow-card border transition-colors ${x.position==="right"?"rounded-tr-none":"rounded-tl-none"}`,style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:l.jsx("p",{className:"text-sm text-foreground",children:x.dialogue})})]},y))]}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-card rounded-2xl p-4 shadow-card border space-y-3 transition-colors",style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-3xl flex-shrink-0",children:u.lesson.emoji}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:u.lesson.title}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.lesson.duration})]})]}),l.jsx("p",{className:"text-sm leading-relaxed text-foreground",children:u.lesson.content}),l.jsx("button",{onClick:()=>o(!0),className:"w-full text-white px-4 py-2 rounded-lg font-semibold transition-colors hover:opacity-90",style:{backgroundColor:d.color},children:" Learn More"})]}),u.unlocksRecipes.length>0&&l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:" Unlocked Recipes"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.unlocksRecipes.map((x,y)=>l.jsxs(R.div,{whileHover:{scale:1.05},className:"bg-card rounded-xl p-3 shadow-card border text-center cursor-pointer hover:opacity-80 transition-colors",style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:[l.jsx("div",{className:"text-3xl mb-2",children:x.emoji}),l.jsx("p",{className:"font-display font-bold text-sm text-foreground",children:x.title})]},y))})]}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"rounded-2xl p-4 border space-y-3 transition-colors",style:{borderColor:d.color+"60",backgroundColor:d.color+"20"},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tf,{style:{color:d.color},className:"w-5 h-5"}),l.jsx("h3",{className:"font-display font-bold text-foreground",children:"Chapter Rewards"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-card rounded-lg p-3 text-center border",style:{borderColor:d.color+"40"},children:[l.jsx(ma,{style:{color:d.color},className:"w-5 h-5 mx-auto mb-1"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"XP"}),l.jsxs("p",{className:"font-display font-bold text-foreground",children:["+",u.rewards.xp]})]}),u.rewards.badge&&l.jsxs("div",{className:"bg-card rounded-lg p-3 text-center border",style:{borderColor:d.color+"40"},children:[l.jsx("p",{className:"text-2xl mb-1",children:""}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Badge"}),l.jsx("p",{className:"font-display font-bold text-foreground text-xs",children:u.rewards.badge})]})]})]}),l.jsx(R.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r==null||r(u.id),s(null)},className:"w-full py-3 text-white font-display font-bold rounded-xl transition-colors hover:opacity-90",style:{backgroundColor:d.color},children:p(u.id)?" Chapter Complete!":" Start Chapter"})]})]}):l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-background pb-20",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b transition-colors",style:{borderColor:d.color+"40"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(R.button,{whileTap:{scale:.9},onClick:n,className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(zo,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"font-display font-bold text-foreground",children:" Story Mode"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," / ",c.length," Chapters"]})]})]})}),l.jsxs("main",{className:"px-4 py-6 space-y-6",children:[l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-4 border transition-colors",style:{borderColor:d.color+"60",backgroundColor:d.color+"20"},children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Chapters"}),l.jsxs("p",{className:"font-display font-bold text-lg text-foreground",children:[t.length,"/",c.length]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total XP"}),l.jsx("p",{className:"font-display font-bold text-lg",style:{color:d.color},children:h})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Progress"}),l.jsxs("p",{className:"font-display font-bold text-lg",style:{color:d.color},children:[Math.round(t.length/c.length*100),"%"]})]})]}),l.jsx("div",{className:"mt-3 h-2 bg-muted rounded-full overflow-hidden",children:l.jsx(R.div,{initial:{width:0},animate:{width:`${t.length/c.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full",style:{backgroundColor:d.color}})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:"Chapters"}),l.jsx("div",{className:"space-y-2",children:c.map((x,y)=>{const v=f(x.id),g=p(x.id);return l.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05},whileHover:v?{scale:1.02}:{},onClick:()=>v&&s(x.id),className:`p-4 rounded-xl border transition-all cursor-pointer ${v?"bg-card shadow-card hover:bg-card/80":"bg-muted/30 border-border opacity-50 cursor-not-allowed"}`,style:v?{borderColor:d.color+"40"}:{},children:l.jsxs("div",{className:"flex items-center gap-3",children:[g?l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:d.color+"20"},children:l.jsx(Cf,{className:"w-6 h-6",style:{color:d.color}})}):v?l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-display font-bold text-foreground",style:{backgroundColor:d.color+"20",color:d.color},children:x.number}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:l.jsx(ia,{className:"w-5 h-5 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-display font-bold text-foreground truncate",children:x.title}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",x.lesson.title,"  +",x.rewards.xp," XP"]})]}),x.rewards.badge&&!g&&l.jsx("div",{className:"text-xl flex-shrink-0",children:""}),v&&!g&&l.jsx(R.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},className:"text-muted-foreground",children:""})]})},x.id)})})]}),l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl p-4 shadow-card border transition-colors",style:{borderColor:d.color+"40",backgroundColor:d.color+"10"},children:[l.jsx("p",{className:"text-xs font-bold text-foreground mb-2",children:" Tip"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete each chapter to unlock new recipes and badges! Your anime character guide will help you learn nutrition secrets and cooking skills."})]})]})]})},bS={fruit_forest:{id:"fruit_forest",name:"Fruit Forest ",emoji:"",icon:"",description:"A lush forest full of colorful fruits bursting with vitamins and natural sweetness! Explore trees laden with apples, berries, tropical fruits, and more.",color:"from-pink-400 to-red-500",recipes:[{id:"fruit_smoothie",name:"Energy Smoothie",emoji:""},{id:"fruit_salad",name:"Rainbow Salad",emoji:""},{id:"berry_bowl",name:"Berry Power Bowl",emoji:""}],unlockedAt:"chapter_2",position:{x:20,y:30},facts:["Fruits are 90% water - stay hydrated!","Different colored fruits have different superpowers","Bananas are berries, but strawberries aren't!","Apples keep doctors away with their fiber content"]},veggie_valley:{id:"veggie_valley",name:"Veggie Valley ",emoji:"",icon:"",description:"A bountiful valley filled with vibrant vegetables in every shade of green, orange, and purple! Discover the crunchy treasures that build strong bones and muscles.",color:"from-green-400 to-emerald-600",recipes:[{id:"veggie_stir_fry",name:"Superhero Stir-Fry",emoji:""},{id:"veggie_wrap",name:"Power Wrap",emoji:""},{id:"veggie_soup",name:"Magic Veggie Soup",emoji:""}],unlockedAt:"chapter_3",position:{x:60,y:40},facts:["Spinach has iron that builds muscle power","Carrots improve night vision","Broccoli looks like tiny trees and builds strong bones","Peppers have more vitamin C than oranges!"]},protein_peaks:{id:"protein_peaks",name:"Protein Peaks ",emoji:"",icon:"",description:"Majestic mountains where protein-rich foods stand tall and strong! From eggs to fish to beans, discover the builders of muscle and strength.",color:"from-orange-400 to-amber-600",recipes:[{id:"egg_omelette",name:"Power Omelette",emoji:""},{id:"chicken_rice",name:"Champion's Bowl",emoji:""},{id:"bean_salad",name:"Protein Power Salad",emoji:""}],unlockedAt:"chapter_4",position:{x:80,y:60},facts:["Eggs have all amino acids your body needs","Fish has omega-3s for brain power","Beans are plant-based protein powerhouses","Protein helps build and repair muscles after activity"]},dairy_dome:{id:"dairy_dome",name:"Dairy Dome ",emoji:"",icon:"",description:"A magnificent dome dedicated to all things dairy! Explore creamy, dreamy foods packed with calcium for strong bones and teeth.",color:"from-blue-300 to-cyan-400",recipes:[{id:"yogurt_parfait",name:"Yogurt Parfait",emoji:""},{id:"cheese_snack",name:"Cheesy Delight",emoji:""},{id:"milk_smoothie",name:"Milky Way Smoothie",emoji:""}],unlockedAt:"chapter_5",position:{x:40,y:70},facts:["Milk builds strong bones with calcium","Cheese is concentrated milk nutrition","Yogurt has good bacteria for digestion","Dairy helps your teeth shine bright"]},grain_gardens:{id:"grain_gardens",name:"Grain Gardens ",emoji:"",icon:"",description:"Golden fields of grains stretching to the horizon! These energy-giving foods fuel your adventure with sustained power.",color:"from-yellow-400 to-amber-500",recipes:[{id:"oatmeal_bowl",name:"Adventure Oatmeal",emoji:""},{id:"whole_bread",name:"Whole Wheat Wonder",emoji:""},{id:"grain_bowl",name:"Energy Bowl",emoji:""}],unlockedAt:"chapter_5",position:{x:30,y:55},facts:["Whole grains give lasting energy","Brown rice is more nutritious than white rice","Oats help keep your heart healthy","Whole grain bread fills you up longer"]}},Gt=_.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Tt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Gt.displayName="Card";const Tq=_.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Tt("flex flex-col space-y-1.5 p-6",t),...e}));Tq.displayName="CardHeader";const Nq=_.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Tt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nq.displayName="CardTitle";const kq=_.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Tt("text-sm text-muted-foreground",t),...e}));kq.displayName="CardDescription";const Aq=_.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Tt("p-6 pt-0",t),...e}));Aq.displayName="CardContent";const jq=_.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Tt("flex items-center p-6 pt-0",t),...e}));jq.displayName="CardFooter";function Pq({completedChapters:t,onBack:e}){const[n,r]=_.useState(null),i=o=>o.unlockedAt?t.includes(o.unlockedAt):!0,s=Object.values(bS).filter(i),a=Object.values(bS).filter(o=>!i(o));return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-100 to-green-50 overflow-auto",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-emerald-200 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(us,{className:"w-6 h-6 text-gray-700"})}),l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:" Food Kingdom Map"})]})}),n?l.jsxs("div",{className:"p-4",children:[l.jsxs("button",{onClick:()=>r(null),className:"mb-4 p-2 hover:bg-white rounded-lg transition flex items-center gap-2 text-emerald-700",children:[l.jsx(us,{className:"w-5 h-5"}),"Back to Map"]}),l.jsxs(Gt,{className:"bg-white border-2 border-emerald-200 overflow-hidden",children:[l.jsxs("div",{className:`bg-gradient-to-r ${n.color} p-6 text-white`,children:[l.jsx("div",{className:"text-5xl mb-2",children:n.emoji}),l.jsx("h2",{className:"text-3xl font-bold",children:n.name}),l.jsx("p",{className:"text-white/90 mt-2",children:n.description})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-emerald-700 mb-3",children:" Fun Facts"}),l.jsx("div",{className:"space-y-2",children:n.facts.map((o,c)=>l.jsxs("div",{className:"flex gap-2 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[l.jsx("span",{className:"text-emerald-600",children:""}),l.jsx("p",{className:"text-gray-700",children:o})]},c))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-emerald-700 mb-3",children:" Recipes to Unlock"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.recipes.map(o=>l.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border-2 border-emerald-300 hover:shadow-lg transition",children:[l.jsx("div",{className:"text-3xl mb-2",children:o.emoji}),l.jsx("p",{className:"font-semibold text-gray-800",children:o.name})]},o.id))})]}),n.unlockedAt&&l.jsx("div",{className:"p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:l.jsxs("p",{className:"text-blue-900 text-sm",children:[l.jsx("span",{className:"font-bold",children:" Unlocked at:"})," Complete"," ",n.unlockedAt.replace("_"," ").toUpperCase()]})})]})]})]}):l.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-6 p-4 bg-white rounded-lg border-2 border-emerald-200",children:l.jsx("p",{className:"text-gray-700",children:"Explore the Food Kingdom and unlock its delicious secrets! Complete story chapters to unlock new regions. "})}),s.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-emerald-700 mb-4",children:" Unlocked Regions"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:s.map(o=>l.jsxs("button",{onClick:()=>r(o),className:`p-6 rounded-xl border-2 border-emerald-300 bg-gradient-to-br ${o.color} text-white hover:shadow-xl transition transform hover:-translate-y-1 cursor-pointer text-left`,children:[l.jsx("div",{className:"text-5xl mb-2",children:o.emoji}),l.jsx("h3",{className:"text-xl font-bold",children:o.name}),l.jsx("p",{className:"text-white/90 text-sm mt-2 line-clamp-2",children:o.description}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-white/80",children:[l.jsx(ML,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm",children:[o.recipes.length," Recipes"]})]})]},o.id))})]}),a.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:" Locked Regions"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(o=>{var c;return l.jsxs("div",{className:"p-6 rounded-xl border-2 border-gray-300 bg-gradient-to-br from-gray-100 to-gray-200 text-gray-600 opacity-60",children:[l.jsx("div",{className:"text-5xl mb-2 opacity-50",children:o.emoji}),l.jsx("h3",{className:"text-xl font-bold",children:o.name}),l.jsx("p",{className:"text-gray-500 text-sm mt-2 line-clamp-2",children:o.description}),l.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[l.jsx(ia,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm",children:["Unlock at"," ",(c=o.unlockedAt)==null?void 0:c.replace(/_/g," ").toUpperCase()]})]})]},o.id)})})]}),l.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl border-2 border-yellow-300",children:[l.jsx("h3",{className:"text-xl font-bold text-orange-800 mb-3",children:" Exploration Tips"}),l.jsxs("ul",{className:"space-y-2 text-orange-800",children:[l.jsx("li",{children:" Complete story chapters to unlock new regions of the Food Kingdom"}),l.jsx("li",{children:" Each region has unique recipes and nutrition facts"}),l.jsx("li",{children:" Collect recipes from all regions to become a Master Chef"}),l.jsx("li",{children:" Mix and match recipes to create balanced meals"})]})]})]})]})}const _S={vitamin_power:{id:"vitamin_power",title:"The Power of Vitamins",description:"Naruto discovers how vitamins give super strength!",character:"naruto",emoji:"",duration:45,unlockedAt:"chapter_2",topic:"Vitamins",frames:[{character:"",dialogue:"Hey Naruto! Eat me to get superpowers!",action:"Apple bounces excitedly",duration:3e3},{character:"naruto",dialogue:"What kind of superpowers? Show me! *pulls out kunai*",action:"Naruto grins and prepares for action",duration:3e3},{character:"",dialogue:"Vitamins boost your eyesight, skin, and immune system!",action:"Sparkles swirl around the apple",duration:4e3},{character:"naruto",dialogue:"Believe it! If vitamins help my eyes, I'll see enemies before they see me!",action:"Naruto glows with determination",duration:4e3},{character:"",dialogue:"Different colored foods have different vitamin powers!",action:"Fruits and veggies arrange in rainbow pattern",duration:4e3},{character:"naruto",dialogue:"I need ALL the vitamins! Eat everything!",action:"Naruto eats colorful fruits enthusiastically",duration:3e3}],lesson:{title:"Vitamins are Nutritional Ninjas!",key_points:["Vitamins are nutrients that keep your body working perfectly","Different vitamins do different jobs - A for eyes, C for immunity, D for bones","Colorful fruits and vegetables have different vitamins","Your body can't make most vitamins, so you must eat them"]}},mineral_magic:{id:"mineral_magic",title:"The Magic of Minerals",description:"Tanjiro learns about minerals that build strength!",character:"tanjiro",emoji:"",duration:45,unlockedAt:"chapter_3",topic:"Minerals",frames:[{character:"tanjiro",dialogue:"To be the greatest demon slayer, I need strong bones!",action:"Tanjiro practices sword swings",duration:3e3},{character:"",dialogue:"I'm calcium - I build super strong bones!",action:"Milk glows with white power",duration:3e3},{character:"tanjiro",dialogue:"Strong bones? I'll drink you every day!",action:"Tanjiro drinks milk confidently",duration:3e3},{character:"",dialogue:"We're sodium and potassium - we power your muscles!",action:"Salt and banana flash with electric energy",duration:4e3},{character:"tanjiro",dialogue:"Minerals make me stronger and faster. The perfect warrior food!",action:"Tanjiro's eyes glow red with determination",duration:3e3},{character:"",dialogue:"Eat mineral-rich foods daily to unleash your power!",action:"Screen flashes with encouraging light",duration:3e3}],lesson:{title:"Minerals Build Your Warrior Body",key_points:["Minerals are elements your body needs to function","Calcium makes bones strong and hard","Iron carries oxygen through your blood","Potassium and sodium help your muscles contract","Different foods provide different minerals"]}},protein_plus:{id:"protein_plus",title:"Plus Ultra Protein!",description:"Deku learns about protein for unstoppable power!",character:"deku",emoji:"",duration:50,unlockedAt:"chapter_4",topic:"Protein",frames:[{character:"deku",dialogue:"I'm so small and weak... I need to get stronger!",action:"Deku looks determined despite being small",duration:3e3},{character:"",dialogue:"I'm protein - I build and repair your muscles!",action:"Chicken glows with golden strength",duration:3e3},{character:"deku",dialogue:"Really? Eating you will make my muscles grow?",action:"Deku eyes light up with hope",duration:3e3},{character:"",dialogue:"We all have protein - eggs, fish, beans too!",action:"Protein sources dance and combine",duration:4e3},{character:"deku",dialogue:"With enough protein, I can train harder and get stronger every day!",action:"Deku does intense training poses",duration:4e3},{character:"deku",dialogue:"PLUS ULTRA! I will eat protein and reach my dreams!",action:"Green power swirls around Deku",duration:3e3}],lesson:{title:"Protein - The Building Blocks of Strength",key_points:["Protein is made of amino acids - the building blocks of muscles","Your body uses protein to build and repair muscles","Protein comes from meat, fish, eggs, beans, and dairy","You need protein every day to stay strong","Combined with exercise, protein helps you grow stronger"]}},carb_energy:{id:"carb_energy",title:"Carbohydrate Combustion",description:"Goku discovers carbs are fuel for adventure!",character:"goku",emoji:"",duration:45,unlockedAt:"chapter_5",topic:"Carbohydrates",frames:[{character:"goku",dialogue:"I'm so hungry! I need FOOD! *stomach growls loudly*",action:"Goku looks ravenous and energized",duration:3e3},{character:"",dialogue:"I'm a carbohydrate - I give you instant energy!",action:"Rice bowl glows with bright yellow energy",duration:3e3},{character:"goku",dialogue:"YOSH! Give me all the carbs! I feel the power!",action:"Goku starts glowing with golden energy",duration:3e3},{character:"",dialogue:"Bread, potatoes, and bananas - all carbs!",action:"Foods arrange in an energy circle",duration:4e3},{character:"goku",dialogue:"With carbs fueling me, I can train all day and never get tired!",action:"Goku powers up with visible strength",duration:4e3},{character:"goku",dialogue:"Carbs = Energy! Let's GO ON AN ADVENTURE!",action:"Energy explosion fills the screen",duration:3e3}],lesson:{title:"Carbs - Your Energy Super Fuel",key_points:["Carbohydrates are your body's primary energy source","Simple carbs (fruits, honey) give quick energy","Complex carbs (whole grains, beans) give lasting energy","Your brain especially needs carbs to think and focus","Whole grain carbs are better than refined carbs"]}},balance_meal:{id:"balance_meal",title:"The Perfect Balanced Meal",description:"All nutrition heroes work together for the perfect meal!",character:"all_characters",emoji:"",duration:60,unlockedAt:"chapter_6",topic:"Nutrition Balance",frames:[{character:"naruto",dialogue:"A true ninja needs the best nutrition!",action:"Naruto strikes a heroic pose",duration:3e3},{character:"tanjiro",dialogue:"Every food plays a role - like teamwork!",action:"Tanjiro nods wisely",duration:3e3},{character:"deku",dialogue:"Protein for muscles, carbs for energy, vegetables for health!",action:"Deku points to each food group",duration:4e3},{character:"goku",dialogue:"A balanced plate makes a balanced body!",action:"Goku creates a plate with all food groups",duration:4e3},{character:"",dialogue:"Together we make the perfect meal: veggies, protein, and grains!",action:"Foods organize into a healthy plate",duration:5e3},{character:"all_characters",dialogue:"Eating a rainbow of colors ensures you get all nutrients!",action:"Screen fills with colorful nutritious foods",duration:4e3},{character:"naruto",dialogue:"With balanced nutrition, we can achieve ANYTHING!",action:"All characters glow together in team spirit",duration:3e3}],lesson:{title:"Balance - The Key to Nutrition Success",key_points:["A balanced meal includes protein, carbs, vegetables, and fruits","Different food groups provide different nutrients","Eating variety ensures you get all nutrients you need","Portion control matters - balance quantity too","A rainbow of colors means balanced nutrition"]}}},Lq=EC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pt=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?bP:"button";return l.jsx(a,{className:Tt(Lq({variant:e,size:n,className:t})),ref:s,...i})});pt.displayName="Button";function Rq({completedChapters:t,onBack:e}){const[n,r]=_.useState(null),[i,s]=_.useState(!1),[a,o]=_.useState(0),c=p=>t.includes(p.unlockedAt),u=Object.values(_S).filter(c),d=Object.values(_S).filter(p=>!c(p)),h=p=>{r(p),o(0),s(!0)},f=()=>{s(!1),o(0)};if(i&&n){const p=n.frames[a];setTimeout(()=>{a<n.frames.length-1?o(a+1):s(!1)},p.duration)}return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 via-pink-100 to-blue-100 overflow-auto",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-purple-200 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(us,{className:"w-6 h-6 text-gray-700"})}),l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:" Anime Cutscenes"})]})}),i&&n?l.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[l.jsxs("button",{onClick:()=>f(),className:"mb-4 p-2 hover:bg-white rounded-lg transition flex items-center gap-2 text-purple-700",children:[l.jsx(us,{className:"w-5 h-5"}),"Back to Cutscenes"]}),l.jsxs(Gt,{className:"bg-gradient-to-b from-purple-900 to-indigo-900 border-4 border-purple-400 p-8 text-center text-white overflow-hidden",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-purple-100 mb-2",children:n.title}),l.jsx("p",{className:"text-purple-200",children:n.topic})]}),l.jsxs("div",{className:"mb-8 p-8 bg-purple-800 rounded-lg border-2 border-purple-400 min-h-64 flex flex-col items-center justify-center",children:[l.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:n.frames[a].character==="tanjiro"?"":n.frames[a].character==="tanjiro"||n.frames[a].character==="deku"?"":n.frames[a].character==="goku"?"":n.frames[a].character}),l.jsx("div",{className:"bg-purple-700 rounded-lg p-4 border-2 border-purple-300 max-w-2xl",children:l.jsx("p",{className:"text-lg text-white text-center",children:n.frames[a].dialogue})}),n.frames[a].action&&l.jsxs("p",{className:"text-purple-300 text-sm mt-4 italic",children:["*",n.frames[a].action,"*"]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex gap-1 justify-center",children:n.frames.map((p,x)=>l.jsx("div",{className:`h-2 w-8 rounded transition ${x===a?"bg-pink-400":x<a?"bg-purple-400":"bg-purple-700"}`},x))}),l.jsxs("p",{className:"text-purple-200 text-sm mt-2",children:["Frame ",a+1," of"," ",n.frames.length]})]}),l.jsx("div",{className:"flex gap-2 justify-center",children:l.jsx(pt,{onClick:()=>f(),className:"bg-purple-600 hover:bg-purple-700 text-white",children:" Stop"})})]}),l.jsxs("div",{className:"mt-6 bg-white rounded-lg p-6 border-2 border-purple-200",children:[l.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:[" ",n.lesson.title]}),l.jsx("ul",{className:"space-y-2",children:n.lesson.key_points.map((p,x)=>l.jsxs("li",{className:"flex gap-2 text-gray-700",children:[l.jsx("span",{className:"text-purple-600 font-bold",children:""}),l.jsx("span",{children:p})]},x))})]})]}):n?l.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[l.jsxs("button",{onClick:()=>r(null),className:"mb-4 p-2 hover:bg-white rounded-lg transition flex items-center gap-2 text-purple-700",children:[l.jsx(us,{className:"w-5 h-5"}),"Back to Cutscenes"]}),l.jsxs(Gt,{className:"bg-white border-2 border-purple-200 overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white",children:[l.jsx("div",{className:"text-5xl mb-2",children:n.emoji}),l.jsx("h2",{className:"text-3xl font-bold",children:n.title}),l.jsxs("p",{className:"text-purple-100 mt-2",children:["Featuring ",n.character]})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{children:l.jsx("p",{className:"text-gray-700 text-lg",children:n.description})}),l.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-semibold",children:[l.jsx("span",{children:" Duration:"}),l.jsxs("span",{children:[n.duration," seconds"]})]}),l.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border-2 border-purple-200",children:[l.jsxs("h3",{className:"font-bold text-purple-700 mb-2",children:[" Lesson Topic: ",n.lesson.title]}),l.jsxs("ul",{className:"space-y-1",children:[n.lesson.key_points.slice(0,2).map((p,x)=>l.jsxs("li",{className:"text-sm text-gray-700",children:[" ",p]},x)),n.lesson.key_points.length>2&&l.jsxs("li",{className:"text-sm text-gray-500",children:["+",n.lesson.key_points.length-2," more points"]})]})]}),l.jsxs(pt,{onClick:()=>h(n),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-6 text-lg font-bold",children:[l.jsx(Qx,{className:"w-6 h-6 mr-2"})," Watch Cutscene"]})]})]})]}):l.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-6 p-4 bg-white rounded-lg border-2 border-purple-200",children:l.jsx("p",{className:"text-gray-700",children:"Watch anime cutscenes featuring your favorite characters learning about nutrition! Complete story chapters to unlock new cutscenes. "})}),u.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-4",children:" Available Cutscenes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:u.map(p=>l.jsxs("button",{onClick:()=>r(p),className:"p-6 rounded-xl border-2 border-purple-300 bg-gradient-to-br from-purple-500 to-pink-500 text-white hover:shadow-xl transition transform hover:-translate-y-1 cursor-pointer text-left group",children:[l.jsx("div",{className:"text-5xl mb-2 group-hover:scale-110 transition",children:p.emoji}),l.jsx("h3",{className:"text-xl font-bold",children:p.title}),l.jsx("p",{className:"text-purple-100 text-sm mt-2",children:p.description}),l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-purple-100",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-sm",children:[p.duration,"s"]})]})]},p.id))})]}),d.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:" Locked Cutscenes"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(p=>l.jsxs("div",{className:"p-6 rounded-xl border-2 border-gray-300 bg-gradient-to-br from-gray-100 to-gray-200 text-gray-600 opacity-60",children:[l.jsx("div",{className:"text-5xl mb-2 opacity-50",children:p.emoji}),l.jsx("h3",{className:"text-xl font-bold",children:p.title}),l.jsx("p",{className:"text-gray-500 text-sm mt-2",children:p.description}),l.jsx("div",{className:"mt-3",children:l.jsxs("p",{className:"text-sm",children:[" Unlock at"," ",p.unlockedAt.replace(/_/g," ").toUpperCase()]})})]},p.id))})]}),l.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl border-2 border-purple-300",children:[l.jsx("h3",{className:"text-xl font-bold text-purple-800 mb-3",children:" Anime Education Tips"}),l.jsxs("ul",{className:"space-y-2 text-purple-800",children:[l.jsx("li",{children:" Watch cutscenes to learn nutrition concepts in an engaging way"}),l.jsx("li",{children:" Each cutscene features a different anime character and topic"}),l.jsx("li",{children:" Take notes on the key learning points from each cutscene"}),l.jsx("li",{children:" Unlock all cutscenes by completing story chapters"})]})]})]})]})}const wS={fruit_forest_adventure:{id:"fruit_forest_adventure",title:"The Quest for Fruit Forest's Treasures",description:"Join our hero in the magical Fruit Forest! Discover colorful fruits, vibrant nutrition facts, and unlock XP rewards. Manga-style adventure with bold art, dynamic panels, and educational food lessons!",emoji:"",unlockedAt:"chapter_1",author:"Yor Forger",theme:"Vitamin Adventure",lesson:"Learn about Vitamin A and C benefits for health and vision",panels:[{id:"panel_1",image:"",dialogue:" WHOOSH! Welcome to the Legendary Fruit Forest! I'm your nutrition guide!",emotion:"excited"},{id:"panel_2",image:"",dialogue:" RED APPLE POWER! Vitamin A: +50 Vision Boost!  Rich in antioxidants!",emotion:"proud"},{id:"panel_3",image:"",dialogue:" ORANGE BURST! Vitamin C: +40 Immunity!  Boosts your defense!",emotion:"determined"},{id:"panel_4",image:"",dialogue:" GOLDEN BANANA! Potassium: +30 Energy!  Quick energy source!",emotion:"cheerful"},{id:"panel_5",image:"",dialogue:"You earned  XP 150! QUEST COMPLETE! Next: Seasonal Vegetables! ",emotion:"triumphant"}]},seasonal_vegetables_spring:{id:"seasonal_vegetables_spring",title:"Spring's Green Guardians - Spinach & Asparagus Adventure",description:"Spring arrives with fresh green vegetables! Follow the hero through vibrant fields of spinach and asparagus. Dynamic manga panels showcase nutrient diagrams, close-ups of vegetables, and gameplay elements with glowing effects!",emoji:"",unlockedAt:"chapter_1",author:"Yor Forger",theme:"Spring Vegetables",lesson:"Iron, Fiber, and Folate - Nature's spring gifts for strong bodies",panels:[{id:"panel_1",image:"",dialogue:" SPRING AWAKENING! Green fields stretch before us! Time to explore!",emotion:"excited"},{id:"panel_2",image:"",dialogue:" SPINACH POWER-UP! Iron: +60 Strength!  Dark leafy green magic!",emotion:"determined"},{id:"panel_3",image:"",dialogue:" NUTRITION FACT: Folate helps new cells grow! Essential for growth! ",emotion:"amazed"},{id:"panel_4",image:"",dialogue:" ASPARAGUS ALLY! Fiber: +45! Digestive Health Boost! ",emotion:"cheerful"},{id:"panel_5",image:"",dialogue:" YOU DID IT! Earned  XP 200! Spring Guardian Status: UNLOCKED!",emotion:"triumphant"}]},summer_colors_carrot_tomato:{id:"summer_colors_carrot_tomato",title:"Summer Sunburst - The Carrot & Tomato Chronicles",description:"Brilliant summer arrives with orange carrots and red tomatoes! Experience vibrant manga art with dynamic action sequences, close-up vegetable illustrations, and interactive nutrition cards integrated into the story!",emoji:"",unlockedAt:"chapter_2",author:"Yor Forger",theme:"Summer Vegetables",lesson:"Beta-Carotene and Lycopene - Nature's colorful defenders",panels:[{id:"panel_1",image:"",dialogue:" SUMMER EXPLOSION! Golden fields of vegetables shine bright!",emotion:"excited"},{id:"panel_2",image:"",dialogue:" CARROT BLAST! Beta-Carotene: +70 Vision! Perfect for sunlight! ",emotion:"determined"},{id:"panel_3",image:"",dialogue:" TOMATO TIME! Lycopene: +55 Antioxidant! Heart-healthy power! ",emotion:"proud"},{id:"panel_4",image:"",dialogue:" COMBO ATTACK! Carrot + Tomato = Ultimate Summer Salad! SYNERGY +30!",emotion:"amazed"},{id:"panel_5",image:"",dialogue:" XP 250 EARNED! Summer Champion Unlocked! Health Level: RISING! ",emotion:"triumphant"}]},autumn_harvest_sweet_potato:{id:"autumn_harvest_sweet_potato",title:"Autumn's Golden Treasure - The Sweet Potato Quest",description:"Golden autumn brings the sweet potato! Manga-style quest with warm color palettes, manga screentones, dynamic action poses, educational chalkboard sequences, and XP progress tracking visually integrated into panels!",emoji:"",unlockedAt:"chapter_3",author:"Yor Forger",theme:"Autumn Vegetables",lesson:"Complex Carbs and Vitamin E - Sustained energy for active adventurers",panels:[{id:"panel_1",image:"",dialogue:" AUTUMN ARRIVES! Harvest season glows with warm golden light!",emotion:"excited"},{id:"panel_2",image:"",dialogue:" SWEET POTATO SURGE! Complex Carbs: +80 Sustained Energy! ",emotion:"determined"},{id:"panel_3",image:"",dialogue:" NUTRITION LESSON: Fiber aids digestion! Vitamin E protects cells! ",emotion:"amazed"},{id:"panel_4",image:"",dialogue:" WARMING POWER! Perfect for fall activities! Boosts metabolism! ",emotion:"cheerful"},{id:"panel_5",image:"",dialogue:" XP 280 EARNED! Autumn Harvester Rank UP! Ready for Winter? ",emotion:"triumphant"}]},winter_wellness_broccoli:{id:"winter_wellness_broccoli",title:"Winter Wellness - The Broccoli Guardian Emerges",description:"Winter's most powerful vegetable! Dynamic manga panels with cool blue color schemes, expressive character emotions, vitamin diagram sequences, and gamified health progress bars integrated into the visual narrative!",emoji:"",unlockedAt:"chapter_3",author:"Yor Forger",theme:"Winter Vegetables",lesson:"Vitamin C and Sulforaphane - Immune system superpowers",panels:[{id:"panel_1",image:"",dialogue:" WINTER AWAKENS! Crisp cold air brings new challenges and power!",emotion:"determined"},{id:"panel_2",image:"",dialogue:" BROCCOLI GUARDIAN! Vitamin C: +90 Immunity Shield! ",emotion:"brave"},{id:"panel_3",image:"",dialogue:" SULFORAPHANE SCIENCE! Detox power! Anti-disease warrior! ",emotion:"amazed"},{id:"panel_4",image:"",dialogue:" ULTIMATE HEALTH! Broccoli is your winter armor! Stay strong! ",emotion:"triumphant"},{id:"panel_5",image:"",dialogue:" XP 300 EARNED! Winter Champion! Season Master: COMPLETE! ",emotion:"triumphant"}]},balanced_meal_comic:{id:"balanced_meal_comic",title:"The Perfect Plate - Balanced Nutrition Quest",description:"Learn the art of balanced eating! Manga adventure featuring dynamic character poses, a beautiful illustrated plate diagram, nutrition pyramids, and interactive food categories with glowing highlights and manga-style action lines!",emoji:"",unlockedAt:"chapter_4",author:"Yor Forger",theme:"Nutrition Education",lesson:"Create balanced meals with proteins, vegetables, grains, and fruits",panels:[{id:"panel_1",image:"",dialogue:" MASTER CHEF MODE! Time to learn the perfect plate composition!",emotion:"determined"},{id:"panel_2",image:"",dialogue:" VEGETABLES: 1/4 Plate! Fiber + Vitamins + Minerals! The foundation!",emotion:"instructive"},{id:"panel_3",image:"",dialogue:" PROTEIN: 1/4 Plate! Chicken, Fish, Beans! Muscle building power!",emotion:"strong"},{id:"panel_4",image:"",dialogue:" GRAINS: 1/4 Plate! Brown rice, whole wheat! Sustained energy!",emotion:"energetic"},{id:"panel_5",image:"",dialogue:" XP 320 EARNED! Balanced Diet Master! Health Level: MAXIMUM! ",emotion:"triumphant"}]}},Ha={fruit_forest:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"skyGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#87CEEB",stopOpacity:1}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#E0F6FF",stopOpacity:1}})]}),l.jsxs("linearGradient",{id:"treeGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#228B22",stopOpacity:1}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#32CD32",stopOpacity:1}})]})]}),l.jsx("rect",{width:"200",height:"200",fill:"url(#skyGrad)"}),l.jsx("circle",{cx:"170",cy:"30",r:"20",fill:"#FFD700"}),l.jsx("line",{x1:"170",y1:"5",x2:"170",y2:"0",stroke:"#FFD700",strokeWidth:"2"}),l.jsx("line",{x1:"170",y1:"55",x2:"170",y2:"60",stroke:"#FFD700",strokeWidth:"2"}),l.jsx("line",{x1:"145",y1:"30",x2:"140",y2:"30",stroke:"#FFD700",strokeWidth:"2"}),l.jsx("line",{x1:"195",y1:"30",x2:"200",y2:"30",stroke:"#FFD700",strokeWidth:"2"}),l.jsx("rect",{y:"140",width:"200",height:"60",fill:"#90EE90"}),l.jsx("rect",{x:"80",y:"80",width:"40",height:"60",fill:"#8B4513"}),l.jsx("circle",{cx:"80",cy:"60",r:"35",fill:"url(#treeGrad)",stroke:"#000",strokeWidth:"2"}),l.jsx("circle",{cx:"120",cy:"60",r:"35",fill:"url(#treeGrad)",stroke:"#000",strokeWidth:"2"}),l.jsx("circle",{cx:"100",cy:"30",r:"40",fill:"url(#treeGrad)",stroke:"#000",strokeWidth:"2"}),l.jsx("circle",{cx:"70",cy:"45",r:"8",fill:"#FF0000",stroke:"#000",strokeWidth:"1.5"}),l.jsx("circle",{cx:"130",cy:"50",r:"8",fill:"#FF6347",stroke:"#000",strokeWidth:"1.5"}),l.jsx("circle",{cx:"100",cy:"15",r:"7",fill:"#DC143C",stroke:"#000",strokeWidth:"1.5"}),l.jsx("line",{x1:"30",y1:"50",x2:"10",y2:"50",stroke:"#000",strokeWidth:"2"}),l.jsx("line",{x1:"35",y1:"65",x2:"15",y2:"65",stroke:"#000",strokeWidth:"2"}),l.jsx("line",{x1:"32",y1:"80",x2:"12",y2:"80",stroke:"#000",strokeWidth:"2"})]}),apple_character:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"appleBg",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#FF6B6B",stopOpacity:1}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#FF0000",stopOpacity:1}})]})}),l.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"#FFE5E5"}),l.jsx("ellipse",{cx:"100",cy:"110",rx:"50",ry:"55",fill:"url(#appleBg)",stroke:"#000",strokeWidth:"3"}),l.jsx("ellipse",{cx:"75",cy:"95",rx:"35",ry:"40",fill:"#FF8888",stroke:"#000",strokeWidth:"2"}),l.jsx("ellipse",{cx:"125",cy:"95",rx:"35",ry:"40",fill:"#DD0000",stroke:"#000",strokeWidth:"2"}),l.jsx("rect",{x:"95",y:"50",width:"10",height:"25",fill:"#8B4513",stroke:"#000",strokeWidth:"1"}),l.jsx("ellipse",{cx:"115",cy:"55",rx:"15",ry:"8",fill:"#228B22",stroke:"#000",strokeWidth:"1",transform:"rotate(-30 115 55)"}),l.jsx("circle",{cx:"85",cy:"100",r:"6",fill:"#000"}),l.jsx("circle",{cx:"115",cy:"100",r:"6",fill:"#000"}),l.jsx("circle",{cx:"87",cy:"98",r:"2",fill:"#fff"}),l.jsx("circle",{cx:"117",cy:"98",r:"2",fill:"#fff"}),l.jsx("path",{d:"M 85 120 Q 100 130 115 120",stroke:"#000",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),l.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#FFD700"}),l.jsx("circle",{cx:"60",cy:"140",r:"3",fill:"#FFD700"})]}),orange_character:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"orangeGrad",cx:"40%",cy:"40%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#FFA500",stopOpacity:1}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#FF8C00",stopOpacity:1}})]})}),l.jsx("rect",{width:"200",height:"200",fill:"#FFEBCD"}),l.jsx("circle",{cx:"100",cy:"110",r:"60",fill:"url(#orangeGrad)",stroke:"#000",strokeWidth:"3"}),l.jsx("line",{x1:"100",y1:"50",x2:"100",y2:"170",stroke:"#000",strokeWidth:"1",opacity:"0.3"}),l.jsx("line",{x1:"60",y1:"110",x2:"140",y2:"110",stroke:"#000",strokeWidth:"1",opacity:"0.3"}),l.jsx("line",{x1:"75",y1:"65",x2:"125",y2:"155",stroke:"#000",strokeWidth:"1",opacity:"0.3"}),l.jsx("line",{x1:"125",y1:"65",x2:"75",y2:"155",stroke:"#000",strokeWidth:"1",opacity:"0.3"}),l.jsx("ellipse",{cx:"100",cy:"45",rx:"12",ry:"20",fill:"#228B22",stroke:"#000",strokeWidth:"2",transform:"rotate(-20 100 45)"}),l.jsx("circle",{cx:"80",cy:"100",r:"7",fill:"#000"}),l.jsx("circle",{cx:"120",cy:"100",r:"7",fill:"#000"}),l.jsx("circle",{cx:"82",cy:"97",r:"2.5",fill:"#fff"}),l.jsx("circle",{cx:"122",cy:"97",r:"2.5",fill:"#fff"}),l.jsx("path",{d:"M 75 125 Q 100 140 125 125",stroke:"#000",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),l.jsx("ellipse",{cx:"50",cy:"105",rx:"8",ry:"6",fill:"#FFB6C1",opacity:"0.7"}),l.jsx("ellipse",{cx:"150",cy:"105",rx:"8",ry:"6",fill:"#FFB6C1",opacity:"0.7"})]}),character_happy:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"skinTone",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#F4A460",stopOpacity:1}}),l.jsx("stop",{offset:"100%",style:{stopColor:"#E89860",stopOpacity:1}})]})}),l.jsx("circle",{cx:"100",cy:"100",r:"95",fill:"#FFE4B5",stroke:"#000",strokeWidth:"2"}),l.jsx("circle",{cx:"100",cy:"70",r:"35",fill:"url(#skinTone)",stroke:"#000",strokeWidth:"2"}),l.jsx("path",{d:"M 65 50 Q 65 20 100 20 Q 135 20 135 50",fill:"#8B4513",stroke:"#000",strokeWidth:"2"}),l.jsx("ellipse",{cx:"80",cy:"65",rx:"8",ry:"12",fill:"#000",stroke:"#000",strokeWidth:"1"}),l.jsx("ellipse",{cx:"120",cy:"65",rx:"8",ry:"12",fill:"#000",stroke:"#000",strokeWidth:"1"}),l.jsx("ellipse",{cx:"82",cy:"62",rx:"3",ry:"5",fill:"#fff"}),l.jsx("ellipse",{cx:"122",cy:"62",rx:"3",ry:"5",fill:"#fff"}),l.jsx("path",{d:"M 80 85 Q 100 100 120 85",stroke:"#000",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),l.jsx("ellipse",{cx:"100",cy:"140",rx:"25",ry:"35",fill:"#FF6B9D",stroke:"#000",strokeWidth:"2"}),l.jsx("rect",{x:"50",y:"130",width:"15",height:"40",rx:"7",fill:"url(#skinTone)",stroke:"#000",strokeWidth:"1.5"}),l.jsx("rect",{x:"135",y:"130",width:"15",height:"40",rx:"7",fill:"url(#skinTone)",stroke:"#000",strokeWidth:"1.5"}),l.jsx("path",{d:"M 160 50 L 165 45 L 170 50 L 170 60 Q 165 65 160 60 Q 155 65 150 60 L 150 50 L 155 45 Z",fill:"#FFB6C1",stroke:"#FF1493",strokeWidth:"1"}),l.jsx("path",{d:"M 40 50 L 45 45 L 50 50 L 50 60 Q 45 65 40 60 Q 35 65 30 60 L 30 50 L 35 45 Z",fill:"#FFB6C1",stroke:"#FF1493",strokeWidth:"1"})]}),nutrition_power:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"#FFD700",strokeWidth:"3",opacity:"0.6"}),l.jsx("circle",{cx:"100",cy:"100",r:"70",fill:"none",stroke:"#FF6B00",strokeWidth:"2",opacity:"0.4"}),l.jsx("circle",{cx:"100",cy:"100",r:"55",fill:"none",stroke:"#FFD700",strokeWidth:"2",opacity:"0.3"}),l.jsx("circle",{cx:"100",cy:"100",r:"40",fill:"#FFFF00",opacity:"0.2"}),l.jsx("path",{d:"M 100 50 L 95 75 L 105 75 L 100 100 Z",fill:"#FFD700",stroke:"#FF8C00",strokeWidth:"2"}),l.jsx("path",{d:"M 150 85 L 140 100 L 155 105 L 145 120 Z",fill:"#FFD700",stroke:"#FF8C00",strokeWidth:"2"}),l.jsx("path",{d:"M 50 85 L 60 100 L 45 105 L 55 120 Z",fill:"#FFD700",stroke:"#FF8C00",strokeWidth:"2"}),l.jsx("circle",{cx:"130",cy:"60",r:"5",fill:"#FFD700"}),l.jsx("circle",{cx:"70",cy:"60",r:"5",fill:"#FFD700"}),l.jsx("circle",{cx:"150",cy:"130",r:"4",fill:"#FFD700"}),l.jsx("circle",{cx:"50",cy:"130",r:"4",fill:"#FFD700"}),l.jsx("text",{x:"100",y:"100",textAnchor:"middle",dominantBaseline:"middle",fill:"#FF6B00",stroke:"#000",strokeWidth:"0.5",fontSize:"32",fontWeight:"bold",children:""})]}),battle_scene:()=>l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"#FFD700",opacity:"0.6"}),l.jsx("circle",{cx:"85",cy:"85",r:"50",fill:"#FF8C00",opacity:"0.7"}),l.jsx("circle",{cx:"115",cy:"115",r:"45",fill:"#FFA500",opacity:"0.6"}),l.jsx("path",{d:"M 50 80 Q 40 70 50 60 Q 60 65 70 60 Q 80 75 70 85 Q 60 90 50 80",fill:"#FF6347",opacity:"0.8"}),l.jsx("path",{d:"M 130 80 Q 140 70 150 60 Q 160 65 170 60 Q 180 75 170 85 Q 160 90 150 80",fill:"#FF6347",opacity:"0.8"}),l.jsx("line",{x1:"30",y1:"40",x2:"10",y2:"20",stroke:"#000",strokeWidth:"2"}),l.jsx("line",{x1:"50",y1:"30",x2:"25",y2:"10",stroke:"#000",strokeWidth:"2"}),l.jsx("line",{x1:"170",y1:"40",x2:"190",y2:"20",stroke:"#000",strokeWidth:"2"}),l.jsx("line",{x1:"150",y1:"30",x2:"175",y2:"10",stroke:"#000",strokeWidth:"2"}),l.jsx("g",{transform:"translate(100, 100)",children:l.jsx("polygon",{points:"0,-30 8,-8 30,0 8,8 0,30 -8,8 -30,0 -8,-8",fill:"#FFF",stroke:"#000",strokeWidth:"2"})})]})},Dq=({panelIndex:t,image:e})=>{const n=()=>e===""||e===""?Ha.fruit_forest():e===""?Ha.apple_character():e===""?Ha.orange_character():e===""||e===""||e.includes("happy")?Ha.character_happy():e===""||e===""||e===""?Ha.nutrition_power():e===""||e.includes("battle")?Ha.battle_scene():l.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[l.jsx("rect",{width:"200",height:"200",fill:"#FFF9E6",stroke:"#000",strokeWidth:"2",rx:"10"}),l.jsx("text",{x:"100",y:"100",textAnchor:"middle",dominantBaseline:"middle",fontSize:"80",children:e})]});return l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white rounded-lg overflow-hidden",children:n()})};function Fq({completedChapters:t,onBack:e,selectedCharacter:n="deku"}){const[r,i]=_.useState(null),s=Ct[n]||Ct.deku,a=u=>u.id==="fruit_forest_adventure"?!0:t.includes(u.unlockedAt),o=Object.values(wS).filter(a),c=Object.values(wS).filter(u=>!a(u));return r?l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black overflow-auto",children:[l.jsx("div",{className:"sticky top-0 z-20 bg-black/90 backdrop-blur-sm border-b-4 border-orange-600 p-4 shadow-2xl",children:l.jsxs("div",{className:"flex items-center justify-between gap-3 max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-orange-600 rounded-lg transition",children:l.jsx(us,{className:"w-6 h-6 text-white"})}),l.jsxs("h1",{className:"text-3xl font-black bg-gradient-to-r from-orange-400 via-red-500 to-purple-600 bg-clip-text text-transparent",children:[" ",r.title]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"px-4 py-2 bg-white/10 rounded-lg border border-orange-500",children:[l.jsx("p",{className:"text-sm text-orange-300",children:"Author"}),l.jsx("p",{className:"font-bold text-white",children:r.author})]}),l.jsxs("div",{className:"px-4 py-2 bg-white/10 rounded-lg border border-purple-500",children:[l.jsx("p",{className:"text-sm text-purple-300",children:"Theme"}),l.jsx("p",{className:"font-bold text-white",children:r.theme})]})]})]})}),l.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[l.jsxs(R.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6},className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-8 border-yellow-100",children:[l.jsx("div",{className:"bg-white p-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 min-h-screen",children:r.panels.map((u,d)=>{const h=d===0?"md:col-span-2 row-span-2 text-8xl":d===3?"lg:col-span-2 text-6xl":"text-5xl",f=d%3===0?"from-yellow-100 to-orange-100":d%3===1?"from-blue-100 to-cyan-100":"from-pink-100 to-rose-100";return l.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:d*.1,duration:.4},className:`${h} border-4 border-black rounded-lg overflow-hidden bg-gradient-to-br ${f} p-6 flex flex-col justify-between hover:shadow-lg transition-all cursor-pointer group relative`,children:[l.jsx("div",{className:"absolute top-2 right-2 bg-black text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm border-2 border-white shadow-md",children:d+1}),l.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-3 border-l-3 border-black"}),l.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-3 border-r-3 border-black"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-3 border-l-3 border-black"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-3 border-r-3 border-black"}),l.jsx("div",{className:"flex items-center justify-center flex-1 mb-3 drop-shadow-lg group-hover:scale-110 transition",children:l.jsx(Dq,{panelIndex:d,image:u.image})}),l.jsx("div",{className:"relative bg-white rounded-2xl p-4 border-3 border-black shadow-md before:content-[''] before:absolute before:-left-6 before:bottom-4 before:w-0 before:h-0 before:border-l-12 before:border-t-6 before:border-r-0 before:border-b-6 before:border-l-white before:border-t-transparent before:border-b-transparent",children:l.jsx("p",{className:"text-sm font-bold text-gray-900 leading-tight",children:u.dialogue})}),u.emotion&&l.jsx("div",{className:"mt-2 inline-block",children:l.jsx("span",{className:"text-xs font-bold bg-black text-white px-3 py-1 rounded-full",children:u.emotion.toUpperCase()})})]},d)})}),r.lesson&&l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-orange-300 via-yellow-300 to-red-300 border-t-8 border-black p-8",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-6xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-black text-2xl text-black mb-2",children:"LESSON TAKEAWAY"}),l.jsx("p",{className:"text-lg font-bold text-gray-900 leading-relaxed",children:r.lesson})]})]})})]}),l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-8 bg-white/10 backdrop-blur-sm border-2 border-orange-500 rounded-xl p-6 text-white",children:l.jsx("p",{className:"text-lg leading-relaxed",children:r.description})}),l.jsx("div",{className:"mt-8 flex justify-center gap-4",children:l.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>i(null),className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl font-bold hover:shadow-lg transition text-lg",children:" Back to Manga List"})})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 overflow-auto",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-amber-200 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(us,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:[" Manga Panels - ",s.name]})]})}),l.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-8 p-6 bg-white rounded-lg border-2 border-amber-200 shadow-md",children:l.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Explore food adventures through manga! Stories feature ",l.jsx("strong",{children:s.name})," learning nutrition through epic culinary journeys! "]})}),o.length>0&&l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-orange-700 mb-6",children:" Available Manga"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(u=>l.jsxs(R.button,{whileHover:{scale:1.05,y:-10},whileTap:{scale:.98},onClick:()=>{i(u),setCurrentPanelIndex(0)},className:"p-8 rounded-xl border-4 border-orange-400 bg-gradient-to-br from-orange-400 to-red-500 text-white hover:shadow-2xl transition cursor-pointer text-left group",children:[l.jsx("div",{className:"text-7xl mb-4 group-hover:scale-125 transition inline-block",children:u.emoji}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:u.title}),l.jsx("p",{className:"text-orange-100 mb-4",children:u.description}),l.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t-2 border-orange-200",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("span",{className:"text-sm bg-white/30 px-3 py-1 rounded-full font-semibold",children:[u.panels.length," panels"]}),l.jsx("span",{className:"text-sm bg-white/30 px-3 py-1 rounded-full font-semibold",children:u.theme})]}),l.jsx("span",{className:"text-3xl",children:""})]})]},u.id))})]}),c.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-400 mb-6",children:" Locked Manga"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(u=>l.jsxs("div",{className:"p-8 rounded-xl border-4 border-gray-300 bg-gradient-to-br from-gray-100 to-gray-200 text-gray-600 opacity-70",children:[l.jsx("div",{className:"text-7xl mb-4 opacity-50",children:u.emoji}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:u.title}),l.jsx("p",{className:"text-gray-500 mb-4",children:u.description}),l.jsx("div",{className:"mt-6 pt-4 border-t-2 border-gray-300",children:l.jsxs("div",{className:"inline-flex items-center gap-2 text-sm bg-white/50 px-4 py-2 rounded-full",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsxs("span",{className:"font-semibold",children:["Unlock at ",u.unlockedAt.replace(/_/g," ")]})]})})]},u.id))})]}),o.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Manga Yet"}),l.jsxs("p",{className:"text-gray-600",children:["Complete lessons to unlock manga collections featuring ",s.name,"!"]})]})]})]})}const Bl={spring:{season:"Spring ",color:"#FF69B4",description:"Fresh growth after winter! Enjoy vibrant greens and light vegetables.",items:[{name:"Strawberries",emoji:"",benefits:[{key:"food_benefits.vitamin_c_boost",label:"Vitamin C boost"},{key:"food_benefits.sweet_juicy",label:"Sweet & juicy"}],funFact:"Strawberries have their seeds on the outside!"},{name:"Asparagus",emoji:"",benefits:[{key:"food_benefits.super_nutrients",label:"Super nutrients"},{key:"food_benefits.crunchy_texture",label:"Crunchy texture"}],funFact:"Asparagus can grow up to 10 inches in a day!"},{name:"Peas",emoji:"",benefits:[{key:"food_benefits.protein_power",label:"Protein power"},{key:"food_benefits.sweet_taste",label:"Sweet taste"}],funFact:"Peas were one of the first frozen vegetables!"},{name:"Spinach",emoji:"",benefits:[{key:"food_benefits.iron_rich",label:"Iron rich"},{key:"food_benefits.super_strength",label:"Super strength"}],funFact:"Spinach contains oxalates that can coat your teeth!"}]},summer:{season:"Summer ",color:"#FFD700",description:"Peak season! Enjoy colorful fruits and refreshing vegetables.",items:[{name:"Watermelon",emoji:"",benefits:[{key:"food_benefits.stay_hydrated",label:"Stay hydrated"},{key:"food_benefits.natural_coolness",label:"Natural coolness"}],funFact:"Watermelon is 92% water!"},{name:"Tomato",emoji:"",benefits:[{key:"food_benefits.heart_healthy",label:"Heart healthy"},{key:"food_benefits.juicy_goodness",label:"Juicy goodness"}],funFact:"Tomatoes are technically berries, not vegetables!"},{name:"Corn",emoji:"",benefits:[{key:"food_benefits.energy_boost",label:"Energy boost"},{key:"food_benefits.sweet_kernels",label:"Sweet kernels"}],funFact:"Each corn cob has about 800 kernels!"},{name:"Blueberries",emoji:"",benefits:[{key:"food_benefits.brain_boost",label:"Brain boost"},{key:"food_benefits.antioxidants",label:"Antioxidants"}],funFact:"Blueberries are the only food that's naturally blue!"}]},autumn:{season:"Autumn ",color:"#FF8C00",description:"Harvest time! Enjoy warm, comforting fruits and vegetables.",items:[{name:"Pumpkin",emoji:"",benefits:[{key:"food_benefits.vitamin_a_power",label:"Vitamin A power"},{key:"food_benefits.warm_comfort",label:"Warm comfort"}],funFact:"Pumpkins are 90% water!"},{name:"Apple",emoji:"",benefits:[{key:"food_benefits.fiber_rich",label:"Fiber rich"},{key:"food_benefits.crispy_crunch",label:"Crispy crunch"}],funFact:"It takes 36 apples to make one gallon of apple juice!"},{name:"Grape",emoji:"",benefits:[{key:"food_benefits.antioxidants",label:"Antioxidants"},{key:"food_benefits.sweet_clusters",label:"Sweet clusters"}],funFact:"Grapes have been grown for over 8000 years!"},{name:"Carrot",emoji:"",benefits:[{key:"food_benefits.eye_health",label:"Eye health"},{key:"food_benefits.natural_sweetness",label:"Natural sweetness"}],funFact:"Orange carrots weren't popular until the 1600s!"}]},winter:{season:"Winter ",color:"#87CEEB",description:"Hearty choices! Root vegetables and citrus keep you healthy.",items:[{name:"Orange",emoji:"",benefits:[{key:"food_benefits.vitamin_c",label:"Vitamin C"},{key:"food_benefits.citrus_brightness",label:"Citrus brightness"}],funFact:"Oranges were originally green!"},{name:"Broccoli",emoji:"",benefits:[{key:"food_benefits.immune_boost",label:"Immune boost"},{key:"food_benefits.tree_shaped_yum",label:"Tree-shaped yum"}],funFact:"Broccoli is technically a flower!"},{name:"Potato",emoji:"",benefits:[{key:"food_benefits.energy_fuel",label:"Energy fuel"},{key:"food_benefits.versatile_veggie",label:"Versatile veggie"}],funFact:"Potatoes were the first vegetable to be grown in space!"},{name:"Kale",emoji:"",benefits:[{key:"food_benefits.super_nutrient",label:"Super nutrient"},{key:"food_benefits.leafy_power",label:"Leafy power"}],funFact:"Kale is packed with more nutrients than most vegetables!"}]}},Iq=({onBack:t})=>{const[e,n]=_.useState("spring"),{t:r}=Wn(),i=Ct.tanjiro,s=Bl[e];return l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-background pb-20",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b transition-colors",style:{borderColor:s.color+"40"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(R.button,{whileTap:{scale:.9},onClick:t,className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(zo,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"font-display font-bold text-foreground",children:" Seasonal Produce"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Eat what's fresh and in season!"})]})]})}),l.jsxs("main",{className:"px-4 py-6 space-y-6",children:[l.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-4 border transition-all",style:{borderColor:s.color+"60",backgroundColor:s.color+"20"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(DC,{style:{color:s.color},className:"w-6 h-6 flex-shrink-0 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-display font-bold text-lg text-foreground",children:s.season}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:s.description})]})]})},e),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground text-sm",children:"Choose a Season:"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(Bl).map(a=>l.jsx(R.button,{whileTap:{scale:.95},onClick:()=>n(a),className:`py-3 rounded-lg font-semibold transition-all border-2 text-sm ${e===a?"text-white shadow-lg":"bg-card text-foreground hover:bg-muted"}`,style:e===a?{backgroundColor:Bl[a].color,borderColor:Bl[a].color}:{},children:Bl[a].season.split(" ")[0]},a))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:"Fresh Picks"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.items.map((a,o)=>l.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:"bg-card rounded-xl p-4 shadow-card border transition-colors hover:shadow-lg cursor-pointer group",style:{borderColor:s.color+"40"},children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"text-5xl flex-shrink-0 group-hover:scale-110 transition-transform",children:a.emoji}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-display font-bold text-foreground text-lg",children:a.name}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:a.benefits.map((c,u)=>l.jsxs("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:s.color},children:[" ",typeof c=="string"?c:r(c.key)]},u))}),l.jsx("div",{className:"mt-3 p-3 rounded-lg bg-muted/30",children:l.jsxs("p",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{children:a.funFact})]})})]})]})]})},o))})]}),l.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card rounded-2xl p-4 shadow-card border transition-colors",style:{borderColor:i.color+"40",backgroundColor:i.color+"10"},children:l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(RL,{style:{color:i.color},className:"w-5 h-5 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display font-bold text-foreground mb-2",children:"Why Eat Seasonal?"}),l.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:" More flavorful and nutritious"}),l.jsx("li",{children:" Fresher from farm to table"}),l.jsx("li",{children:" Better for the environment"}),l.jsx("li",{children:" Often more affordable"}),l.jsx("li",{children:" Supports local farmers"})]})]})]})})})]})]})},Oq={apple:{id:"apple",name:"Apple",calories:95,protein:.5,sugar:19,additives:[],healthScore:95},banana:{id:"banana",name:"Banana",calories:105,protein:1.3,sugar:27,additives:[],healthScore:90},broccoli:{id:"broccoli",name:"Broccoli",calories:34,protein:2.8,sugar:2.2,additives:[],healthScore:98},carrots:{id:"carrots",name:"Carrots",calories:41,protein:.9,sugar:5,additives:[],healthScore:94},chicken_breast:{id:"chicken_breast",name:"Chicken Breast",calories:165,protein:31,sugar:0,additives:[],healthScore:92},chocolate_bar:{id:"chocolate_bar",name:"Chocolate Bar",calories:250,protein:3,sugar:27,additives:["artificial flavor","emulsifier","preservative"],healthScore:35},pizza_slice:{id:"pizza_slice",name:"Pizza Slice",calories:285,protein:12,sugar:3,additives:["sodium phosphate","dough conditioner"],healthScore:45},salad:{id:"salad",name:"Garden Salad",calories:50,protein:2,sugar:3,additives:[],healthScore:96},salmon:{id:"salmon",name:"Salmon",calories:280,protein:25,sugar:0,additives:[],healthScore:95},french_fries:{id:"french_fries",name:"French Fries",calories:365,protein:3.4,sugar:0,additives:["trans fat","sodium"],healthScore:30},yogurt:{id:"yogurt",name:"Greek Yogurt",calories:100,protein:17,sugar:7,additives:[],healthScore:88},soft_drink_cola:{id:"soft_drink_cola",name:"Soft Drinks - Cola",calories:140,protein:0,sugar:39,additives:["high fructose corn syrup","caramel color"],healthScore:15},soft_drink_lemon_lime:{id:"soft_drink_lemon_lime",name:"Soft Drinks - Lemon-Lime",calories:140,protein:0,sugar:38,additives:["high fructose corn syrup","natural flavor"],healthScore:20}},Bq={"high fructose corn syrup":"Can cause blood sugar spikes and liver damage","artificial sweetener":"May disrupt gut bacteria and metabolism","caramel color":"Linked to potential cancer risk in animal studies","artificial flavor":"May cause headaches and allergic reactions",emulsifier:"Can damage intestinal lining and cause inflammation",preservative:"May increase risk of heart disease","sodium phosphate":"Excessive sodium can raise blood pressure","dough conditioner":"May contain harmful chemicals","trans fat":"Increases bad cholesterol and heart disease risk",sodium:"Excess intake linked to high blood pressure","natural flavor":"Often contains hidden additives and chemicals"},zq={"5000000000001":{id:"soft_drinks_generic",name:"Soft Drinks (12oz)",calories:140,protein:0,sugar:39,additives:["high fructose corn syrup","caramel color"],healthScore:15},"5901234567890":{id:"barcode_apple",name:"Organic Apple (Whole Foods)",calories:95,protein:.5,sugar:19,additives:[],healthScore:95},"5051234567890":{id:"barcode_banana",name:"Fresh Banana",calories:105,protein:1.3,sugar:27,additives:[],healthScore:90},"4006381333931":{id:"barcode_yogurt",name:"Plain Greek Yogurt (7oz)",calories:100,protein:17,sugar:7,additives:[],healthScore:88},"4011999999999":{id:"barcode_broccoli",name:"Fresh Broccoli Bunch",calories:34,protein:2.8,sugar:2.2,additives:[],healthScore:98},"5000230110627":{id:"barcode_salmon",name:"Wild Salmon Fillet",calories:280,protein:25,sugar:0,additives:[],healthScore:95},"4006885006113":{id:"barcode_chocolate",name:"Chocolate Truffles",calories:250,protein:3,sugar:27,additives:["artificial flavor","emulsifier"],healthScore:35}},Vq=[{barcode:"5000000000001",name:"Soft Drinks"},{barcode:"5901234567890",name:"Apple"},{barcode:"5051234567890",name:"Banana"},{barcode:"4006381333931",name:"Greek Yogurt"},{barcode:"4011999999999",name:"Broccoli"},{barcode:"5000230110627",name:"Salmon"},{barcode:"4006885006113",name:"Chocolate Truffles"}],Hq=(t,e,n)=>{let r=t;return e>25?r-=20:e>15&&(r-=10),n>3?r-=15:n>0&&(r-=5),r>=85?"A":r>=70?"B":r>=55?"C":r>=40?"D":"F"},Uq=t=>{switch(t){case"A":return"from-green-500 to-emerald-600";case"B":return"from-lime-500 to-green-600";case"C":return"from-yellow-500 to-amber-600";case"D":return"from-orange-500 to-red-600";case"F":return"from-red-500 to-red-700";default:return"from-gray-500 to-gray-600"}},Gq=({onBack:t})=>{const[e,n]=_.useState([]),[r,i]=_.useState([]),[s,a]=_.useState("My Meal"),[o,c]=_.useState(""),[u,d]=_.useState(""),[h,f]=_.useState(""),[p,x]=_.useState(!1),[y,v]=_.useState(!1),[g,m]=_.useState(!1),b=Ct.tanjiro,S=Object.values(Oq).filter(F=>F.name.toLowerCase().includes(o.toLowerCase())),M=F=>{i([...r,{...F,id:`${F.id}-${Date.now()}`}]),c("")},w=F=>{const D=zq[F];D?(M(D),f(` Added: ${D.name}`),d(""),setTimeout(()=>f(""),3e3)):(f(` Barcode not found: ${F}`),setTimeout(()=>f(""),3e3))},C=F=>{F.key==="Enter"&&u.trim()&&w(u.trim())},E=F=>{i(r.filter(D=>D.id!==F))},N=()=>{if(r.length===0)return;const F=r.reduce((G,V)=>G+V.calories,0),D=r.reduce((G,V)=>G+V.sugar,0),k=new Set(r.flatMap(G=>G.additives)),T=r.reduce((G,V)=>G+V.healthScore,0)/r.length,z=Hq(T,D,k.size),j={id:`meal-${Date.now()}`,name:s,items:r,totalCalories:F,overallGrade:z,timestamp:new Date};n([j,...e]),i([]),a("My Meal"),x(!1)},L=F=>{n(e.filter(D=>D.id!==F))};return l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen bg-background pb-20",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b transition-colors",style:{borderColor:b.color+"40"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(R.button,{whileTap:{scale:.9},onClick:t,className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(zo,{className:"w-5 h-5 text-foreground"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"font-display font-bold text-foreground",children:" Nutrition Tracker"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Track your meals and get grades"})]})]})}),l.jsxs("main",{className:"px-4 py-6 space-y-6",children:[l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-4 border transition-colors",style:{borderColor:b.color+"60",backgroundColor:b.color+"20"},children:[l.jsx("h3",{className:"font-display font-bold text-foreground mb-3",children:"Build Your Meal"}),l.jsx("input",{type:"text",value:s,onChange:F=>a(F.target.value),placeholder:"Meal name...",className:"w-full px-3 py-2 rounded-lg bg-background text-foreground border border-border mb-3 text-sm"}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!p),className:"flex-1 bg-gradient-to-r from-primary to-secondary text-white px-4 py-2 rounded-lg font-semibold",children:[l.jsx(vo,{className:"w-4 h-4 inline mr-2"}),"Browse Foods"]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!y),className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 text-white px-4 py-2 rounded-lg font-semibold",children:[l.jsx(hL,{className:"w-4 h-4 inline mr-2"}),"Scan"]})]}),l.jsx(sr,{children:y&&l.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-3 space-y-2 rounded-lg bg-cyan-500/10 border border-cyan-500/30 p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-cyan-700 mb-2",children:" Barcode Scanner"}),l.jsx("input",{type:"text",value:u,onChange:F=>d(F.target.value),onKeyPress:C,placeholder:"Scan or paste barcode... (press Enter)",autoFocus:!0,className:"w-full px-3 py-2 rounded-lg bg-background text-foreground border border-border text-sm font-mono"})]}),h&&l.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs font-semibold text-cyan-700",children:h}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!g),className:"text-xs text-cyan-700 hover:text-cyan-600 font-semibold",children:g?"Hide Sample Barcodes":"Show Sample Barcodes"}),g&&l.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-1 mt-2 max-h-40 overflow-y-auto",children:[l.jsx("p",{className:"text-xs text-muted-foreground font-semibold mb-2",children:"Try these barcodes:"}),Vq.map(F=>l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{d(F.barcode),w(F.barcode)},className:"w-full text-left text-xs px-2 py-1 rounded bg-card hover:bg-muted transition-colors flex items-center justify-between group",children:[l.jsx("span",{children:F.name}),l.jsx(vL,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]},F.barcode))]})]})}),l.jsx(sr,{children:p&&l.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-3 space-y-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(zC,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),l.jsx("input",{type:"text",value:o,onChange:F=>c(F.target.value),placeholder:"Search foods...",className:"w-full pl-9 pr-3 py-2 rounded-lg bg-background text-foreground border border-border text-sm"})]}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:S.map(F=>l.jsx(R.button,{whileHover:{scale:1.02},onClick:()=>M(F),className:"w-full text-left px-3 py-2 rounded-lg bg-card hover:bg-muted transition-colors text-sm",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-semibold",children:F.name}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.calories," cal"]})]})},F.id))})]})}),r.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"Foods Added:"}),r.map(F=>l.jsxs("div",{className:"flex justify-between items-center bg-card rounded-lg p-2",children:[l.jsxs("div",{className:"flex-1 text-sm",children:[l.jsx("p",{className:"font-semibold text-foreground",children:F.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.calories," cal  ",F.protein,"g protein"]})]}),l.jsx(R.button,{whileTap:{scale:.9},onClick:()=>E(F.id),className:"ml-2 p-1 hover:bg-muted rounded",children:l.jsx(DL,{className:"w-4 h-4 text-destructive"})})]},F.id)),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg font-semibold mt-3",children:" Save Meal"})]})]}),e.length>0&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:" Your Meals"}),e.map((F,D)=>{const k=F.items.reduce((j,G)=>j+G.calories,0),T=F.items.reduce((j,G)=>j+G.sugar,0),z=new Set(F.items.flatMap(j=>j.additives));return l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.1},className:"bg-card rounded-xl p-4 shadow-card border border-border",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-display font-bold text-foreground",children:F.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:F.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:`bg-gradient-to-br ${Uq(F.overallGrade)} rounded-full w-16 h-16 flex items-center justify-center flex-shrink-0`,children:l.jsx("span",{className:"font-display text-2xl font-bold text-white",children:F.overallGrade})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[l.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Calories"}),l.jsx("p",{className:"font-bold text-foreground",children:k})]}),l.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sugar"}),l.jsxs("p",{className:"font-bold text-foreground",children:[Math.round(T),"g"]})]}),l.jsxs("div",{className:"bg-muted rounded-lg p-2 text-center",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Protein"}),l.jsxs("p",{className:"font-bold text-foreground",children:[Math.round(F.items.reduce((j,G)=>j+G.protein,0)),"g"]})]})]}),l.jsx("div",{className:"mb-3 space-y-1",children:F.items.map(j=>l.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",j.name]},j.id))}),(T>50||z.size>0)&&l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg bg-orange-500/10 border border-orange-500/30 p-3 mb-3 space-y-2",children:l.jsxs("div",{className:"flex gap-2 items-start",children:[l.jsx(Qo,{className:"w-4 h-4 text-orange-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1 text-xs text-orange-700 space-y-1",children:[T>50&&l.jsxs("p",{children:[" High sugar content (",Math.round(T),"g)"]}),z.size>0&&l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold mb-1",children:" Additives detected:"}),l.jsx("div",{className:"space-y-1 ml-2",children:Array.from(z).map(j=>l.jsxs("div",{className:"text-xs",children:[l.jsxs("p",{className:"font-semibold text-orange-800",children:[" ",j]}),l.jsx("p",{className:"text-orange-700 ml-3",children:Bq[j]||"Unknown additive"})]},j))})]})]})]})}),F.overallGrade==="A"||F.overallGrade==="B"?l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg bg-green-500/10 border border-green-500/30 p-2 mb-3",children:l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(Cf,{className:"w-4 h-4 text-green-600"}),l.jsx("p",{className:"text-xs text-green-700",children:F.overallGrade==="A"?" Excellent nutrition choice!":" Good balanced meal!"})]})}):null,l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(F.id),className:"w-full text-xs text-destructive hover:bg-destructive/10 px-2 py-1 rounded transition-colors",children:"Delete"})]},F.id)})]}),e.length===0&&r.length===0&&l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[l.jsx("p",{className:"text-3xl mb-3",children:""}),l.jsx("p",{className:"text-muted-foreground",children:"Start by adding foods to track your nutrition!"})]}),l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card rounded-2xl p-4 shadow-card border border-border",children:[l.jsx("h3",{className:"font-display font-bold text-foreground mb-3",children:" Grade System"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-bold text-green-600",children:"A"})," - Excellent nutrition (85+)"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-bold text-lime-600",children:"B"})," - Good nutrition (70-84)"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-bold text-yellow-600",children:"C"})," - Fair nutrition (55-69)"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-bold text-orange-600",children:"D"})," - Poor nutrition (40-54)"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-bold text-red-600",children:"F"})," - Very unhealthy (<40)"]})]})]})]})]})},Wq=({onBack:t})=>{const e=["hate","stupid","idiot","dumb","trash","useless","garbage","pathetic","loser","noob","die","kill","racist","sexist"],n=["crypto","stocks","marketing","casino","gambling","forex","bitcoin","nft","click here","buy now","limited offer"],r=m=>{const b=m.toLowerCase();return e.find(w=>b.includes(w))?{clean:!1,reason:"Abusive language detected"}:n.find(w=>b.includes(w))?{clean:!1,reason:"Irrelevant spam content detected"}:{clean:!0,reason:""}},[i,s]=_.useState("social"),[a,o]=_.useState(!0),[c,u]=_.useState([{id:"1",name:"Chef Yamada",avatar:"",level:15,recipesShared:8},{id:"2",name:"Sakura123",avatar:"",level:12,recipesShared:5},{id:"3",name:"RamenLover",avatar:"",level:10,recipesShared:12}]),[d,h]=_.useState([{id:"1",authorName:"Chef Yamada",recipeName:"Classic Tonkatsu",difficulty:"Medium",prepTime:"45 mins",likes:234,timestamp:"2 hours ago",country:" Japan"},{id:"2",authorName:"Sakura123",recipeName:"Vegetable Stir Fry",difficulty:"Easy",prepTime:"20 mins",likes:156,timestamp:"5 hours ago",country:" China"},{id:"3",authorName:"RamenLover",recipeName:"Spicy Miso Ramen",difficulty:"Hard",prepTime:"90 mins",likes:412,timestamp:"1 day ago",country:" Japan"}]),[f,p]=_.useState([{id:"1",name:"7-Day Veggie Challenge",description:"Eat vegetables in all 3 meals for 7 days",participants:2341,prize:" Golden Badge + 500 XP",daysLeft:3,difficulty:"Medium",icon:""},{id:"2",name:"Cultural Cook Quest",description:"Cook a traditional dish from 3 different cultures",participants:1856,prize:" Global Explorer Badge + 750 XP",daysLeft:7,difficulty:"Hard",icon:""},{id:"3",name:"Breakfast Championship",description:"Create the healthiest breakfast recipe",participants:3421,prize:" Champion Crown + 1000 XP",daysLeft:14,difficulty:"Medium",icon:""}]),[x,y]=_.useState([{id:"1",author:"NutritionGuru",title:"Best Proteins for Growing Teens",category:"Nutrition",replies:45,likes:312,timestamp:"3 hours ago"},{id:"2",author:"CulinaryArtist",title:"How to Make Perfect Sushi at Home",category:"Recipes",replies:28,likes:187,timestamp:"1 day ago"},{id:"3",author:"HealthyChoices",title:"Easy Meal Prep Tips for Busy Students",category:"Tips",replies:67,likes:456,timestamp:"2 days ago"},{id:"4",author:"CulturalChef",title:"Traditional Foods from Southeast Asia",category:"Cultural",replies:34,likes:289,timestamp:"3 days ago"}]),v=m=>({Tips:"bg-amber-500/20 text-amber-700",Cultural:"bg-purple-500/20 text-purple-700",Nutrition:"bg-green-500/20 text-green-700",Recipes:"bg-pink-500/20 text-pink-700",General:"bg-blue-500/20 text-blue-700"})[m]||"bg-gray-500/20 text-gray-700",g=m=>{switch(m){case"Easy":return"text-green-600";case"Medium":return"text-amber-600";case"Hard":return"text-red-600";default:return"text-gray-600"}};return l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:[l.jsx("div",{className:"sticky top-0 z-40 backdrop-blur-md border-b border-border bg-background/80",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:l.jsx(zo,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent",children:" Community Space"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Share  Learn  Compete"})]}),l.jsx("div",{className:"w-10"})]})})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 pb-20",children:[l.jsx("div",{className:"flex gap-2 mb-6 rounded-lg bg-muted p-1 sticky top-20 z-30",children:["social","challenges","forum"].map(m=>l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(m),className:`flex-1 px-4 py-2 rounded-md font-semibold text-sm transition-all ${i===m?"bg-primary text-primary-foreground shadow-lg":"text-muted-foreground hover:text-foreground"}`,children:[m==="social"&&l.jsxs(l.Fragment,{children:[l.jsx(sa,{className:"w-4 h-4 inline mr-2"}),"Social"]}),m==="challenges"&&l.jsxs(l.Fragment,{children:[l.jsx(Tf,{className:"w-4 h-4 inline mr-2"}),"Challenges"]}),m==="forum"&&l.jsxs(l.Fragment,{children:[l.jsx(OC,{className:"w-4 h-4 inline mr-2"}),"Forum"]})]},m))}),l.jsxs(sr,{mode:"wait",children:[i==="social"&&l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-lg p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[" My Friends",l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",c.length,")"]})]}),l.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary/20 text-primary rounded-lg hover:bg-primary/30 transition-colors",children:l.jsx(vo,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:c.map((m,b)=>l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"p-4 bg-muted rounded-lg hover:bg-muted/80 transition-colors border border-border/50 group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("div",{className:"text-3xl",children:m.avatar}),l.jsx(kC,{className:"w-4 h-4 text-amber-500"})]}),l.jsx("p",{className:"font-semibold text-sm",children:m.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Level ",m.level]}),l.jsxs("p",{className:"text-xs text-primary mt-1",children:[" ",m.recipesShared," recipes shared"]}),l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-2 w-full text-xs bg-primary/20 text-primary py-1 rounded hover:bg-primary/30 transition-colors opacity-0 group-hover:opacity-100",children:"View Profile"})]},m.id))})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-lg p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold flex items-center gap-2",children:" Community Recipes"}),l.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary/20 text-primary rounded-lg hover:bg-primary/30 transition-colors",children:l.jsx(vo,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"space-y-3",children:d.map((m,b)=>l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"p-4 bg-muted rounded-lg border border-border/50 hover:border-primary/50 transition-all group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-semibold text-sm",children:m.recipeName}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g(m.difficulty)} opacity-75`,children:m.difficulty})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",m.authorName]})]}),l.jsx("span",{className:"text-xs font-semibold text-primary",children:m.country})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[l.jsxs("span",{children:[" ",m.prepTime]}),l.jsx("span",{children:m.timestamp})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-1 text-xs hover:text-red-500 transition-colors",children:[l.jsx(Ef,{className:"w-4 h-4"}),m.likes]}),l.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-1 text-xs hover:text-primary transition-colors",children:[l.jsx(NL,{className:"w-4 h-4"}),"Share"]}),l.jsxs(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"flex items-center gap-1 text-xs hover:text-blue-500 transition-colors ml-auto",children:[l.jsx(IL,{className:"w-4 h-4"}),"Try Recipe"]})]})]},m.id))})]}),l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{icon:"",label:"Members",value:"12.4K",color:"from-blue-500 to-cyan-500"},{icon:"",label:"Recipes Shared",value:"3.2K",color:"from-pink-500 to-red-500"},{icon:"",label:"Discussions",value:"8.9K",color:"from-purple-500 to-pink-500"},{icon:"",label:"Challenges",value:"142",color:"from-amber-500 to-orange-500"}].map((m,b)=>l.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2+b*.05},className:`p-4 rounded-lg bg-gradient-to-br ${m.color} bg-opacity-20 border border-opacity-30 border-white text-center`,children:[l.jsx("p",{className:"text-2xl mb-1",children:m.icon}),l.jsx("p",{className:"text-lg font-bold",children:m.value}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m.label})]},m.label))})]},"social"),i==="challenges"&&l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary/30 to-secondary/30 rounded-lg p-4 border border-primary/20 mb-4",children:l.jsx("p",{className:"text-sm font-semibold",children:" Complete challenges to earn XP, badges, and bragging rights!"})}),f.map((m,b)=>l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"bg-card rounded-lg p-6 border border-border hover:border-primary/50 transition-all group",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"text-4xl",children:m.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-bold text-lg",children:m.name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.description})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Difficulty"}),l.jsx("p",{className:`font-bold ${g(m.difficulty)}`,children:m.difficulty})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 pt-4 border-t border-border/50",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Participants"}),l.jsx("p",{className:"font-bold text-sm",children:m.participants.toLocaleString()})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Left"}),l.jsxs("p",{className:"font-bold text-sm flex items-center gap-1",children:[l.jsx(LC,{className:"w-3 h-3 text-red-500"}),m.daysLeft,"d"]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Prize"}),l.jsx("p",{className:"font-bold text-sm",children:m.prize})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-gradient-to-r from-primary to-secondary text-white px-4 py-2 rounded-lg font-semibold hover:shadow-lg transition-all",children:[l.jsx(jh,{className:"w-4 h-4 inline mr-2"}),"Join Challenge"]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 rounded-lg border border-border hover:bg-muted transition-colors",children:"View Details"})]})]},m.id))]},"challenges"),i==="forum"&&l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg bg-blue-500/10 border border-blue-500/30 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kL,{className:"w-4 h-4 text-blue-600"}),l.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Content Safety"})]}),l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!a),className:`text-xs font-semibold px-3 py-1 rounded transition-all ${a?"bg-blue-600 text-white":"bg-blue-500/20 text-blue-700 border border-blue-500/50"}`,children:a?" Filter ON":" Filter OFF"})]}),l.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Automatically filters abusive language and spam content to keep the community safe for everyone."})]}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("div",{className:"flex-1 relative",children:l.jsx("input",{type:"text",placeholder:"Search discussions...",className:"w-full px-4 py-2 rounded-lg bg-muted border border-border focus:border-primary focus:outline-none"})}),l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:l.jsx(vo,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"space-y-3",children:x.map((m,b)=>{const S=r(m.title),M=a?S.clean:!0;return a&&!M?l.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"p-4 bg-card rounded-lg border border-red-500/30 bg-red-500/5",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(FL,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-red-700",children:"Content Flagged"}),l.jsx("p",{className:"text-xs text-red-600",children:S.reason})]})]})},m.id):l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"p-4 bg-card rounded-lg border border-border hover:border-primary/50 transition-all group cursor-pointer",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[l.jsx("h3",{className:"font-bold text-sm group-hover:text-primary transition-colors truncate",children:m.title}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-semibold flex-shrink-0 ${v(m.category)}`,children:m.category}),!S.clean&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-700 font-semibold flex-shrink-0",children:" Review"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",l.jsx("span",{className:"font-semibold",children:m.author}),"  ",m.timestamp]})]}),l.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:""}),l.jsx("p",{className:"text-sm font-bold",children:m.replies})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:""}),l.jsx("p",{className:"text-sm font-bold",children:m.likes})]})]})]}),l.jsxs("div",{className:"mt-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-xs px-3 py-1 bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors",children:"Reply"}),l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-xs px-3 py-1 bg-muted text-muted-foreground rounded hover:bg-muted/80 transition-colors",children:"Save"})]})]},m.id)})})]},"forum")]})]})]})},DA=()=>{const t=_.useContext(p0);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},$q=({onSelect:t,ageGroup:e})=>{const{user:n,setUserCharacter:r}=DA(),i=(n==null?void 0:n.characterId)||"tanjiro",s=a=>{r(a),t==null||t()};return e==="kids"||e==="tweens"?null:l.jsxs("div",{className:"w-full max-w-5xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"font-display text-3xl font-bold text-foreground mb-2 flex items-center gap-2",children:[l.jsx(sa,{className:"w-8 h-8 text-primary"}),"Choose Your Anime Character"]}),l.jsx("p",{className:"text-muted-foreground",children:"Select your favorite character to display throughout the app!"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Object.entries(Ct).map(([a,o])=>l.jsxs(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(a),className:`cursor-pointer relative overflow-hidden rounded-2xl p-4 transition-all ${i===a?"ring-2 ring-primary shadow-lg scale-105":"shadow hover:shadow-md"}`,style:{backgroundColor:"hsl(var(--card))",border:`3px solid ${o.color}`},children:[l.jsx("div",{className:"mb-4 flex justify-center",children:l.jsx("div",{style:{width:"120px",height:"150px",overflow:"hidden",borderRadius:"8px"},children:o.imageUrl?l.jsx("img",{src:o.imageUrl,alt:o.name,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"},onError:c=>{const u=c.target;u.style.backgroundColor=o.color,u.style.display="none"}}):l.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:o.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px"},children:o.emoji})})}),l.jsxs("div",{className:"relative z-10 space-y-2 text-center",children:[l.jsx("p",{className:"font-display font-bold text-foreground text-sm line-clamp-1",children:o.name}),l.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:o.anime}),l.jsx("p",{className:"text-xs text-muted-foreground",children:o.emoji}),i===a&&l.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 bg-primary text-primary-foreground rounded-full p-1",children:l.jsx("span",{className:"text-xs font-bold",children:""})})]})]},a))}),l.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-8 p-6 rounded-2xl bg-card border border-border space-y-4",children:Ct[i]&&l.jsx("div",{children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{style:{width:"120px",height:"120px",flexShrink:0},children:l.jsx(RA,{character:Ct[i],size:"small",autoRotate:!0})}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Selected Character"}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:Ct[i].name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Ct[i].anime})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Personality"}),l.jsx("p",{className:"text-sm text-foreground",children:Ct[i].personality})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Description"}),l.jsx("p",{className:"text-sm text-foreground",children:Ct[i].description})]})]})]})})})]})},FA=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(null),[c,u]=_.useState(!0),[d,h]=_.useState(null);_.useEffect(()=>{const v=window.webkitSpeechRecognition||window.SpeechRecognition;if(!v){u(!1),o("Speech Recognition is not supported in this browser");return}const g=new v;return g.continuous=!0,g.interimResults=!0,g.lang="en-US",g.onstart=()=>{e(!0),o(null),r(""),s("")},g.onresult=m=>{let b="",S="";for(let M=m.resultIndex;M<m.results.length;M++){const w=m.results[M][0].transcript;m.results[M].isFinal?S+=w+" ":b+=w}s(b),S&&r(M=>M+S)},g.onerror=m=>{o(`Error: ${m.error}`),console.error("Speech recognition error:",m.error)},g.onend=()=>{e(!1)},h(g),()=>{g&&g.abort()}},[]);const f=_.useCallback(()=>{d&&c&&(r(""),s(""),o(null),d.start())},[d,c]),p=_.useCallback(()=>{d&&d.stop()},[d]),x=_.useCallback(()=>{r(""),s("")},[]),y=_.useCallback(v=>{const g=(n+i).toLowerCase().trim();for(const m of v)for(const b of m.keywords)if(g.includes(b.toLowerCase()))return m;return null},[n,i]);return{isListening:t,transcript:n,interimTranscript:i,error:a,isSupported:c,startListening:f,stopListening:p,resetTranscript:x,processCommand:y,fullTranscript:n+i}},qq=({onCommand:t,className:e=""})=>{const{isListening:n,transcript:r,interimTranscript:i,error:s,isSupported:a,startListening:o,stopListening:c,resetTranscript:u}=FA(),[d,h]=_.useState(!1);_.useEffect(()=>{n&&h(!0)},[n]);const f=()=>{n?(c(),h(!1)):(u(),o())};return a?l.jsxs("div",{className:`relative ${e}`,children:[l.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:`relative rounded-full p-3 font-semibold transition-all ${n?"bg-primary text-primary-foreground shadow-lg animate-pulse":"bg-primary/10 text-primary hover:bg-primary/20"}`,children:[l.jsx(R.div,{animate:n?{scale:[1,1.2,1]}:{scale:1},transition:{repeat:n?1/0:0,duration:1},children:n?l.jsx(BC,{className:"w-5 h-5"}):l.jsx(Yg,{className:"w-5 h-5"})}),n&&l.jsx(R.div,{className:"absolute inset-0 rounded-full border-2 border-primary",animate:{scale:[1,1.3]},transition:{repeat:1/0,duration:1}})]}),d&&(n||r||i)&&l.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-card border border-border rounded-xl p-3 min-w-[250px] shadow-lg z-50",children:s?l.jsx("p",{className:"text-sm text-destructive",children:s}):l.jsxs(l.Fragment,{children:[r&&l.jsx("p",{className:"text-sm font-semibold text-foreground",children:r}),i&&l.jsx("p",{className:"text-sm text-muted-foreground italic",children:i}),!r&&!i&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Listening..."})]})}),l.jsx(R.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-foreground text-background px-2 py-1 rounded text-xs font-semibold whitespace-nowrap pointer-events-none",children:n?"Listening...":"Click to speak"})]}):null},IA=({isOpen:t,onClose:e})=>{const{preferences:n,setAllergies:r,setDietaryPreference:i}=If(),[s,a]=_.useState(new Set(n.allergies)),[o,c]=_.useState(n.dietaryPreference),u=h=>{const f=new Set(s);f.has(h)?f.delete(h):f.add(h),a(f)},d=()=>{r(Array.from(s)),i(o),e()};return l.jsx(sr,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-50"}),l.jsxs(R.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-card border border-border rounded-2xl shadow-xl z-50 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-6 flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Dietary Preferences"}),l.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-1 rounded-lg hover:bg-primary/10 transition-colors",children:l.jsx(fu,{className:"w-5 h-5 text-muted-foreground"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{children:"Dietary Preference"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your dietary preference to personalize recipes and food recommendations"}),l.jsx("div",{className:"space-y-2",children:[{value:"vegetarian",label:"Vegetarian",description:"No meat, fish, or eggs",emoji:""},{value:"eggtarian",label:"Eggtarian",description:"No meat or fish, but eggs allowed",emoji:""},{value:"non-vegetarian",label:"Non-Vegetarian",description:"All foods including meat and fish",emoji:""}].map(h=>l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(h.value),className:`w-full p-4 rounded-xl border-2 transition-all ${o===h.value?"border-primary bg-primary/10":"border-border bg-background hover:border-primary/50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:h.emoji}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-foreground",children:h.label}),l.jsx("div",{className:"text-sm text-muted-foreground",children:h.description})]}),o===h.value&&l.jsx(qg,{className:"w-5 h-5 text-primary flex-shrink-0 mt-1"})]})},h.value))})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t border-border",children:[l.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{children:"Allergies"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Select any allergies to filter out unsafe recipes and ingredients"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:sF.map(h=>l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(h),className:`p-3 rounded-lg border-2 transition-all text-sm font-medium ${s.has(h)?"border-destructive bg-destructive/10 text-destructive":"border-border bg-background hover:border-border/80"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{children:h}),s.has(h)&&l.jsx(qg,{className:"w-4 h-4"})]})},h))}),s.size>0&&l.jsx("div",{className:"mt-3 p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:l.jsxs("p",{className:"text-sm text-destructive",children:[l.jsx("strong",{children:s.size})," allergen",s.size!==1?"s":""," selected. We'll filter recipes accordingly."]})})]})]}),l.jsxs("div",{className:"sticky bottom-0 bg-card border-t border-border p-6 flex gap-3",children:[l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"flex-1 px-4 py-3 rounded-lg border border-border text-foreground hover:bg-background transition-colors font-medium",children:"Cancel"}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"flex-1 px-4 py-3 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors font-medium",children:"Save Preferences"})]})]})]})})},Xq=()=>{const{user:t,logout:e}=xu(),[n,r]=_.useState(!1),[i,s]=_.useState(!1),a=yu();if(!t)return null;const o=()=>{e(),a("/login"),r(!1)},c=()=>{var u;return t.name?t.name.split(" ").map(d=>d.charAt(0).toUpperCase()).join("").slice(0,2):((u=t.email)==null?void 0:u.charAt(0).toUpperCase())||"U"};return l.jsxs("div",{className:"relative",children:[l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"relative w-10 h-10 rounded-full overflow-hidden border-2 border-primary/50 hover:border-primary transition-colors bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold",title:t.name,children:c()}),l.jsx(sr,{children:n&&l.jsxs(R.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"absolute right-0 mt-2 w-64 bg-card border border-border rounded-2xl shadow-lg z-50 p-4 space-y-3",children:[l.jsx("div",{className:"space-y-2 pb-4 border-b border-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:c()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold text-foreground truncate text-sm",children:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.email})]})]})}),l.jsxs(R.button,{whileHover:{x:4},whileTap:{scale:.98},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors text-sm text-foreground",onClick:()=>{s(!0),r(!1)},children:[l.jsx(VC,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:"Dietary Preferences"})]}),l.jsxs(R.button,{whileHover:{x:4},whileTap:{scale:.98},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors text-sm text-foreground",onClick:()=>r(!1),children:[l.jsx(Zx,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:"My Profile"})]}),l.jsxs(R.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-destructive/10 transition-colors text-sm text-destructive",children:[l.jsx(CL,{className:"w-4 h-4"}),l.jsx("span",{children:"Sign Out"})]})]})}),n&&l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),l.jsx(IA,{isOpen:i,onClose:()=>s(!1)})]})},SS=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(p=>p(e,f))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(r,i,o);return o},Yq=t=>t?SS(t):SS,Kq=t=>t;function Qq(t,e=Kq){const n=fe.useSyncExternalStore(t.subscribe,fe.useCallback(()=>e(t.getState()),[t,e]),fe.useCallback(()=>e(t.getInitialState()),[t,e]));return fe.useDebugValue(n),n}const Zq=t=>{const e=Yq(t),n=r=>Qq(e,r);return Object.assign(n,e),n},Jq=t=>Zq;function eX(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Xy=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Xy(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Xy(r)(n)}}}},tX=(t,e)=>(n,r,i)=>{let s={storage:eX(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},a=!1;const o=new Set,c=new Set;let u=s.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const d=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,v)=>(h(y,v),d());const f=t((...y)=>(n(...y),d()),r,i);i.getInitialState=()=>f;let p;const x=()=>{var y,v;if(!u)return;a=!1,o.forEach(m=>{var b;return m((b=r())!=null?b:f)});const g=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(y=r())!=null?y:f))||void 0;return Xy(u.getItem.bind(u))(s.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==s.version){if(s.migrate){const b=s.migrate(m.state,m.version);return b instanceof Promise?b.then(S=>[!0,S]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var b;const[S,M]=m;if(p=s.merge(M,(b=r())!=null?b:f),n(p,!0),S)return d()}).then(()=>{g==null||g(p,void 0),p=r(),a=!0,c.forEach(m=>m(p))}).catch(m=>{g==null||g(void 0,m)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||x(),p||f},nX=tX,OA={naruto:{name:"Naruto",id:"naruto",category:"action",description:"Vibrant orange and blue with ninja energy",colors:{primary:"12 85% 55%",secondary:"200 85% 50%",accent:"50 95% 60%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #FF6B35 0%, #FF8C42 100%)",accent:"linear-gradient(135deg, #004E89 0%, #0081CF 100%)"},shadow:"0 8px 30px -5px rgba(255, 107, 53, 0.3)",borderStyle:"rounded",patterns:{background:"radial-gradient(circle at 20% 50%, rgba(255, 107, 53, 0.1) 0%, transparent 50%)",overlay:"none"},effects:{glow:!0,glitch:!1,blur:!1},typography:{fontFamily:"'Segoe UI', sans-serif",textEffect:"shadow"}},demonSlayer:{name:"Demon Slayer",id:"demonSlayer",category:"dark",description:"Deep reds and blacks with dark fantasy vibes",colors:{primary:"0 80% 55%",secondary:"260 70% 45%",accent:"40 95% 65%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #C41E3A 0%, #8B0000 100%)",accent:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)"},shadow:"0 8px 30px -5px rgba(196, 30, 58, 0.3)",borderStyle:"sharp",patterns:{background:"repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(196, 30, 58, 0.05) 2px, rgba(196, 30, 58, 0.05) 4px)",overlay:"rgba(0, 0, 0, 0.03)"},effects:{glow:!1,glitch:!0,blur:!1},typography:{fontFamily:"'Segoe UI', sans-serif",textEffect:"outline"}},myHeroAcademia:{name:"My Hero Academia",id:"myHeroAcademia",category:"action",description:"Energetic red, white and hero vibes",colors:{primary:"354 100% 50%",secondary:"200 90% 50%",accent:"45 100% 55%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #D81828 0%, #FF0000 100%)",accent:"linear-gradient(135deg, #00A8FF 0%, #0080FF 100%)"},shadow:"0 8px 30px -5px rgba(216, 24, 40, 0.3)",borderStyle:"solid",patterns:{background:"linear-gradient(90deg, rgba(216, 24, 40, 0.05) 1px, transparent 1px), linear-gradient(rgba(216, 24, 40, 0.05) 1px, transparent 1px)",overlay:"none"},effects:{glow:!0,glitch:!1,blur:!1},typography:{fontFamily:"'Arial', sans-serif",textEffect:"shadow"}},attackOnTitan:{name:"Attack on Titan",id:"attackOnTitan",category:"dark",description:"Dark grays, greens, and tactical themes",colors:{primary:"120 40% 40%",secondary:"30 30% 40%",accent:"50 90% 60%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #2D5016 0%, #4A7023 100%)",accent:"linear-gradient(135deg, #3A3A3A 0%, #5A5A5A 100%)"},shadow:"0 8px 30px -5px rgba(45, 80, 22, 0.3)",borderStyle:"double",patterns:{background:"repeating-conic-gradient(from 45deg at 20% 50%, transparent 0deg 90deg, rgba(45, 80, 22, 0.05) 90deg 180deg)",overlay:"rgba(0, 0, 0, 0.02)"},effects:{glow:!1,glitch:!1,blur:!1},typography:{fontFamily:"'Courier New', monospace",textEffect:"none"}},jujutsuKaisen:{name:"Jujutsu Kaisen",id:"jujutsuKaisen",category:"supernatural",description:"Mystical purple and pink with supernatural feel",colors:{primary:"270 70% 45%",secondary:"340 85% 55%",accent:"50 95% 65%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #8B3A8B 0%, #C946EF 100%)",accent:"linear-gradient(135deg, #1a0033 0%, #2d004d 100%)"},shadow:"0 8px 30px -5px rgba(201, 70, 239, 0.3)",borderStyle:"dashed",patterns:{background:"repeating-linear-gradient(90deg, transparent, transparent 35px, rgba(201, 70, 239, 0.08) 35px, rgba(201, 70, 239, 0.08) 70px)",overlay:"radial-gradient(circle at 50% 50%, rgba(201, 70, 239, 0.05) 0%, transparent 70%)"},effects:{glow:!0,glitch:!0,blur:!1},typography:{fontFamily:"'Georgia', serif",textEffect:"shadow"}},dragonBall:{name:"Dragon Ball",id:"dragonBall",category:"adventure",description:"Bright orange, blue with classic adventure feel",colors:{primary:"25 95% 55%",secondary:"200 100% 50%",accent:"60 100% 50%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #FF6600 0%, #FFAA00 100%)",accent:"linear-gradient(135deg, #0066FF 0%, #00CCFF 100%)"},shadow:"0 8px 30px -5px rgba(255, 102, 0, 0.3)",borderStyle:"rounded",patterns:{background:"radial-gradient(circle at 30% 30%, rgba(255, 102, 0, 0.12) 0%, transparent 40%), radial-gradient(circle at 70% 70%, rgba(0, 102, 255, 0.12) 0%, transparent 40%)",overlay:"none"},effects:{glow:!0,glitch:!1,blur:!1},typography:{fontFamily:"'Comic Sans MS', cursive",textEffect:"shadow"}},onepiece:{name:"One Piece",id:"onepiece",category:"adventure",description:"Bold reds and blues with pirate adventure energy",colors:{primary:"0 100% 55%",secondary:"210 100% 50%",accent:"50 100% 50%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #FF0000 0%, #FF4444 100%)",accent:"linear-gradient(135deg, #0033AA 0%, #004488 100%)"},shadow:"0 8px 30px -5px rgba(255, 0, 0, 0.3)",borderStyle:"solid",patterns:{background:"repeating-linear-gradient(45deg, #FFFAF0 0px, #FFFAF0 10px, rgba(255, 0, 0, 0.08) 10px, rgba(255, 0, 0, 0.08) 20px)",overlay:"none"},effects:{glow:!1,glitch:!1,blur:!1},typography:{fontFamily:"'Arial Black', sans-serif",textEffect:"shadow"}},tokyoGhoul:{name:"Tokyo Ghoul",id:"tokyoGhoul",category:"dark",description:"Dark reds and blacks with dark urban aesthetic",colors:{primary:"0 90% 35%",secondary:"0 0% 20%",accent:"0 100% 50%",background:"35 100% 98%",foreground:"25 30% 20%",card:"0 0% 100%",muted:"35 30% 92%"},gradients:{main:"linear-gradient(135deg, #660000 0%, #990000 100%)",accent:"linear-gradient(135deg, #1a1a1a 0%, #333333 100%)"},shadow:"0 8px 30px -5px rgba(102, 0, 0, 0.3)",borderStyle:"sharp",patterns:{background:"repeating-linear-gradient(0deg, rgba(102, 0, 0, 0.08) 0px, rgba(102, 0, 0, 0.08) 2px, transparent 2px, transparent 4px)",overlay:"rgba(0, 0, 0, 0.08)"},effects:{glow:!1,glitch:!0,blur:!0},typography:{fontFamily:"'Impact', sans-serif",textEffect:"outline"}}},rX=OA.naruto,BA=Jq()(nX(t=>({currentTheme:rX,setTheme:e=>{const n=OA[e];n&&(t({currentTheme:n}),Yy(n))},applyTheme:e=>{t({currentTheme:e}),Yy(e)}}),{name:"anime-theme-store"}));function Yy(t){const e=document.documentElement;e.style.setProperty("--primary",t.colors.primary),e.style.setProperty("--secondary",t.colors.secondary),e.style.setProperty("--accent",t.colors.accent),e.style.setProperty("--background",t.colors.background),e.style.setProperty("--foreground",t.colors.foreground),e.style.setProperty("--card",t.colors.card),e.style.setProperty("--muted",t.colors.muted),e.style.setProperty("--gradient-main",t.gradients.main),e.style.setProperty("--gradient-accent",t.gradients.accent),e.style.setProperty("--shadow-theme",t.shadow),e.style.setProperty("--pattern-background",t.patterns.background||"none"),e.style.setProperty("--pattern-overlay",t.patterns.overlay||"none"),document.body.classList.remove("anime-border-rounded","anime-border-sharp","anime-border-dashed","anime-border-double"),document.body.classList.add(`anime-border-${t.borderStyle}`),t.effects.glow?document.body.classList.add("theme-glow"):document.body.classList.remove("theme-glow"),t.effects.glitch?document.body.classList.add("theme-glitch"):document.body.classList.remove("theme-glitch"),t.effects.blur?document.body.classList.add("theme-blur"):document.body.classList.remove("theme-blur"),document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(n=>{n.classList.remove("anime-text-shadow","anime-text-outline"),t.typography.textEffect==="shadow"?n.classList.add("anime-text-shadow"):t.typography.textEffect==="outline"&&n.classList.add("anime-text-outline")})}function iX(){const t=BA.getState();Yy(t.currentTheme)}const sX=({characterId:t="tanjiro",opacity:e=.3,scale:n=1.2,position:r="right",animate:i=!0})=>{const[s,a]=_.useState(Ct[t]||Ct.tanjiro),[o,c]=_.useState(!1),{currentTheme:u}=BA();return _.useEffect(()=>{t&&Ct[t]&&(a(Ct[t]),c(!1))},[t]),s.imageUrl?l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:e},transition:{duration:.8},className:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none overflow-hidden",style:{zIndex:1,width:"100vw",height:"100vh",background:`linear-gradient(135deg, ${s.color}20 0%, ${s.color}40 50%, transparent 100%)`},children:[s.imageUrl&&l.jsx(R.img,{src:s.imageUrl,alt:s.name,animate:i?{y:[0,-15,0]}:{},transition:i?{duration:6,repeat:1/0,repeatType:"loop"}:{},className:"w-full h-full object-cover object-bottom",style:{opacity:o?e:0,filter:`drop-shadow(0 10px 30px hsla(${u.colors.primary}, 0.4))`,transform:`scale(${n})`,transformOrigin:"bottom center"},loading:"eager",onLoad:()=>c(!0),onError:d=>{console.error(`Failed to load image for ${s.name}:`,s.imageUrl,d),c(!1)}}),l.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to left, 
            ${`hsla(${u.colors.background}, 1)`} 0%,
            ${`hsla(${u.colors.background}, 0.8)`} 30%,
            ${`hsla(${u.colors.background}, 0.5)`} 60%,
            transparent 100%)`,pointerEvents:"none"}})]}):null},aX=[{id:1,name:"Vegetable Valley Rescue",description:"Help the farmers save the vegetable crops from decay",reward:100,difficulty:"Easy",completed:!1},{id:2,name:"Protein Peak Challenge",description:"Climb the mountain and learn about protein sources",reward:250,difficulty:"Medium",completed:!1},{id:3,name:"Sugar Swamp Mystery",description:"Discover why excessive sugar harms your health",reward:300,difficulty:"Hard",completed:!1},{id:4,name:"Hydration Haven",description:"Restore the water kingdom and learn about hydration",reward:150,difficulty:"Easy",completed:!1}],oX=({onBack:t})=>{Wn();const[e,n]=_.useState(1),[r,i]=_.useState(0),[s,a]=_.useState(null),[o,c]=_.useState(aX),u=f=>{const p=o.find(x=>x.id===f);p&&!p.completed&&(i(x=>x+p.reward),r+p.reward>=e*500&&(n(x=>x+1),i(0)),c(x=>x.map(y=>y.id===f?{...y,completed:!0}:y)),a(null))},d=e*500,h=r/d*100;return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsxs("h2",{className:"text-3xl font-bold text-purple-600 flex items-center gap-2",children:[l.jsx(PL,{className:"w-8 h-8"}),"Shokuiku Saga RPG"]})}),l.jsxs(pt,{onClick:t,variant:"outline",size:"sm",children:[l.jsx(hu,{className:"w-4 h-4"})," Back"]})]}),l.jsx(Gt,{className:"p-4 bg-gradient-to-r from-purple-100 to-pink-100",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"font-bold",children:["Level: ",e]}),l.jsxs("span",{children:[" XP: ",r,"/",d]})]}),l.jsx("div",{className:"bg-gray-300 rounded-full h-4 overflow-hidden",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5}})})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(IC,{className:"w-5 h-5"}),"Available Quests"]}),l.jsx("div",{className:"grid gap-3",children:o.map(f=>l.jsx(R.div,{whileHover:{scale:1.02},onClick:()=>a(f.id),className:`p-4 rounded-lg cursor-pointer border-2 transition-all ${s===f.id?"border-purple-500 bg-purple-50":"border-gray-200 bg-white hover:border-purple-300"} ${f.completed?"opacity-50":""}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-lg",children:f.name}),l.jsx("p",{className:"text-sm text-gray-600",children:f.description}),l.jsxs("div",{className:"flex gap-3 mt-2",children:[l.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${f.difficulty==="Easy"?"bg-green-200 text-green-700":f.difficulty==="Medium"?"bg-yellow-200 text-yellow-700":"bg-red-200 text-red-700"}`,children:f.difficulty}),l.jsxs("span",{className:"text-xs font-semibold px-2 py-1 bg-blue-200 text-blue-700 rounded",children:["+",f.reward," XP"]})]})]}),f.completed&&l.jsx("span",{className:"text-2xl",children:""})]})},f.id))})]}),s&&l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-blue-50 rounded-lg border-2 border-blue-300",children:[l.jsx("p",{className:"mb-4 text-sm text-gray-700",children:"Complete this quest to learn valuable nutrition facts and earn XP!"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(pt,{onClick:()=>a(null),variant:"outline",children:"Cancel"}),l.jsx(pt,{onClick:()=>u(s),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Complete Quest"})]})]}),l.jsxs(Gt,{className:"p-4 bg-gradient-to-r from-blue-100 to-purple-100",children:[l.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 mb-3",children:[l.jsx(sa,{className:"w-5 h-5"}),"Your Progress"]}),l.jsxs("p",{className:"text-sm text-gray-700",children:["Total Quests Completed: ",o.filter(f=>f.completed).length,"/",o.length]}),l.jsxs("p",{className:"text-sm text-gray-700",children:["Total XP Earned: ",r+(e-1)*500]})]})]})},Bi=[{id:1,name:"Grease Oni",health:100,question:"What happens to your arteries when you eat too much fried food?",options:["They get clogged with plaque","They become stronger","They shrink"],correct:0,reward:200,image:""},{id:2,name:"Processed Phantom",health:80,question:"Which of these is NOT a benefit of eating whole grains?",options:["Makes you tired","Provides fiber","Helps digestion"],correct:0,reward:250,image:""},{id:3,name:"Sugar Sorcerer",health:90,question:"How much added sugar should teens consume per day?",options:["Less than 25 grams","100 grams","Unlimited"],correct:0,reward:200,image:""},{id:4,name:"Soda Specter",health:70,question:"Why is drinking too much soda bad for your teeth?",options:["Acid erodes tooth enamel","It makes teeth whiter","It helps with calcium"],correct:0,reward:180,image:""}],lX=({onBack:t})=>{var h,f,p,x,y;Wn();const[e,n]=_.useState(null),[r,i]=_.useState(0),[s,a]=_.useState([]),[o,c]=_.useState([]),u=v=>{const g=Bi.find(m=>m.id===v);g&&(n(v),i(g.health),a([" Battle Started! Answer correctly to defeat the boss!"]))},d=v=>{const g=Bi.find(b=>b.id===e);if(!g)return;if(v===g.correct){const b=r-25;i(b),a(S=>[...S," Correct! Your sword strikes true! "]),b<=0&&(a(S=>[...S,` VICTORY! ${g.name} defeated! +${g.reward} XP earned!`]),c(S=>[...S,e]),setTimeout(()=>{n(null)},2e3))}else a(b=>[...b,` Wrong! The boss laughs at you! ${g.name} counterattacks!`]),i(b=>Math.max(0,b-10)),setTimeout(()=>{n(null)},2e3)};return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-3xl font-bold text-red-600 flex items-center gap-2",children:[l.jsx(LC,{className:"w-8 h-8"}),"Boss Battle Challenges"]}),l.jsxs(pt,{onClick:t,variant:"outline",size:"sm",children:[l.jsx(hu,{className:"w-4 h-4"})," Back"]})]}),e?l.jsxs(R.div,{initial:{scale:.8},animate:{scale:1},className:"space-y-6",children:[l.jsx(Gt,{className:"p-4 bg-red-100 border-red-300",children:l.jsxs("div",{className:"flex items-center justify-center mb-4",children:[l.jsx("span",{className:"text-6xl",children:(h=Bi.find(v=>v.id===e))==null?void 0:h.image}),l.jsxs("div",{className:"ml-6 flex-1",children:[l.jsx("p",{className:"font-bold text-lg",children:(f=Bi.find(v=>v.id===e))==null?void 0:f.name}),l.jsx("div",{className:"bg-gray-300 rounded-full h-6 overflow-hidden",children:l.jsx(R.div,{className:"h-full bg-red-500",initial:{width:"100%"},animate:{width:`${Math.max(0,r/((p=Bi.find(v=>v.id===e))==null?void 0:p.health)*100)}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-sm font-semibold",children:[Math.max(0,r)," HP"]})]})]})}),l.jsxs(Gt,{className:"p-4 bg-blue-50",children:[l.jsx("p",{className:"text-lg font-bold mb-4",children:(x=Bi.find(v=>v.id===e))==null?void 0:x.question}),l.jsx("div",{className:"space-y-2",children:(y=Bi.find(v=>v.id===e))==null?void 0:y.options.map((v,g)=>l.jsxs(pt,{onClick:()=>d(g),className:"w-full justify-start text-left",variant:"outline",children:[String.fromCharCode(65+g),". ",v]},g))})]}),l.jsx(Gt,{className:"p-4 bg-yellow-50 max-h-32 overflow-y-auto",children:s.map((v,g)=>l.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm font-semibold text-gray-700",children:v},g))})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Bi.map(v=>l.jsx(R.div,{whileHover:{scale:1.05},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${o.includes(v.id)?"border-green-300 bg-green-50":"border-red-300 bg-red-50 hover:border-red-500"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-5xl mb-2",children:v.image}),l.jsx("p",{className:"text-xl font-bold text-red-700",children:v.name}),l.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[l.jsx(Ef,{className:"inline w-4 h-4"})," ",v.health," HP"]}),o.includes(v.id)?l.jsx("div",{className:"text-green-700 font-bold",children:" DEFEATED"}):l.jsx(pt,{onClick:()=>u(v.id),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Battle Now"})]})},v.id))})]})},cX=[{name:"Grilled Chicken",protein:35,carbs:0,fat:5,fiber:0,cal:180},{name:"Brown Rice",protein:4,carbs:45,fat:1,fiber:3,cal:215},{name:"Broccoli",protein:3,carbs:7,fat:0,fiber:2,cal:34},{name:"Salmon",protein:25,carbs:0,fat:12,fiber:0,cal:206},{name:"Sweet Potato",protein:2,carbs:24,fat:0,fiber:3,cal:103},{name:"Almonds",protein:6,carbs:6,fat:14,fiber:3,cal:164},{name:"Eggs",protein:6,carbs:1,fat:5,fiber:0,cal:78},{name:"Spinach",protein:3,carbs:3,fat:0,fiber:2,cal:23}],uX=({onBack:t})=>{Wn();const[e,n]=_.useState([]),[r,i]=_.useState({protein:0,carbs:0,fat:0,fiber:0,calories:0}),[s,a]=_.useState(0),o=f=>{n([...e,f]);const p={protein:r.protein+f.protein,carbs:r.carbs+f.carbs,fat:r.fat+f.fat,fiber:r.fiber+f.fiber,calories:r.calories+f.cal};i(p),u(p)},c=f=>{const p=e[f],x=e.filter((v,g)=>g!==f);n(x);const y={protein:r.protein-p.protein,carbs:r.carbs-p.carbs,fat:r.fat-p.fat,fiber:r.fiber-p.fiber,calories:r.calories-p.cal};i(y),u(y)},u=f=>{let p=0;f.protein>=40&&f.protein<=60&&(p+=25),f.carbs>=250&&f.carbs<=350&&(p+=25),f.fat>=40&&f.fat<=70&&(p+=25),f.fiber>=25&&f.fiber<=35&&(p+=25),a(p)},d=()=>{n([]),i({protein:0,carbs:0,fat:0,fiber:0,calories:0}),a(0)},h=(f,p)=>Math.min(f/p*100,150);return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-3xl font-bold text-orange-600 flex items-center gap-2",children:[l.jsx(AC,{className:"w-8 h-8"}),"Meal Mastery Simulator"]}),l.jsxs(pt,{onClick:t,variant:"outline",size:"sm",children:[l.jsx(hu,{className:"w-4 h-4"})," Back"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs(Gt,{className:"p-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:"Available Foods"}),l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:cX.map((f,p)=>l.jsxs(pt,{onClick:()=>o(f),className:"w-full justify-start text-left bg-blue-100 hover:bg-blue-200 text-black",children:[f.name,l.jsxs("span",{className:"text-xs ml-auto",children:["+",f.cal,"cal"]})]},p))})]})}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs(Gt,{className:"p-4 mb-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-4",children:"Nutrition Balance"}),l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[{key:"protein",icon:"",target:50},{key:"carbs",icon:"",target:300},{key:"fat",icon:"",target:50},{key:"fiber",icon:"",target:30}].map(({key:f,icon:p,target:x})=>{const y=r[f],v=h(y,x),g=y>=x*.8&&y<=x*1.2;return l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("p",{className:"flex items-center gap-2 font-semibold text-sm",children:[l.jsx("span",{className:"text-2xl",children:p}),f.charAt(0).toUpperCase()+f.slice(1)]}),l.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[Math.round(y),"/",x,f==="calories"?"":"g"]}),l.jsx("div",{className:"bg-gray-300 rounded-full h-2 mt-2 overflow-hidden",children:l.jsx(R.div,{className:`h-full ${g?"bg-green-500":"bg-orange-500"}`,initial:{width:0},animate:{width:`${Math.min(v,100)}%`}})}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g?" Perfect!":v<80?" Need more":" Too much"})]},f)})}),l.jsxs(Gt,{className:`p-3 text-center mb-4 ${s===100?"bg-green-100":"bg-yellow-100"}`,children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Balance Score"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:[s,"/100"]})]})]}),l.jsxs(Gt,{className:"p-4",children:[l.jsx("h3",{className:"font-bold text-lg mb-3",children:"Your Meal"}),e.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"Click foods to add to your meal"}):l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-3",children:e.map((f,p)=>l.jsxs(R.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[l.jsx("span",{className:"text-sm font-semibold",children:f.name}),l.jsx(pt,{onClick:()=>c(p),size:"sm",variant:"destructive",className:"text-xs",children:"Remove"})]},p))}),e.length>0&&l.jsx(pt,{onClick:d,className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:"Reset Meal"})]})]})]})]})},dX=({onClose:t})=>l.jsxs("div",{className:"fixed inset-0 bg-black z-50 overflow-y-auto",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx(R.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-10",children:""}),l.jsx(R.div,{animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-10 text-5xl opacity-10",children:""}),l.jsx(R.div,{animate:{float:[0,-20,0]},transition:{duration:4,repeat:1/0},className:"absolute top-1/3 right-1/4 text-4xl opacity-20",children:""}),l.jsx(R.div,{animate:{float:[0,20,0]},transition:{duration:5,repeat:1/0},className:"absolute bottom-1/3 left-1/4 text-4xl opacity-15",children:""})]}),l.jsx("button",{onClick:t,className:"fixed top-6 right-6 z-50 bg-white/10 hover:bg-white/20 rounded-full p-2 transition-colors",children:l.jsx(fu,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-6",children:l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-2xl w-full",children:l.jsxs("div",{className:"space-y-12 text-white",children:[l.jsxs("div",{className:"text-center space-y-4 border-b border-white/20 pb-8",children:[l.jsx(R.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-6xl",children:""}),l.jsx("h1",{className:"text-5xl md:text-6xl font-display font-bold",children:"About EatXP"})]}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-6 text-lg leading-relaxed",children:[l.jsx("p",{children:"EatXP is a fusion of anime and food education, designed to make learning about food fun, interactive, and unforgettable. Step into an anime-inspired world where cooking, nutrition, and culture come alive through gamified challenges, quests, and rewards."}),l.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-white/20",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-xl mb-1",children:"Anime Magic"}),l.jsx("p",{className:"text-white/80",children:"Explore vibrant characters and stories that bring food education to life."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-xl mb-1",children:"Learn & Play"}),l.jsx("p",{className:"text-white/80",children:"Discover recipes, nutrition tips, and food facts while leveling up your skills."})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("span",{className:"text-3xl",children:""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-xl mb-1",children:"Gamified Fun"}),l.jsx("p",{className:"text-white/80",children:"Complete quests, earn rewards, and progress through exciting food adventures."})]})]})]}),l.jsx("p",{className:"text-white/90 italic",children:"EatXP isn't just an appit's your journey to eat smarter, cook better, and enjoy food education in the most entertaining way possible."})]}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"border-t border-white/20 pt-8 space-y-6",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx(R.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:2,repeat:1/0},className:"text-5xl inline-block",children:""}),l.jsx("h2",{className:"text-4xl font-display font-bold",children:"Meet the Founders"})]}),l.jsxs("div",{className:"space-y-4 text-white/90",children:[l.jsxs("p",{children:["Hi! We're ",l.jsx("span",{className:"font-bold text-white",children:"Sangamithra"})," and ",l.jsx("span",{className:"font-bold text-white",children:"Akshaya"}),", two grade 9 students who created EatXP."]}),l.jsx("p",{children:"We started EatXP because we love learning about food and wanted to share that knowledge in a way that feels fun and exciting. As students ourselves, we know that learning can sometimes feel boring, so we thought: why not make food education playful?"}),l.jsx("p",{children:"Anime is something many young people enjoy, so even though we're not anime experts, we decided to use its colorful style to make EatXP more relatable. By combining food education with anime-inspired design and gamified challenges, we built an app that turns learning into an adventure."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 pt-4",children:[l.jsxs(R.div,{whileHover:{scale:1.05},className:"bg-white/5 rounded-xl p-4 border border-white/10 hover:border-white/30 transition-colors",children:[l.jsx("p",{className:"text-2xl mb-2",children:""}),l.jsx("p",{className:"font-bold text-lg mb-2",children:"Akshaya Srinivasan"}),l.jsx("p",{className:"text-white/80 text-sm",children:"I focus on the food education sideexploring nutrition, health, and how food impacts our lives. I love understanding the science behind what we eat."})]}),l.jsxs(R.div,{whileHover:{scale:1.05},className:"bg-white/5 rounded-xl p-4 border border-white/10 hover:border-white/30 transition-colors",children:[l.jsx("p",{className:"text-2xl mb-2",children:""}),l.jsx("p",{className:"font-bold text-lg mb-2",children:"Sangamithra Srikandan"}),l.jsx("p",{className:"text-white/80 text-sm",children:"I bring in the creative side and the conceptmaking sure EatXP feels engaging, interactive, informative, and connected to youth trends."})]})]}),l.jsx("p",{className:"text-center text-white/90 pt-4",children:"Together, we want EatXP to inspire people to eat smarter, learn better, and enjoy food education in a way that feels fresh, fun, and made for our generation."})]}),l.jsxs("div",{className:"text-center text-4xl space-x-4 pt-4",children:[l.jsx(R.span,{animate:{rotate:[0,20,-20,0]},transition:{duration:2,repeat:1/0},className:"inline-block",children:""}),l.jsx(R.span,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"inline-block",children:""}),l.jsx(R.span,{animate:{rotate:[0,-20,20,0]},transition:{duration:2,repeat:1/0},className:"inline-block",children:""})]})]})})})]}),hX=["Benefits of Vegetables","Protein Sources","Healthy Snacks","Meal Planning","Food Groups","Hydration Importance"],fX=[{title:"Introduction",description:"Meet the main character learning about food"},{title:"The Challenge",description:"A nutrition problem to solve"},{title:"Discovery",description:"Learning the healthy solution"},{title:"Victory",description:"Success through good nutrition choices"}],pX=({onBack:t})=>{Wn();const[e,n]=_.useState(null),[r,i]=_.useState([]),[s,a]=_.useState(""),[o,c]=_.useState([]),[u,d]=_.useState(!1),h=()=>{if(s.trim()&&e&&r.length>0){const p={title:s,lesson:e,panels:r};c([...o,p]),a(""),n(null),i([]),d(!1)}},f=p=>{r.includes(p)?i(r.filter(x=>x!==p)):i([...r,p])};return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-3xl font-bold text-pink-600 flex items-center gap-2",children:[l.jsx(du,{className:"w-8 h-8"}),"Anime Manga Builder"]}),l.jsxs(pt,{onClick:t,variant:"outline",size:"sm",children:[l.jsx(hu,{className:"w-4 h-4"})," Back"]})]}),u?l.jsx("div",{className:"space-y-6",children:l.jsxs(Gt,{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Create Your Food Manga"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Your Manga Title"}),l.jsx("input",{type:"text",placeholder:"e.g., The Quest for Healthy Eating",value:s,onChange:p=>a(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-pink-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Choose a Lesson Topic"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:hX.map(p=>l.jsx("button",{onClick:()=>n(p),className:`p-3 rounded-lg font-semibold transition-all ${e===p?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p},p))})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Select Story Panels (min 2)"}),l.jsx("div",{className:"space-y-3",children:fX.map(p=>l.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-pink-300 hover:bg-pink-50 transition-all",children:[l.jsx("input",{type:"checkbox",checked:r.includes(p.title),onChange:()=>f(p.title),className:"w-4 h-4 rounded mr-3"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:p.title}),l.jsx("p",{className:"text-sm text-gray-600",children:p.description})]})]},p.title))})]}),s&&e&&r.length>0&&l.jsx(Gt,{className:"p-4 bg-blue-50 mb-4 border-blue-300",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("strong",{children:"Preview:"}),' Your manga"',s,'" will teach about'," ",e," with ",r.length," story panels!"]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(pt,{onClick:()=>{d(!1),a(""),n(null),i([])},variant:"outline",children:"Cancel"}),l.jsx(pt,{onClick:h,disabled:!s.trim()||!e||r.length<2,className:"bg-pink-600 hover:bg-pink-700 text-white disabled:opacity-50",children:"Create Manga"})]})]})}):l.jsxs("div",{className:"space-y-6",children:[o.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Your Created Manga"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((p,x)=>l.jsxs(R.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"p-4 border-2 border-pink-300 rounded-lg bg-pink-50",children:[l.jsx("p",{className:"text-lg font-bold text-pink-700",children:p.title}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Lesson: ",p.lesson]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:p.panels.map((y,v)=>l.jsx("span",{className:"text-xs bg-pink-200 text-pink-800 px-2 py-1 rounded",children:y},v))})]},x))})]}),l.jsxs(pt,{onClick:()=>d(!0),className:"w-full bg-pink-600 hover:bg-pink-700 text-white py-6 text-lg",children:[l.jsx(vo,{className:"w-5 h-5 mr-2"}),"Create New Manga Story"]})]})]})},MS=[{name:"Try New Food",description:"Taste something you've never eaten before",reward:50,icon:""},{name:"Log Your Meals",description:"Record what you eat for a whole day",reward:75,icon:""},{name:"Cook a Recipe",description:"Prepare a healthy recipe from scratch",reward:100,icon:""},{name:"Drink Water Challenge",description:"Drink 8 glasses of water in a day",reward:50,icon:""},{name:"Exercise Daily",description:"Do 30 minutes of physical activity",reward:60,icon:""},{name:"Garden Growing",description:"Grow vegetables in a garden or pot",reward:120,icon:""}],mX=({onBack:t})=>{Wn();const[e,n]=_.useState([]),[r,i]=_.useState(0),[s,a]=_.useState(1),[o,c]=_.useState(null),u=f=>{const p=MS.find(v=>v.name===f);if(!p)return;const x={id:Date.now(),type:f,completed:!0,date:new Date().toLocaleDateString(),xpGained:p.reward};n([...e,x]);const y=r+p.reward;i(y),y>=s*1e3&&a(s+1),c(null)},d=e.filter(f=>f.date===new Date().toLocaleDateString()),h=e.filter(f=>{const p=new Date(f.date);return(new Date().getTime()-p.getTime())/(1e3*60*60*24)<7});return l.jsxs("div",{className:"space-y-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-2",children:[l.jsx(jh,{className:"w-8 h-8"}),"Real-Life Missions"]}),l.jsxs(pt,{onClick:t,variant:"outline",size:"sm",children:[l.jsx(hu,{className:"w-4 h-4"})," Back"]})]}),l.jsxs(Gt,{className:"p-6 bg-gradient-to-r from-yellow-100 to-orange-100",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:s}),l.jsx("p",{className:"text-sm text-gray-600",children:"Character Level"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-orange-700",children:r}),l.jsx("p",{className:"text-sm text-gray-600",children:"Total XP"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:d.length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Today's Missions Completed"})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["XP to Next Level: ",s*1e3-r]}),l.jsx("div",{className:"bg-gray-300 rounded-full h-4 overflow-hidden",children:l.jsx(R.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-500",initial:{width:0},animate:{width:`${Math.min(r/(s*1e3)*100,100)}%`},transition:{duration:.5}})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[l.jsx(vo,{className:"w-5 h-5"}),"Available Missions"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:MS.map(f=>l.jsxs(R.div,{whileHover:{scale:1.02},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${o===f.name?"border-yellow-500 bg-yellow-50":"border-gray-200 bg-white hover:border-yellow-300"}`,onClick:()=>c(f.name),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-4xl",children:f.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-bold text-lg",children:f.name}),l.jsx("p",{className:"text-sm text-gray-600",children:f.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx(jh,{className:"w-4 h-4 text-yellow-500"}),l.jsxs("span",{className:"font-semibold text-yellow-600",children:["+",f.reward," XP"]})]})]})]}),o===f.name&&l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 flex gap-2",children:[l.jsx(pt,{onClick:p=>{p.stopPropagation(),c(null)},variant:"outline",size:"sm",children:"Cancel"}),l.jsx(pt,{onClick:p=>{p.stopPropagation(),u(f.name)},className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white",size:"sm",children:"Complete Mission"})]})]},f.name))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(Gt,{className:"p-4",children:[l.jsx("h4",{className:"font-bold text-lg mb-3",children:"Today's Completed"}),d.length===0?l.jsx("p",{className:"text-gray-500 text-sm",children:"No missions completed today"}):l.jsx("div",{className:"space-y-2",children:d.map(f=>l.jsxs(R.div,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[l.jsx("span",{className:"text-sm font-semibold",children:f.type}),l.jsxs("span",{className:"text-xs font-bold text-green-600",children:["+",f.xpGained," XP"]})]},f.id))})]}),l.jsxs(Gt,{className:"p-4",children:[l.jsx("h4",{className:"font-bold text-lg mb-3",children:"This Week"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:h.length}),l.jsx("p",{className:"text-sm text-gray-600",children:"missions completed"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[h.reduce((f,p)=>f+p.xpGained,0)," XP earned"]})]})]})]})},gX={carrot:{name:"Carrot",emoji:"",scientificName:"Daucus carota subsp. sativus",category:"Root Vegetable",seasonality:["Summer","Fall","Winter"],nutrition:{calories:41,protein:.9,fiber:2.8,vitamins:["Vitamin A","Vitamin K","Vitamin C"],minerals:["Potassium","Manganese"],benefits:["Rich in beta-carotene for vision and immunity","Promotes healthy skin and glowing complexion","Supports bone health"]},animeTraits:{trait:"Vision Guardian",power:"Ultra Vision - See through darkness and read like a ninja!"},funFact:"Carrots were originally purple, not orange! Orange carrots were cultivated in the Netherlands in the 1600s.",culturalUses:{dishes:["Carrot cake (Western)","Gajar ka halwa (Indian sweet)","Stir-fries (Asian)","Carrot soup (European)"],traditions:["Thanksgiving staple in North America","Used in Diwali feasts in India","Traditional Easter dishes in Europe"],cookingTips:["Steaming keeps more nutrients than boiling","Roasting brings out natural sweetness","Raw carrots are crunchy and great for snacks","Pair with olive oil to boost beta-carotene absorption"]},sustainability:"Carrots are nutritionally dense and available year-round. Eating seasonal carrots reduces transportation impact. Locally grown carrots are fresher and cheaper!",xpReward:50,challenge:{title:"Carrot Vision Quest",description:"Eat carrots twice this week and unlock the 'Vision Guardian' badge!",requirement:2,duration:"7 days"},recipe:{title:"Honey Roasted Carrots",emoji:"",description:"Crispy, sweet roasted carrots that are super delicious!",steps:["Wash and peel 5 carrots, cut into sticks","Toss with 1 tbsp olive oil and 1 tbsp honey","Sprinkle with cinnamon and salt","Roast at 400F for 25 minutes until golden","Enjoy while warm with a squeeze of lemon!"]},trivia:{question:"What makes carrots orange?",options:["Chlorophyll","Beta-carotene","Iron","Carotenoids"],correct:1,explanation:"Beta-carotene is a pigment that your body converts to Vitamin A. It's what gives carrots their orange color and helps you see in the dark!"}},spinach:{name:"Spinach",emoji:"",scientificName:"Spinacia oleracea",category:"Leafy Green",seasonality:["Spring","Fall"],nutrition:{calories:23,protein:2.7,fiber:2.2,vitamins:["Vitamin A","Vitamin K","Folate","Vitamin C"],minerals:["Iron","Manganese","Magnesium"],benefits:["Excellent source of iron for strong muscles","Boosts energy and stamina","Supports brain function and memory"]},animeTraits:{trait:"Muscle Hero",power:"Super Strength - Popeye mode activated! Get stronger with every bite!"},funFact:"Spinach is 91% water! Despite being mostly water, it's loaded with nutrients. The myth about spinach having tons of iron came from a misplaced decimal point in a 1870 study.",culturalUses:{dishes:["Palak paneer (Indian creamy spinach)","Spinach pasta (Italian)","Saag (Indian spiced spinach)","Creamed spinach (American)"],traditions:["Middle Eastern cuisines use spinach in many dishes","Asian stir-fries feature spinach prominently","Mediterranean salads include fresh spinach"],cookingTips:["Raw spinach in salads retains the most nutrients","Light cooking (steaming 1-2 min) maintains texture","Pair with Vitamin C foods to absorb more iron","Avoid overcooking which makes it mushy"]},sustainability:"Spinach grows quickly (30 days!) and uses less water than many vegetables. Spring spinach is most sustainable. Buy local when possible!",xpReward:60,challenge:{title:"Muscle Hero Mission",description:"Eat spinach 3 times and become a Super Strength Hero!",requirement:3,duration:"10 days"},recipe:{title:"Spinach & Cheese Quesadillas",emoji:"",description:"Cheesy, green, and absolutely delicious!",steps:["Wilt 2 cups spinach in a pan until soft","Mix with 1 cup shredded cheese (cheddar or mozzarella)","Place mixture between 2 whole wheat tortillas","Pan-fry both sides until golden and crispy","Cut into triangles and serve with salsa!"]},trivia:{question:"Spinach is what percentage water?",options:["50%","70%","91%","99%"],correct:2,explanation:"Spinach is 91% water, but that 9% is packed with iron, vitamins, and minerals. It's like a nutritional powerhouse in liquid form!"}},broccoli:{name:"Broccoli",emoji:"",scientificName:"Brassica oleracea var. italica",category:"Cruciferous Vegetable",seasonality:["Fall","Winter","Spring"],nutrition:{calories:34,protein:2.8,fiber:2.4,vitamins:["Vitamin C","Vitamin K","Folate"],minerals:["Potassium","Manganese"],benefits:["Boosts immune system with Vitamin C","Contains sulforaphane (cancer-fighting compound)","Promotes healthy digestion"]},animeTraits:{trait:"Immune Shield Hero",power:"Defense Force - Protect your body from getting sick!"},funFact:"Broccoli is a flower! You're eating the unopened flower buds of the broccoli plant. If left alone, they'd bloom into yellow flowers.",culturalUses:{dishes:["Broccoli & cheese casserole (American)","Broccoli stir-fry (Chinese)","Broccoli pasta (Italian)","Roasted broccoli (Mediterranean)"],traditions:["Popular in Asian cuisines for centuries","Part of trendy health food culture","Featured in European holiday meals"],cookingTips:["Steam for 3-5 minutes to keep it crispy and green","Roasting with olive oil brings out natural sweetness","Raw broccoli in salads has maximum nutrients","Save the stems - they're delicious when peeled!"]},sustainability:"Broccoli is very nutritious per calorie. Seasonal broccoli (fall/winter) has the smallest environmental footprint. It regenerates after harvesting!",xpReward:55,challenge:{title:"Immune Shield Challenge",description:"Eat broccoli twice and unlock the 'Defense Hero' badge!",requirement:2,duration:"7 days"},recipe:{title:"Cheesy Broccoli Bites",emoji:"",description:"Crispy, cheesy broccoli that tastes like appetizers!",steps:["Cut 4 cups broccoli into bite-sized florets","Toss with olive oil, salt, and pepper","Sprinkle with parmesan cheese","Roast at 400F for 20 minutes until crispy","Add a drizzle of honey for sweet and savory!"]},trivia:{question:"Broccoli is actually what part of the plant?",options:["Leaves","Unopened flower buds","Roots","Stem"],correct:1,explanation:"You're eating the unopened flower buds! If you left broccoli in the garden, the green florets would open into yellow flowers. That's why it's called the 'crown' of the plant."}},tomato:{name:"Tomato",emoji:"",scientificName:"Solanum lycopersicum",category:"Fruit Vegetable",seasonality:["Summer","Early Fall"],nutrition:{calories:18,protein:.9,fiber:1.5,vitamins:["Vitamin C","Vitamin A","Folate"],minerals:["Potassium","Manganese"],benefits:["Rich in lycopene (antioxidant for heart health)","Supports healthy skin and vision","Low calorie, high nutrient density"]},animeTraits:{trait:"Heart Guardian",power:"Love Aura - Protect your heart and spread joy!"},funFact:"Tomatoes are botanically fruits but legally vegetables! In 1893, the Supreme Court declared them vegetables for tariff purposes.",culturalUses:{dishes:["Pasta sauce (Italian)","Salsa (Mexican)","Tom Yum (Thai)","Gazpacho (Spanish)"],traditions:["La Tomatina (tomato festival) in Spain","Essential in Mediterranean cuisine","Key ingredient in Indian curries"],cookingTips:["Summer tomatoes taste best fresh in salads","Cooking tomatoes releases more lycopene","Store at room temperature to maintain flavor","Heirloom varieties offer unique tastes"]},sustainability:"Summer tomatoes are most sustainable when local. Greenhouse tomatoes in winter have a larger environmental impact. Buy seasonal for best flavor and sustainability!",xpReward:50,challenge:{title:"Tomato Love Quest",description:"Make a fresh tomato dish and earn the 'Garden Fresh' badge!",requirement:1,duration:"7 days"},recipe:{title:"Fresh Tomato Salsa",emoji:"",description:"Chunky, fresh salsa perfect for chips or tacos!",steps:["Dice 3 fresh tomatoes and 1 red onion","Add 1 diced jalapeo (optional for spice)","Mix with cilantro, lime juice, and salt","Let sit for 15 minutes so flavors blend","Serve with tortilla chips - ol!"]},trivia:{question:"Are tomatoes fruits or vegetables?",options:["Fruits","Vegetables","Both","Neither"],correct:2,explanation:"Tomatoes are botanically fruits (they have seeds inside), but the Supreme Court ruled them vegetables for cooking purposes in 1893! So technically, they're both!"}},banana:{name:"Banana",emoji:"",scientificName:"Musa acuminata",category:"Tropical Fruit",seasonality:["Year-round"],nutrition:{calories:105,protein:1.3,fiber:2.6,vitamins:["Vitamin B6","Vitamin C","Folate"],minerals:["Potassium","Manganese"],benefits:["Rich in potassium for heart health and energy","Natural sugars provide quick energy boost","Contains mood-boosting serotonin precursors"]},animeTraits:{trait:"Energy Champion",power:"Vitality Surge - Instant energy boost for adventures!"},funFact:"Bananas are berries, but strawberries aren't! Also, bananas can float in water due to their low density.",culturalUses:{dishes:["Banana splits (American)","Banana curry (South Asian)","Pancakes (Global)"],traditions:["Popular in Caribbean cuisine","Staple in African dishes","Used in Asian desserts"],cookingTips:["Ripe bananas are sweeter and softer","Green bananas have more resistant starch","Blend frozen bananas for nice cream"]},sustainability:"Bananas are available year-round but grown in tropical regions. Fair-trade bananas support farmer livelihoods. Buy organic when possible!",xpReward:40,challenge:{title:"Energy Quest",description:"Eat a banana and feel the energy boost!",requirement:1,duration:"7 days"},recipe:{title:"Peanut Butter Banana Toast",emoji:"",description:"Quick, delicious, and packed with energy!",steps:["Toast whole grain bread until golden","Spread 2 tbsp peanut butter on toast","Slice banana and arrange on top","Drizzle with honey and a pinch of cinnamon","Enjoy immediately!"]},trivia:{question:"Which fruit is technically a berry?",options:["Strawberry","Banana","Raspberry","Blackberry"],correct:1,explanation:"Bananas are berries! Botanically, a berry develops from the ovary of a single flower. Strawberries actually aren't true berries - they're aggregate fruits!"}},apple:{name:"Apple",emoji:"",scientificName:"Malus domestica",category:"Pome Fruit",seasonality:["Fall","Winter","Early Spring"],nutrition:{calories:95,protein:.5,fiber:4.4,vitamins:["Vitamin C","Vitamin K"],minerals:["Potassium","Manganese"],benefits:["High in fiber for healthy digestion","Contains quercetin for brain health","Helps maintain healthy teeth"]},animeTraits:{trait:"Health Guardian",power:"Wellness Shield - Keep you healthy every day!"},funFact:"Apples are part of the rose family! It takes about 36 apples to make one gallon of apple juice.",culturalUses:{dishes:["Apple pie (American)","Apple crumble (British)","Apple salad (Global)"],traditions:["Apple bobbing (Halloween)","Thanksgiving staple","Rosh Hashanah symbol"],cookingTips:["Different varieties have different tastes","Granny Smith for baking, Fuji for eating","Keep apples in the refrigerator to last longer"]},sustainability:"Apples can be stored long-term without refrigeration. Buy local when in season (fall). Supports local orchards!",xpReward:45,challenge:{title:"Apple A Day",description:"Eat an apple daily for a week to stay healthy!",requirement:7,duration:"7 days"},recipe:{title:"Baked Cinnamon Apples",emoji:"",description:"Warm, cozy dessert that's naturally sweet!",steps:["Core 2 apples and place in baking dish","Fill with oats, nuts, and cinnamon","Drizzle with honey","Bake at 375F for 20 minutes","Serve warm with yogurt!"]},trivia:{question:"Apples are part of which plant family?",options:["Citrus","Stone fruit","Rose","Berry"],correct:2,explanation:"Apples belong to the Rosaceae family, the same family as roses, pears, and strawberries!"}},cheese:{name:"Cheese",emoji:"",scientificName:"Lactis coagulatum",category:"Dairy",seasonality:["Year-round"],nutrition:{calories:402,protein:25,fiber:0,vitamins:["Vitamin A","Vitamin B12","Vitamin D"],minerals:["Calcium","Phosphorus","Zinc"],benefits:["Excellent source of calcium for strong bones","High protein for muscle building","Contains probiotics for gut health"]},animeTraits:{trait:"Bone Warrior",power:"Calcium Shield - Build unbreakable bones!"},funFact:"There are over 2,000 varieties of cheese! The oldest known cheese dates back 8,000 years.",culturalUses:{dishes:["Pizza (Italian)","Nachos (Mexican)","Mac and Cheese (American)"],traditions:["Cheese festivals worldwide","Traditional cheesemaking in Europe","Important in Mediterranean diet"],cookingTips:["Softer cheeses melt better","Sharp cheddar has more flavor than mild","Store cheese in the cheese drawer of fridge"]},sustainability:"Look for locally-made cheese from small dairies. Organic cheese comes from grass-fed cows. Supports sustainable farming!",xpReward:50,challenge:{title:"Cheese Challenge",description:"Try a new cheese variety and unlock the 'Cheese Explorer' badge!",requirement:1,duration:"30 days"},recipe:{title:"Cheesy Veggie Quesadilla",emoji:"",description:"Melty, cheesy, and packed with veggies!",steps:["Heat olive oil in a pan","Place tortilla and add shredded cheese + veggies","Top with another tortilla","Cook until golden and cheese is melted","Cut into triangles and serve!"]},trivia:{question:"How many cheese varieties exist?",options:["About 100","About 500","Over 2,000","About 50"],correct:2,explanation:"There are over 2,000 varieties of cheese worldwide! Each region has its own specialty cheeses with unique flavors and textures."}},avocado:{name:"Avocado",emoji:"",scientificName:"Persea americana",category:"Fruit",seasonality:["Fall","Winter","Spring"],nutrition:{calories:160,protein:2,fiber:6.7,vitamins:["Vitamin K","Vitamin C","Folate"],minerals:["Potassium","Copper"],benefits:["Rich in healthy monounsaturated fats for brain health","High in potassium, more than bananas","Supports eye health with lutein"]},animeTraits:{trait:"Brain Scholar",power:"Intellect Boost - Sharpen your mind for studying!"},funFact:"Avocados are actually berries! They contain a large seed in the middle and develop from the plant's flower.",culturalUses:{dishes:["Guacamole (Mexican)","Avocado toast (Modern)","Poke bowls (Hawaiian)"],traditions:["Mexican staple for centuries","Growing trend in health food","Symbol of sustainability"],cookingTips:["Wait until avocado yields to gentle pressure","Store in paper bag to ripen faster","Use lemon juice to prevent browning"]},sustainability:"Avocados require significant water. Look for sustainably grown options. Support fair-trade farming practices!",xpReward:55,challenge:{title:"Brain Boost Quest",description:"Make avocado toast and fuel your brain!",requirement:1,duration:"7 days"},recipe:{title:"Avocado Toast with Egg",emoji:"",description:"Perfect brunch with healthy fats and protein!",steps:["Toast whole grain bread until crispy","Mash ripe avocado with lemon, salt, pepper","Spread on toast generously","Top with a fried or poached egg","Add red pepper flakes and enjoy!"]},trivia:{question:"Avocados are actually what type of fruit?",options:["Vegetables","Berries","Drupes","Aggregate fruits"],correct:1,explanation:"Avocados are berries! They develop from a single ovary and have a large seed, making them true berries despite their savory use."}},salmon:{name:"Salmon",emoji:"",scientificName:"Salmo salar",category:"Protein/Fish",seasonality:["Spring","Summer","Fall"],nutrition:{calories:206,protein:20,fiber:0,vitamins:["Vitamin D","Vitamin B12","Selenium"],minerals:["Omega-3 fatty acids","Potassium"],benefits:["Rich in omega-3 fatty acids for heart health","Excellent source of lean protein","Supports brain and joint health"]},animeTraits:{trait:"Strength Warrior",power:"Muscle Surge - Build lean muscle and power!"},funFact:"Salmon can jump up to 12 feet high! They swim thousands of miles back to their birthplace to spawn.",culturalUses:{dishes:["Sushi (Japanese)","Salmon fillet (Nordic)","Fish tacos (Modern)"],traditions:["Native American staple","Scandinavian cuisine","Japanese delicacy"],cookingTips:["Wild salmon has more omega-3s than farmed","Baking or grilling preserves nutrients better","Skin contains beneficial omega-3s - keep it on"]},sustainability:"Choose wild-caught salmon from sustainable fisheries. Look for MSC certification. Avoid overfished species!",xpReward:65,challenge:{title:"Protein Power",description:"Cook and eat salmon to get the protein warrior badge!",requirement:1,duration:"14 days"},recipe:{title:"Honey Garlic Baked Salmon",emoji:"",description:"Flaky, delicious, and super healthy!",steps:["Place salmon fillet on parchment paper","Mix honey, garlic, and lemon juice","Brush mixture over salmon","Bake at 400F for 15 minutes","Serve with roasted vegetables!"]},trivia:{question:"How high can salmon jump?",options:["Up to 6 feet","Up to 10 feet","Up to 12 feet","Up to 15 feet"],correct:2,explanation:"Salmon can jump up to 12 feet high! This amazing ability helps them swim upstream to their birthplace, a journey that can be thousands of miles long!"}},quinoa:{name:"Quinoa",emoji:"",scientificName:"Chenopodium quinoa",category:"Grain",seasonality:["Fall","Winter"],nutrition:{calories:120,protein:4.4,fiber:2.8,vitamins:["Magnesium","Manganese","Folate"],minerals:["Phosphorus","Copper","Iron"],benefits:["Complete protein with all 9 amino acids","High in fiber for digestion","Gluten-free grain"]},animeTraits:{trait:"Ancient Hero",power:"Complete Strength - Full body nutrition in every bite!"},funFact:"Quinoa was called 'the mother grain' by the Incas! It's technically a seed, not a true grain.",culturalUses:{dishes:["Quinoa bowls (Modern)","Peruvian salads","Grain pilaf (Global)"],traditions:["Andean staple for 5,000 years","Growing superfood trend","Vegan protein source"],cookingTips:["Rinse quinoa before cooking to remove bitterness","Use 2 cups water to 1 cup quinoa","Fluff with fork after cooking"]},sustainability:"Quinoa is drought-resistant and supports Andean farmers. However, water usage in some regions is high. Choose certified fair-trade!",xpReward:60,challenge:{title:"Ancient Grain Quest",description:"Try quinoa and unlock the ancient grain warrior badge!",requirement:1,duration:"14 days"},recipe:{title:"Mediterranean Quinoa Bowl",emoji:"",description:"Colorful, filling, and packed with nutrients!",steps:["Cook 1 cup quinoa in 2 cups water","Add diced cucumber, tomato, red onion","Include chickpeas for extra protein","Drizzle with olive oil and lemon juice","Top with feta cheese and herbs!"]},trivia:{question:"Quinoa is technically what?",options:["A grain","A seed","A legume","A vegetable"],correct:1,explanation:"Quinoa is technically a seed from a plant related to spinach and beets, not a true grain. But it's used like a grain in cooking!"}},"greek yogurt":{name:"Greek Yogurt",emoji:"",scientificName:"Lactobacillus bulgaricus",category:"Dairy",seasonality:["Year-round"],nutrition:{calories:130,protein:11,fiber:0,vitamins:["Vitamin B12","Pantothenic acid"],minerals:["Calcium","Probiotics"],benefits:["Twice the protein of regular yogurt","Contains probiotics for gut health","Supports digestive health and immunity"]},animeTraits:{trait:"Gut Guardian",power:"Digestive Shield - Keep your belly happy and strong!"},funFact:"Greek yogurt is strained multiple times to remove whey, making it thicker and creamier than regular yogurt!",culturalUses:{dishes:["Tzatziki sauce (Greek)","Parfaits (Modern)","Smoothie bowls (Health food)"],traditions:["Mediterranean diet staple","Ancient Greek preparation","Modern health trend"],cookingTips:["Check expiration date - fresher is better","Full-fat has more flavor than low-fat","Great substitute for sour cream"]},sustainability:"Look for organic Greek yogurt from grass-fed cows. Support brands with ethical dairy practices!",xpReward:50,challenge:{title:"Gut Health Quest",description:"Eat Greek yogurt daily for 5 days to boost your digestion!",requirement:5,duration:"7 days"},recipe:{title:"Berry Greek Yogurt Parfait",emoji:"",description:"Creamy, delicious, and loaded with probiotics!",steps:["Layer Greek yogurt in a bowl","Add granola for crunch","Top with mixed berries (blueberry, strawberry)","Drizzle with honey","Enjoy as breakfast or snack!"]},trivia:{question:"How much more protein does Greek yogurt have than regular yogurt?",options:["25% more","50% more","100% more","150% more"],correct:2,explanation:"Greek yogurt has twice (100% more) the protein of regular yogurt because it's strained to remove whey, concentrating the protein!"}},"sweet potato":{name:"Sweet Potato",emoji:"",scientificName:"Ipomoea batatas",category:"Root Vegetable",seasonality:["Fall","Winter"],nutrition:{calories:103,protein:1.6,fiber:3.3,vitamins:["Vitamin A","Vitamin C","Folate"],minerals:["Potassium","Manganese"],benefits:["Excellent source of beta-carotene for vision","High in antioxidants","Supports immune system"]},animeTraits:{trait:"Vision Guardian",power:"Golden Sight - See clearly and stay alert!"},funFact:"Sweet potatoes are not related to regular potatoes! They're from a completely different plant family.",culturalUses:{dishes:["Fries (American)","Curry (Asian)","Pie (Thanksgiving)"],traditions:["Thanksgiving staple","Soul food tradition","Asian cuisine"],cookingTips:["Baking brings out natural sweetness","Skin is edible and nutritious","Great substitute for regular potatoes"]},sustainability:"Sweet potatoes are low-impact crops that improve soil health. Buy local when possible!",xpReward:55,challenge:{title:"Golden Root Quest",description:"Roast sweet potatoes and earn the vision hero badge!",requirement:1,duration:"7 days"},recipe:{title:"Roasted Sweet Potato Wedges",emoji:"",description:"Crispy outside, soft inside - perfectly golden!",steps:["Cut sweet potato into wedges","Toss with olive oil and cinnamon","Spread on baking sheet","Roast at 400F for 25 minutes","Serve with yogurt dip!"]},trivia:{question:"Are sweet potatoes related to regular potatoes?",options:["Yes, same family","No, completely different","Somewhat related","Only by name"],correct:1,explanation:"Sweet potatoes and regular potatoes are completely unrelated! Regular potatoes are from the nightshade family, while sweet potatoes are vines from the bindweed family."}},chicken:{name:"Chicken",emoji:"",scientificName:"Gallus gallus domesticus",category:"Protein/Poultry",seasonality:["Year-round"],nutrition:{calories:165,protein:31,fiber:0,vitamins:["Vitamin B6","Niacin","Selenium"],minerals:["Phosphorus","Zinc"],benefits:["Lean protein for muscle building","Rich in B vitamins for energy","Versatile and affordable"]},animeTraits:{trait:"Power Hero",power:"Strength Force - Build muscles and energy!"},funFact:"Chicken is the most popular meat in the world! A single chicken produces about 3-5 pounds of meat.",culturalUses:{dishes:["Fried chicken (American)","Tikka (Indian)","Teriyaki (Japanese)"],traditions:["Global staple","Key in many cuisines","Popular BBQ ingredient"],cookingTips:["Dark meat is more flavorful than white meat","Always cook to internal temperature of 165F","Marinating adds flavor and tenderness"]},sustainability:"Choose free-range or pasture-raised chicken. Look for certifications. Supports ethical farming!",xpReward:60,challenge:{title:"Power Meal Quest",description:"Cook a chicken dinner and earn the protein hero badge!",requirement:1,duration:"14 days"},recipe:{title:"Lemon Herb Grilled Chicken",emoji:"",description:"Juicy, flavorful, and perfect with veggies!",steps:["Mix olive oil, lemon juice, garlic, and herbs","Marinate chicken breasts for 30 minutes","Grill over medium heat for 6-7 minutes per side","Rest for 5 minutes before serving","Serve with roasted veggies!"]},trivia:{question:"What is the most popular meat in the world?",options:["Beef","Pork","Chicken","Fish"],correct:2,explanation:"Chicken is the most popular meat globally! It's affordable, versatile, and nutritious, making it a staple in cuisines worldwide."}}};function yX({foodKey:t,onBack:e,selectedAge:n="kids"}){const r=gX[t.toLowerCase()],{preferences:i,canEatFood:s}=If(),[a,o]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[x,y]=_.useState(!1);if(!r)return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg text-muted-foreground",children:"Food not found"}),l.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg",children:"Go Back"})]})});const v=s(r.name),g=m=>{p(!0),y(m===r.trivia.correct),m===r.trivia.correct&&o(!0)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 overflow-auto",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm border-b border-amber-200 p-4 shadow-sm",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:l.jsx(us,{className:"w-6 h-6 text-gray-700"})}),l.jsxs("h1",{className:"text-2xl font-bold text-orange-700",children:[r.emoji," ",r.name," - Food Hero"]})]})}),l.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[!v&&l.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border-2 border-red-500 rounded-xl p-4 flex items-start gap-3",children:[l.jsx(Qo,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-red-800",children:" Dietary Restriction Alert"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This food may contain ingredients that don't match your dietary preferences. Check with a parent or guardian before consuming."})]})]}),(i.allergies.length>0||i.dietaryPreference!=="non-vegetarian")&&l.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("span",{className:"font-semibold",children:"Your Preferences:"})," ",i.dietaryPreference==="vegetarian"&&" Vegetarian | ",i.dietaryPreference==="eggtarian"&&" Eggtarian | ",i.allergies.length>0&&` Allergic to: ${i.allergies.join(", ")}`]})}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl p-8 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl font-bold mb-2",children:r.name}),l.jsx("p",{className:"text-orange-100 text-sm italic",children:r.scientificName})]}),l.jsx("div",{className:"text-9xl drop-shadow-lg",children:r.emoji})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-white/20 rounded-lg p-4 backdrop-blur",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Category"}),l.jsx("p",{className:"font-bold",children:r.category})]}),l.jsxs("div",{className:"bg-white/20 rounded-lg p-4 backdrop-blur",children:[l.jsx("p",{className:"text-orange-100 text-sm",children:"Anime Trait"}),l.jsx("p",{className:"font-bold",children:r.animeTraits.trait})]})]})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 border-2 border-amber-200 shadow-md",children:[l.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[l.jsx(DC,{className:"w-6 h-6"})," Seasonality"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.seasonality.map(m=>l.jsx("span",{className:"px-4 py-2 bg-green-100 text-green-800 rounded-full font-semibold",children:m},m))})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 border-2 border-amber-200 shadow-md",children:[l.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[l.jsx(Ef,{className:"w-6 h-6"})," Nutrition Facts (per 100g)"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Calories"}),l.jsx("p",{className:"text-2xl font-bold text-orange-700",children:r.nutrition.calories}),l.jsx("p",{className:"text-xs text-gray-600",children:"kcal"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-100 to-pink-100 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Protein"}),l.jsxs("p",{className:"text-2xl font-bold text-red-700",children:[r.nutrition.protein,"g"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"Fiber"}),l.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[r.nutrition.fiber,"g"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-cyan-100 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"XP Reward"}),l.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["+",r.xpReward]})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Key Vitamins"}),l.jsx("ul",{className:"space-y-2",children:r.nutrition.vitamins.map(m=>l.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""})," ",m]},m))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Key Minerals"}),l.jsx("ul",{className:"space-y-2",children:r.nutrition.minerals.map(m=>l.jsxs("li",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""})," ",m]},m))})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-100 to-emerald-100 rounded-lg border-2 border-green-300",children:[l.jsx("h4",{className:"font-bold text-green-900 mb-3",children:" Health Benefits"}),l.jsx("ul",{className:"space-y-2",children:r.nutrition.benefits.map((m,b)=>l.jsxs("li",{className:"text-sm text-green-900 flex items-start gap-2",children:[l.jsx(PC,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),m]},b))})]})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 border-2 border-purple-300 shadow-md",children:[l.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[l.jsx(kC,{className:"w-6 h-6"})," Anime Character Trait"]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 border-2 border-purple-200",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hero Type"}),l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:r.animeTraits.trait})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-purple-200",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Special Power"}),l.jsxs("p",{className:"text-lg font-semibold text-purple-900",children:[" ",r.animeTraits.power]})]})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-6 border-2 border-yellow-300 shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold text-yellow-800 mb-3",children:" Did You Know?"}),l.jsx("p",{className:"text-gray-800",children:r.funFact})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl p-6 border-2 border-amber-200 shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold text-orange-700 mb-4",children:" Cultural & Culinary Uses"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:" Popular Dishes"}),l.jsx("ul",{className:"space-y-2",children:r.culturalUses.dishes.map((m,b)=>l.jsxs("li",{className:"text-sm text-gray-700 p-2 bg-orange-50 rounded",children:[" ",m]},b))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:" Traditions & Festivals"}),l.jsx("ul",{className:"space-y-2",children:r.culturalUses.traditions.map((m,b)=>l.jsxs("li",{className:"text-sm text-gray-700 p-2 bg-green-50 rounded",children:[" ",m]},b))})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:" Cooking Tips"}),l.jsx("div",{className:"space-y-2",children:r.culturalUses.cookingTips.map((m,b)=>l.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:l.jsx("p",{className:"text-sm text-gray-700",children:m})},b))})]})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-r from-green-100 to-teal-100 rounded-xl p-6 border-2 border-green-300 shadow-md",children:[l.jsx("h3",{className:"text-xl font-bold text-green-700 mb-3",children:" Sustainability & Seasonal Value"}),l.jsx("p",{className:"text-gray-800",children:r.sustainability})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:`rounded-xl p-6 border-2 shadow-md ${a?"bg-gradient-to-r from-green-100 to-emerald-100 border-green-400":"bg-gradient-to-r from-blue-100 to-cyan-100 border-blue-300"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("h3",{className:"text-xl font-bold text-blue-700 flex items-center gap-2",children:[l.jsx(jh,{className:"w-6 h-6"})," Quest Challenge"]}),a&&l.jsx("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full text-sm font-bold",children:" Completed"})]}),l.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:r.challenge.title}),l.jsx("p",{className:"text-sm text-gray-700 mb-3",children:r.challenge.description}),l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsxs("div",{className:"px-3 py-2 bg-white rounded-lg font-semibold text-blue-700",children:[" ",r.challenge.requirement," times"]}),l.jsxs("div",{className:"px-3 py-2 bg-white rounded-lg font-semibold text-blue-700",children:[" ",r.challenge.duration]}),l.jsx("div",{className:"px-3 py-2 bg-white rounded-lg font-semibold text-yellow-700",children:" +50 XP"})]})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:`rounded-xl p-6 border-2 shadow-md ${c?"bg-gradient-to-r from-orange-100 to-yellow-100 border-orange-400":"bg-gradient-to-r from-amber-100 to-orange-100 border-amber-300"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-bold text-orange-700 flex items-center gap-2",children:[l.jsx(du,{className:"w-6 h-6"})," Recipe Unlock"]}),l.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:`px-4 py-2 rounded-lg font-bold transition ${c?"bg-green-500 text-white":"bg-orange-500 text-white hover:bg-orange-600"}`,children:c?" Unlocked":"Unlock Recipe"})]}),l.jsx(sr,{children:c&&l.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-orange-300",children:[l.jsxs("p",{className:"text-2xl font-bold text-orange-700 mb-2",children:[r.recipe.emoji," ",r.recipe.title]}),l.jsx("p",{className:"text-gray-700 mb-4",children:r.recipe.description}),l.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Steps:"}),l.jsx("ol",{className:"space-y-2",children:r.recipe.steps.map((m,b)=>l.jsxs("li",{className:"text-sm text-gray-700 flex gap-3",children:[l.jsxs("span",{className:"font-bold text-orange-600 flex-shrink-0",children:[b+1,"."]}),m]},b))})]})})})]}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-gradient-to-r from-indigo-100 to-purple-100 rounded-xl p-6 border-2 border-indigo-300 shadow-md",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-bold text-indigo-700 flex items-center gap-2",children:[l.jsx(Qx,{className:"w-6 h-6"})," Trivia Quiz"]}),x&&l.jsx("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full text-sm font-bold",children:" Correct!"})]}),l.jsx(sr,{children:d?l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white rounded-lg p-6 border-2 border-indigo-300 space-y-4",children:[l.jsx("p",{className:"text-lg font-semibold text-gray-800",children:r.trivia.question}),l.jsx("div",{className:"space-y-3",children:r.trivia.options.map((m,b)=>l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(b),disabled:f,className:`w-full p-3 rounded-lg border-2 font-semibold transition text-left ${f?b===r.trivia.correct?"bg-green-100 border-green-400 text-green-800":"bg-red-100 border-red-300 text-red-700":"bg-white border-indigo-300 text-gray-800 hover:bg-indigo-50"}`,children:m},b))}),f&&l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-lg ${x?"bg-green-100 border-2 border-green-400":"bg-blue-100 border-2 border-blue-400"}`,children:[l.jsx("p",{className:"font-bold text-gray-800 mb-2",children:x?" Correct!":" Learn More"}),l.jsx("p",{className:"text-sm text-gray-700",children:r.trivia.explanation})]})]}):l.jsx(R.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!0),className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition",children:"Start Trivia Quiz  +25 XP"})})]})]}),l.jsx("div",{className:"h-8"})]})]})}const xX=[{id:"fruits",emoji:"",label:"Fruits"},{id:"veggies",emoji:"",label:"Veggies"},{id:"proteins",emoji:"",label:"Proteins"},{id:"grains",emoji:"",label:"Grains"},{id:"dairy",emoji:"",label:"Dairy"},{id:"snacks",emoji:"",label:"Snacks"}],vX={kids:[{name:"Banana",emoji:"",category:"Fruit",benefits:["Energy boost","Happy tummy"],funFact:"Bananas can float in water!",color:"bg-kawaii-yellow/30"},{name:"Carrot",emoji:"",category:"Veggie",benefits:["Super eyes","Crunchy fun"],funFact:"Carrots were first purple, not orange!",color:"bg-primary/20"},{name:"Apple",emoji:"",category:"Fruit",benefits:["Strong teeth","Yummy snack"],funFact:"Apples are part of the rose family!",color:"bg-accent/20"},{name:"Cheese",emoji:"",category:"Dairy",benefits:["Strong bones","Tasty treat"],funFact:"There are over 2000 types of cheese!",color:"bg-kawaii-yellow/30"}],tweens:[{name:"Avocado",emoji:"",category:"Fruit",benefits:["Brain power","Healthy fats"],funFact:"Avocados are actually berries!",color:"bg-secondary/20"},{name:"Salmon",emoji:"",category:"Protein",benefits:["Omega-3","Strong muscles"],funFact:"Salmon can jump up to 12 feet high!",color:"bg-kawaii-blue/30"},{name:"Spinach",emoji:"",category:"Veggie",benefits:["Iron boost","Energy"],funFact:"Spinach is 91% water!",color:"bg-secondary/20"},{name:"Eggs",emoji:"",category:"Protein",benefits:["Complete protein","Brain food"],funFact:"Eggs contain every vitamin except vitamin C!",color:"bg-kawaii-yellow/20"}],teens:[{name:"Quinoa",emoji:"",category:"Grain",benefits:["Complete protein","Fiber rich"],funFact:"Quinoa was called 'the mother grain' by the Incas!",color:"bg-kawaii-yellow/30"},{name:"Greek Yogurt",emoji:"",category:"Dairy",benefits:["Probiotics","Muscle recovery"],funFact:"Greek yogurt has twice the protein of regular yogurt!",color:"bg-card"},{name:"Sweet Potato",emoji:"",category:"Veggie",benefits:["Vitamin A","Complex carbs"],funFact:"Sweet potatoes are not related to regular potatoes!",color:"bg-primary/20"},{name:"Chicken",emoji:"",category:"Protein",benefits:["Lean protein","B vitamins"],funFact:"Chicken is the most popular meat in the world!",color:"bg-kawaii-yellow/30"}]},bX={kids:[{title:"Rainbow Fruit Kabobs",i18nKey:"recipes_section.rainbow_fruit_kabobs",emoji:"",time:"10 min",difficulty:"easy",servings:4,ingredients:["Strawberries","Orange slices","Pineapple","Kiwi","Blueberries","Grapes"],steps:["Wash all the fruits carefully","Ask an adult to help cut fruits into chunks","Thread fruits onto wooden skewers in rainbow order","Make a pattern: red, orange, yellow, green, blue, purple!","Share with friends and enjoy!"]},{title:"Funny Face Sandwich",i18nKey:"recipes_section.funny_face_sandwich",emoji:"",time:"15 min",difficulty:"easy",servings:1,ingredients:["Bread","Cream cheese","Cucumber","Cherry tomatoes","Olives","Carrot"],steps:["Spread cream cheese on bread","Use cucumber slices for eyes","Add olive pieces as pupils","Make a tomato nose","Create a carrot smile","Add anything else you like!"]},{title:"Apple Donuts",i18nKey:"recipes_section.apple_donuts",emoji:"",time:"10 min",difficulty:"easy",servings:2,ingredients:["Apple","Peanut butter","Granola","Chocolate chips","Sprinkles"],steps:["Ask an adult to slice apple into rings","Remove the core from each slice","Spread peanut butter on top","Add your favorite toppings","Make each one different!"]}],tweens:[{title:"Veggie Quesadilla",i18nKey:"recipes_section.veggie_quesadilla",emoji:"",time:"20 min",difficulty:"medium",servings:2,ingredients:["Tortillas","Cheese","Bell peppers","Corn","Black beans","Salsa"],steps:["Chop bell peppers into small pieces","Heat a pan over medium heat","Place tortilla in pan, add cheese and veggies","Fold tortilla in half","Cook 2-3 minutes each side until golden","Serve with salsa!"]},{title:"Pasta Primavera",i18nKey:"recipes_section.pasta_primavera",emoji:"",time:"25 min",difficulty:"medium",servings:4,ingredients:["Pasta","Zucchini","Cherry tomatoes","Garlic","Olive oil","Parmesan"],steps:["Boil pasta according to package","Chop vegetables","Saut garlic in olive oil","Add vegetables and cook until tender","Mix with pasta","Top with parmesan cheese!"]},{title:"Smoothie Bowl",i18nKey:"recipes_section.smoothie_bowl",emoji:"",time:"10 min",difficulty:"easy",servings:1,ingredients:["Frozen berries","Banana","Yogurt","Granola","Honey","Chia seeds"],steps:["Blend frozen berries, banana, and yogurt","Pour into a bowl","Top with granola, chia seeds","Drizzle with honey","Add fresh fruit on top","Make it pretty!"]}],teens:[{title:"Stir-Fry Noodles",i18nKey:"recipes_section.stir_fry_noodles",emoji:"",time:"30 min",difficulty:"medium",servings:3,ingredients:["Rice noodles","Chicken or tofu","Broccoli","Soy sauce","Ginger","Sesame oil"],steps:["Cook noodles and set aside","Cut protein and vegetables","Heat oil in wok over high heat","Stir-fry protein until cooked","Add vegetables and sauce","Toss with noodles and serve!"]},{title:"Homemade Pizza",i18nKey:"recipes_section.homemade_pizza",emoji:"",time:"45 min",difficulty:"challenging",servings:4,ingredients:["Pizza dough","Tomato sauce","Mozzarella","Vegetables","Olive oil","Herbs"],steps:["Preheat oven to 450F (230C)","Roll out dough on floured surface","Spread sauce leaving edges clear","Add cheese and toppings","Drizzle with olive oil","Bake 12-15 minutes until golden!"]},{title:"Buddha Bowl",i18nKey:"recipes_section.buddha_bowl",emoji:"",time:"35 min",difficulty:"medium",servings:2,ingredients:["Quinoa","Chickpeas","Sweet potato","Kale","Tahini","Lemon"],steps:["Cook quinoa according to package","Roast sweet potato cubes at 400F","Season and roast chickpeas","Massage kale with olive oil","Arrange everything in a bowl","Drizzle with tahini dressing!"]}]},Ym=["Honey never spoils! Archaeologists have found 3000-year-old honey in Egyptian tombs that was still edible.","Strawberries aren't actually berries, but bananas are!","Carrots can help you see better in the dark because they're full of vitamin A.","Your brain is about 75% water, so drinking water helps you think better!","Eating breakfast helps you do better in school and sports.","Different colored vegetables have different superpowers for your body!","Broccoli has more protein per calorie than steak!","Lemons contain more sugar than strawberries.","Eating slowly helps your body know when it's full.","Dark chocolate can be good for your heart!"],_X=[{title:"First Recipe",emoji:"",description:"Complete your first recipe",unlocked:!0},{title:"Veggie Hero",emoji:"",description:"Learn about 5 vegetables",unlocked:!0,progress:100},{title:"Fruit Explorer",emoji:"",description:"Try 10 different fruits",unlocked:!1,progress:60},{title:"Kitchen Star",emoji:"",description:"Complete 5 recipes",unlocked:!1,progress:40},{title:"Health Champion",emoji:"",description:"Complete all food groups",unlocked:!1,progress:20},{title:"Master Chef",emoji:"",description:"Complete 10 recipes",unlocked:!1,progress:10}],wX=()=>{const{t}=Wn(),{user:e,completeStoryChapter:n}=DA(),[r,i]=_.useState(null),[s,a]=_.useState("home"),[o,c]=_.useState("fruits"),[u,d]=_.useState(Ym[0]),[h,f]=_.useState(!0),[p,x]=_.useState(!1),[y,v]=_.useState(null),[g,m]=_.useState(!1),[b,S]=_.useState(!1),[M,w]=_.useState(!1),[C,E]=_.useState(!1),[N,L]=_.useState(!1),[F,D]=_.useState(!1),[k,T]=_.useState(!1),[z,j]=_.useState(!1),[G,V]=_.useState(!1),[U,q]=_.useState(!1),[W,$]=_.useState(!1),[K,B]=_.useState(!1),[Q,pe]=_.useState(!1),[J,de]=_.useState(!1),[_e,be]=_.useState(!1),[ue,ee]=_.useState(!1),[le,ae]=_.useState(null),{transcript:ye,isListening:oe}=FA();_.useEffect(()=>{const X=setInterval(()=>{d(Ym[Math.floor(Math.random()*Ym.length)])},1e4);return()=>clearInterval(X)},[]),_.useEffect(()=>{if(!ye)return;const X=ye.toLowerCase();X.includes("games")||X.includes("play")?m(!0):X.includes("comics")||X.includes("stories")?S(!0):X.includes("character")||X.includes("avatar")?w(!0):X.includes("story")||X.includes("chapter")||X.includes("learn")?E(!0):X.includes("map")||X.includes("kingdom")||X.includes("explore")?L(!0):X.includes("cutscene")||X.includes("animation")||X.includes("anime")?D(!0):X.includes("manga")||X.includes("comic")||X.includes("panel")?T(!0):X.includes("seasonal")||X.includes("produce")||X.includes("vegetables")||X.includes("fruits")?j(!0):X.includes("nutrition")||X.includes("tracker")||X.includes("meal")||X.includes("analyze")?V(!0):X.includes("community")||X.includes("social")||X.includes("friends")||X.includes("challenge")||X.includes("forum")?q(!0):(X.includes("home")||X.includes("back"))&&(m(!1),S(!1),w(!1),E(!1),L(!1),D(!1),T(!1),j(!1),V(!1),q(!1))},[ye]);const P=(()=>{if(!r)return[];const X=vX[r]||[],me={Banana:"foods.banana",Carrot:"foods.carrot",Apple:"foods.apple",Cheese:"foods.cheese",Avocado:"foods.avocado",Salmon:"foods.salmon",Spinach:"foods.spinach",Eggs:"foods.eggs",Quinoa:"foods.quinoa","Greek Yogurt":"foods.greek_yogurt","Sweet Potato":"foods.sweet_potato",Chicken:"foods.chicken"},Ne={"Energy boost":"food_benefits.energy_boost","Happy tummy":"food_benefits.happy_tummy","Super eyes":"food_benefits.super_eyes","Crunchy fun":"food_benefits.crunchy_fun","Strong teeth":"food_benefits.strong_teeth","Yummy snack":"food_benefits.yummy_snack","Strong bones":"food_benefits.strong_bones","Tasty treat":"food_benefits.tasty_treat","Brain power":"food_benefits.brain_power","Healthy fats":"food_benefits.healthy_fats","Omega-3":"food_benefits.omega_3","Strong muscles":"food_benefits.strong_muscles","Iron boost":"food_benefits.iron_boost",Energy:"food_benefits.energy","Complete protein":"food_benefits.complete_protein","Brain food":"food_benefits.brain_food",Probiotics:"food_benefits.probiotics","Muscle recovery":"food_benefits.muscle_recovery","Vitamin A":"food_benefits.vitamin_a","Complex carbs":"food_benefits.complex_carbs","Lean protein":"food_benefits.lean_protein","B vitamins":"food_benefits.b_vitamins","Fiber rich":"food_benefits.fiber_rich"},Te={"Bananas can float in water!":"food_info.banana_fact","Carrots were first purple, not orange!":"food_info.carrot_fact","Apples are part of the rose family!":"food_info.apple_fact"};return X.map(I=>({...I,name:t(me[I.name]||`foods.${I.name.toLowerCase().replace(/\s+/g,"_")}`),benefits:I.benefits.map(se=>t(Ne[se]||se)),funFact:I.funFact?t(Te[I.funFact]||I.funFact):void 0}))})(),te=r?bX[r]||[]:[],re=()=>{switch(r){case"kids":return t("age_groups.kids");case"tweens":return t("age_groups.tweens");case"teens":return t("age_groups.teens");default:return t("age_groups.default")}};return h&&!r?l.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[l.jsx("div",{className:"absolute top-6 right-6",children:l.jsx(Oy,{})}),l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-6 max-w-sm",children:[l.jsx(hc,{mood:"waving",size:"lg"}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[l.jsxs("h1",{className:"font-display text-4xl font-bold text-foreground",children:[t("app_name")," "]}),l.jsx("p",{className:"text-muted-foreground mt-2",children:t("home.subtitle")})]}),l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:l.jsx(l8,{selectedAge:r,onSelect:X=>{i(X),f(!1)}})})]})]}):y?l.jsx(g8,{recipe:y,onBack:()=>v(null),ageGroup:re()}):le?l.jsx(yX,{foodKey:le,onBack:()=>ae(null),selectedAge:r||"kids"}):C?l.jsx(Eq,{completedChapters:(e==null?void 0:e.completedStoryChapters)||[],currentCharacterId:e==null?void 0:e.characterId,onBack:()=>E(!1),onChapterSelect:X=>{const me=require("@/data/storyChapters").STORY_CHAPTERS[X];me&&n(X,me.rewards.xp)}}):M?l.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[l.jsxs("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b border-border flex items-center justify-between",children:[l.jsx("button",{onClick:()=>w(!1),className:"text-muted-foreground hover:text-foreground transition-colors font-semibold",children:t("common.back_to_home")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sa,{className:"w-5 h-5 text-primary"}),l.jsx("span",{className:"font-display font-bold",children:t("common.choose_character")})]})]}),l.jsx("main",{className:"px-4 py-6",children:l.jsx($q,{onSelect:()=>w(!1),ageGroup:r})})]}):ue?l.jsx(dX,{onClose:()=>ee(!1)}):g?l.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b border-border",children:l.jsx("button",{onClick:()=>m(!1),className:"text-muted-foreground hover:text-foreground transition-colors font-semibold",children:t("common.back_to_home")})}),l.jsx("main",{className:"px-4 py-4",children:l.jsx(T8,{ageGroup:r||"kids"})})]}):b?l.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b border-border",children:l.jsx("button",{onClick:()=>S(!1),className:"text-muted-foreground hover:text-foreground transition-colors font-semibold",children:t("common.back_to_home")})}),l.jsx("main",{className:"px-4 py-4",children:l.jsx(A8,{ageGroup:r||"kids"})})]}):N?l.jsx(Pq,{completedChapters:(e==null?void 0:e.completedStoryChapters)||[],onBack:()=>L(!1)}):F?l.jsx(Rq,{completedChapters:(e==null?void 0:e.completedStoryChapters)||[],onBack:()=>D(!1)}):k?l.jsx(Fq,{completedChapters:(e==null?void 0:e.completedStoryChapters)||[],onBack:()=>T(!1)}):z?l.jsx(Iq,{onBack:()=>j(!1)}):G?l.jsx(Gq,{onBack:()=>V(!1)}):U?l.jsx(Wq,{onBack:()=>q(!1)}):W?l.jsx("div",{className:"min-h-screen bg-background pb-8",children:l.jsx("main",{className:"px-4 py-4",children:l.jsx(oX,{onBack:()=>$(!1)})})}):K?l.jsx("div",{className:"min-h-screen bg-background pb-8",children:l.jsx("main",{className:"px-4 py-4",children:l.jsx(lX,{onBack:()=>B(!1)})})}):Q?l.jsx("div",{className:"min-h-screen bg-background pb-8",children:l.jsx("main",{className:"px-4 py-4",children:l.jsx(uX,{onBack:()=>pe(!1)})})}):J?l.jsx("div",{className:"min-h-screen bg-background pb-8",children:l.jsx("main",{className:"px-4 py-4",children:l.jsx(pX,{onBack:()=>de(!1)})})}):_e?l.jsx("div",{className:"min-h-screen bg-background pb-8",children:l.jsx("main",{className:"px-4 py-4",children:l.jsx(mX,{onBack:()=>be(!1)})})}):l.jsxs("div",{className:"min-h-screen bg-background pb-24 relative overflow-hidden",children:[l.jsx(sX,{characterId:(e==null?void 0:e.characterId)||"tanjiro",opacity:1,scale:1.15,position:"right",animate:!0}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("header",{className:"sticky top-0 bg-background/95 backdrop-blur-lg z-40 px-4 py-3 border-b border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(hc,{mood:"happy",size:"sm"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("common.hello"),", ",re(),"!"]}),l.jsx("h2",{className:"font-display font-bold text-foreground",children:t("app_name")})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Oy,{}),l.jsx(R.button,{whileTap:{scale:.9},onClick:()=>w(!0),className:"bg-primary/10 text-primary hover:bg-primary/20 p-2 rounded-full transition-all",title:t("common.choose_character"),children:l.jsx(sa,{className:"w-5 h-5"})}),l.jsx(R.button,{whileTap:{scale:.9},onClick:()=>E(!0),className:"bg-secondary/10 text-secondary hover:bg-secondary/20 p-2 rounded-full transition-all",title:t("common.story_mode"),children:l.jsx(Pb,{className:"w-5 h-5"})}),l.jsx(qq,{className:"relative"}),l.jsx(R.button,{whileTap:{scale:.9},onClick:()=>f(!0),className:"bg-primary/10 text-primary px-3 py-1.5 rounded-full text-sm font-semibold",children:t("common.change_age")}),l.jsx(Xq,{})]})]})}),l.jsx("main",{className:"px-4 py-4 space-y-6",children:l.jsxs(sr,{mode:"wait",children:[s==="home"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsx(b8,{}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(!0),className:"bg-gradient-to-br from-kawaii-blue to-secondary rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx(Pb,{className:"w-6 h-6 text-primary-foreground mb-1"}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.story_mode")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.story_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:"bg-gradient-to-br from-kawaii-pink to-accent rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx(RC,{className:"w-6 h-6 text-primary-foreground mb-1"}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.play_games")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.games_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S(!0),className:"bg-gradient-to-br from-kawaii-yellow to-primary rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx(du,{className:"w-6 h-6 text-primary-foreground mb-1"}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.read_comics")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.comics_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L(!0),className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.food_map")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.food_map_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(!0),className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.cutscenes")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.cutscenes_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(!0),className:"bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("home.manga")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("home.manga_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>j(!0),className:"bg-gradient-to-br from-green-500 to-lime-400 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("seasonal_produce.title")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("seasonal_produce.subtitle")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>V(!0),className:"bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("nutrition_tracker.title")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("nutrition_tracker.subtitle")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>q(!0),className:"bg-gradient-to-br from-pink-500 to-rose-500 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-primary-foreground",children:t("community_space.title")}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:t("community_space.subtitle")})]})]}),(r==="teens"||!r)&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-t-2 border-purple-300 pt-4 mt-4",children:l.jsxs("h3",{className:"font-display text-lg font-bold text-purple-600 mb-3 flex items-center gap-2",children:[" ",t("teen_features.shokuiku_saga","Teen Challenges")]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>$(!0),className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-white",children:t("teen_features.shokuiku_saga")}),l.jsx("p",{className:"text-xs text-white/80",children:t("teen_features.shokuiku_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>B(!0),className:"bg-gradient-to-br from-red-500 to-red-700 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-white",children:t("teen_features.boss_battles")}),l.jsx("p",{className:"text-xs text-white/80",children:t("teen_features.boss_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>pe(!0),className:"bg-gradient-to-br from-orange-500 to-orange-700 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-white",children:t("teen_features.meal_mastery")}),l.jsx("p",{className:"text-xs text-white/80",children:t("teen_features.meal_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>de(!0),className:"bg-gradient-to-br from-pink-500 to-pink-700 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-white",children:t("teen_features.manga_builder")}),l.jsx("p",{className:"text-xs text-white/80",children:t("teen_features.manga_desc")})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>be(!0),className:"bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-2xl p-3 text-left relative overflow-hidden",children:[l.jsx("span",{className:"text-2xl mb-1 inline-block",children:""}),l.jsx("p",{className:"font-display font-bold text-xs text-white",children:t("teen_features.real_missions")}),l.jsx("p",{className:"text-xs text-white/80",children:t("teen_features.missions_desc")})]})]})]}),l.jsx(f8,{fact:u,title:t("did_you_know.title")}),l.jsxs(R.div,{whileHover:{scale:1.02},className:"bg-gradient-to-r from-secondary to-kawaii-mint rounded-3xl p-5 text-foreground relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vo,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-semibold opacity-90",children:t("home.daily_challenge")})]}),l.jsx("h3",{className:"font-display text-xl font-bold mb-2",children:t("home.challenge_desc")}),l.jsx("p",{className:"text-sm opacity-80 mb-3",children:t("home.challenge_text")}),l.jsxs("button",{className:"bg-white/20 backdrop-blur px-4 py-2 rounded-full text-sm font-semibold flex items-center gap-2 hover:bg-white/30 transition-colors",children:[t("home.accept_challenge")," ",l.jsx(NC,{className:"w-4 h-4"})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-display text-lg font-bold text-foreground",children:t("home.quick_recipes")}),l.jsx("button",{onClick:()=>a("recipes"),className:"text-primary text-sm font-semibold",children:"See all"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:te.slice(0,2).map((X,me)=>l.jsx(n1,{...X,ageGroup:re(),onClick:()=>v(X)},me))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-display text-lg font-bold text-foreground mb-3",children:t("healthy_heroes.title")}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.slice(0,4).map((X,me)=>l.jsx("div",{onClick:()=>ae(X.name.toLowerCase()),children:l.jsx(t1,{...X})},me))})]})]},"home"),s==="discover"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-1",children:"Discover Foods"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Learn about amazing foods and their superpowers!"})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:xX.map(X=>l.jsx(d8,{...X,active:o===X.id,onClick:()=>c(X.id)},X.id))}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:P.map((X,me)=>l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.1},onClick:()=>ae(X.name.toLowerCase()),children:l.jsx(t1,{...X})},me))})]},"discover"),s==="recipes"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-1",children:"Recipe Collection"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Yummy recipes perfect for your age!"})]}),l.jsx("div",{className:"space-y-4",children:te.map((X,me)=>l.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.1},children:l.jsx(n1,{...X,ageGroup:re(),onClick:()=>v(X)})},me))})]},"recipes"),s==="achievements"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-display text-xl font-bold text-foreground mb-1",children:"Your Badges"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Collect badges as you learn and cook!"})]}),l.jsx("div",{className:"bg-gradient-to-r from-kawaii-yellow/40 to-primary/30 rounded-3xl p-5",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl",children:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Points"}),l.jsx("p",{className:"font-display text-3xl font-bold text-foreground",children:"250"})]})]})}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:_X.map((X,me)=>l.jsx(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:me*.1},children:l.jsx(p8,{...X})},me))})]},"achievements"),s==="profile"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsxs("div",{className:"text-center py-6",children:[l.jsx(hc,{mood:"excited",size:"lg"}),l.jsx("h3",{className:"font-display text-2xl font-bold text-foreground mt-4",children:re()}),l.jsx("p",{className:"text-muted-foreground",children:"Food Explorer Level 3"})]}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Recipes",value:"12",emoji:""},{label:"Foods",value:"28",emoji:""},{label:"Badges",value:"4",emoji:""}].map((X,me)=>l.jsxs("div",{className:"bg-card rounded-2xl p-4 text-center shadow-card",children:[l.jsx("span",{className:"text-2xl",children:X.emoji}),l.jsx("p",{className:"font-display text-xl font-bold text-foreground",children:X.value}),l.jsx("p",{className:"text-xs text-muted-foreground",children:X.label})]},me))}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs(R.button,{whileTap:{scale:.95},onClick:()=>m(!0),className:"bg-card rounded-2xl p-4 shadow-card text-center",children:[l.jsx("span",{className:"text-3xl block mb-1",children:""}),l.jsx("span",{className:"font-semibold text-foreground text-sm",children:"Play Games"})]}),l.jsxs(R.button,{whileTap:{scale:.95},onClick:()=>S(!0),className:"bg-card rounded-2xl p-4 shadow-card text-center",children:[l.jsx("span",{className:"text-3xl block mb-1",children:""}),l.jsx("span",{className:"font-semibold text-foreground text-sm",children:"Read Comics"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-display font-bold text-foreground",children:"Settings"}),[{label:"Dietary Preferences",icon:""},{label:"Change Age Group",icon:""},{label:"Notifications",icon:""},{label:"About EatXP",icon:""}].map((X,me)=>l.jsxs("button",{onClick:()=>{X.label==="Dietary Preferences"?x(!0):X.label==="Change Age Group"?(f(!0),i(null)):X.label==="About EatXP"&&ee(!0)},className:"w-full bg-card rounded-2xl p-4 flex items-center gap-3 shadow-card hover:shadow-float transition-shadow",children:[l.jsx("span",{className:"text-xl",children:X.icon}),l.jsx("span",{className:"font-semibold text-foreground",children:X.label})]},me))]})]},"profile"),s==="settings"&&l.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[l.jsxs("div",{className:"text-center py-6",children:[l.jsx("h2",{className:"font-display text-3xl font-bold text-foreground mb-2",children:" Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Customize your experience"})]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!0),className:"w-full bg-gradient-to-r from-primary/20 to-secondary/20 border-2 border-primary rounded-2xl p-6 shadow-card hover:shadow-float transition-all",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-left",children:[l.jsxs("h3",{className:"font-display text-xl font-bold text-foreground flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),"Dietary Preferences"]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Set allergies & dietary choices"})]}),l.jsx("span",{className:"text-2xl",children:""})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-display font-bold text-foreground",children:"More Options"}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{f(!0),i(null)},className:"w-full bg-card rounded-2xl p-4 flex items-center justify-between shadow-card hover:shadow-float transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-foreground",children:"Change Age Group"})]}),l.jsx("span",{className:"text-muted-foreground",children:""})]}),l.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ee(!0),className:"w-full bg-card rounded-2xl p-4 flex items-center justify-between shadow-card hover:shadow-float transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-foreground",children:"About EatXP"})]}),l.jsx("span",{className:"text-muted-foreground",children:""})]})]})]},"settings")]})}),l.jsx(u8,{activeTab:s,onTabChange:a}),l.jsx(IA,{isOpen:p,onClose:()=>x(!1)})]})]})},SX=()=>{var E,N,L;const t=yu(),e=nl(),{sendOTP:n,verifyOTP:r,isAuthenticated:i}=xu(),[s,a]=_.useState("email"),[o,c]=_.useState(((E=e.state)==null?void 0:E.email)||""),[u,d]=_.useState(""),[h,f]=_.useState(((N=e.state)!=null&&N.message,"")),[p,x]=_.useState(((L=e.state)==null?void 0:L.message)||""),[y,v]=_.useState(!1),[g,m]=_.useState(!1),[b,S]=_.useState(0);_.useEffect(()=>{i&&t("/")},[i,t]),_.useEffect(()=>{if(b>0){const F=setTimeout(()=>S(b-1),1e3);return()=>clearTimeout(F)}},[b]);const M=async F=>{if(F.preventDefault(),f(""),!o){f("Please enter your email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){f("Please enter a valid email");return}v(!0);const k=await n(o);k.success?(m(!0),a("otp"),S(300),x(" OTP generated! Open DevTools (F12)  Console tab to see your 6-digit code. Copy and paste it below.")):f(k.message||"Failed to send OTP"),v(!1)},w=async F=>{if(F.preventDefault(),f(""),!u){f("Please enter the OTP");return}if(u.length!==6){f("OTP must be 6 digits");return}v(!0);const D=await r(o,u);D.success?(x("Login successful! Redirecting..."),setTimeout(()=>{t("/")},1500)):f(D.message||"Invalid OTP"),v(!1)},C=F=>{const D=Math.floor(F/60),k=F%60;return`${D}:${k.toString().padStart(2,"0")}`};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 via-background to-secondary/20 flex flex-col items-center justify-center p-6",children:[l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[l.jsx(R.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2},className:"flex justify-center mb-8",children:l.jsx(hc,{mood:"waving",size:"lg"})}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-center space-y-2 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(Vo,{className:"w-6 h-6 text-primary"}),l.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Welcome Back"}),l.jsx(Vo,{className:"w-6 h-6 text-secondary"})]}),l.jsx("p",{className:"text-muted-foreground",children:s==="email"?"Login with your email":"Enter the OTP sent to your email"})]}),l.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-card border border-border rounded-2xl p-6 space-y-4",children:[p&&l.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 bg-green-100/20 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg border border-green-200/50",children:[l.jsx(PC,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium",children:p})]}),h&&l.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 bg-destructive/10 text-destructive px-4 py-3 rounded-lg",children:[l.jsx(Qo,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium",children:h})]}),s==="email"&&l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(FC,{className:"w-4 h-4 text-primary"}),"Email Address"]}),l.jsx("input",{type:"email",placeholder:"your@email.com",value:o,onChange:F=>{c(F.target.value),f("")},disabled:y,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all disabled:opacity-50"})]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:y,className:"w-full bg-primary text-primary-foreground font-semibold py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:y?"Sending OTP...":"Send OTP"})]}),s==="otp"&&l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(ia,{className:"w-4 h-4 text-primary"}),"Enter OTP"]}),l.jsx("input",{type:"text",maxLength:6,placeholder:"000000",value:u,onChange:F=>{d(F.target.value.replace(/\D/g,"")),f("")},disabled:y,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all disabled:opacity-50 text-center text-2xl tracking-widest font-mono"}),l.jsx("div",{className:"text-xs text-muted-foreground text-center pt-2",children:b>0?l.jsxs(l.Fragment,{children:["OTP expires in: ",l.jsx("span",{className:"font-semibold text-primary",children:C(b)})]}):"OTP has expired"})]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:y||b===0,className:"w-full bg-primary text-primary-foreground font-semibold py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:y?"Verifying...":"Verify OTP"}),l.jsx("button",{type:"button",onClick:()=>{a("email"),d(""),m(!1),S(0)},disabled:y,className:"w-full text-sm text-primary font-semibold hover:underline",children:"Back to Email"})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-border"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-card text-muted-foreground",children:"Don't have an account?"})})]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/register"),className:"w-full border border-primary text-primary font-semibold py-2 rounded-lg hover:bg-primary/10 transition-colors",children:"Create New Account"}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/features-demo"),className:"w-full mt-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors",children:" Try New Features Demo"})]}),l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 grid grid-cols-3 gap-3 text-center text-xs text-muted-foreground",children:[l.jsx("div",{children:" 9 Languages"}),l.jsx("div",{children:" Voice Bot"}),l.jsx("div",{children:" Multi-lang Support"})]})]}),l.jsx(R.div,{className:"absolute top-10 left-10 w-32 h-32 bg-primary/5 rounded-full blur-3xl",animate:{y:[0,20,0]},transition:{repeat:1/0,duration:4}}),l.jsx(R.div,{className:"absolute bottom-10 right-10 w-32 h-32 bg-secondary/5 rounded-full blur-3xl",animate:{y:[0,-20,0]},transition:{repeat:1/0,duration:4}})]})},MX=()=>{const t=yu(),{register:e}=xu(),[n,r]=_.useState({email:"",name:"",password:"",confirmPassword:""}),[i,s]=_.useState(""),[a,o]=_.useState(!1),c=h=>{const{name:f,value:p}=h.target;r(x=>({...x,[f]:p})),s("")},u=()=>!n.email||!n.name||!n.password?(s("All fields are required"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password.length<6?(s("Password must be at least 6 characters"),!1):n.password!==n.confirmPassword?(s("Passwords do not match"),!1):!0:(s("Please enter a valid email"),!1),d=async h=>{if(h.preventDefault(),!u())return;o(!0);const f=await e(n.email,n.name,n.password);f.success?t("/login",{state:{email:n.email,message:f.message}}):(s(f.message||"Registration failed"),o(!1))};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/20 via-background to-secondary/20 flex flex-col items-center justify-center p-6",children:[l.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[l.jsx(R.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2},className:"flex justify-center mb-8",children:l.jsx(hc,{mood:"waving",size:"lg"})}),l.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-center space-y-2 mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(Vo,{className:"w-6 h-6 text-primary"}),l.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Join YummyLearn"}),l.jsx(Vo,{className:"w-6 h-6 text-secondary"})]}),l.jsx("p",{className:"text-muted-foreground",children:"Create your account to start learning"})]}),l.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-card border border-border rounded-2xl p-6 space-y-4",children:[i&&l.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 bg-destructive/10 text-destructive px-4 py-3 rounded-lg",children:[l.jsx(Qo,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium",children:i})]}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(FC,{className:"w-4 h-4 text-primary"}),"Email Address"]}),l.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",value:n.email,onChange:c,disabled:a,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(Zx,{className:"w-4 h-4 text-primary"}),"Full Name"]}),l.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:n.name,onChange:c,disabled:a,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(ia,{className:"w-4 h-4 text-primary"}),"Password"]}),l.jsx("input",{type:"password",name:"password",placeholder:"At least 6 characters",value:n.password,onChange:c,disabled:a,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[l.jsx(ia,{className:"w-4 h-4 text-primary"}),"Confirm Password"]}),l.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm your password",value:n.confirmPassword,onChange:c,disabled:a,className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]}),l.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full bg-primary text-primary-foreground font-semibold py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:a?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"text-center pt-4 border-t border-border",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx("button",{onClick:()=>t("/login"),className:"text-primary font-semibold hover:underline",children:"Login here"})]})})]}),l.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 grid grid-cols-3 gap-3 text-center text-xs text-muted-foreground",children:[l.jsx("div",{children:" 8 Anime Themes"}),l.jsx("div",{children:" Voice Control"}),l.jsx("div",{children:" Fun Games"})]})]}),l.jsx(R.div,{className:"absolute top-10 left-10 w-32 h-32 bg-primary/5 rounded-full blur-3xl",animate:{y:[0,20,0]},transition:{repeat:1/0,duration:4}}),l.jsx(R.div,{className:"absolute bottom-10 right-10 w-32 h-32 bg-secondary/5 rounded-full blur-3xl",animate:{y:[0,-20,0]},transition:{repeat:1/0,duration:4}})]})},CX=()=>{const t=nl();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Ky=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Xn=()=>/Android/i.test(navigator.userAgent),EX=()=>/iPad|iPhone|iPod/.test(navigator.userAgent),Od=()=>/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),CS=()=>/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),vc=()=>/Windows/i.test(navigator.userAgent),sf=()=>/Edg/i.test(navigator.userAgent),TX=()=>/Firefox/.test(navigator.userAgent),ES=()=>{const t=!!(window.SpeechRecognition||window.webkitSpeechRecognition),e=Xn()?"Android":EX()?"iOS":vc()?"Windows":"Desktop",n=Od()?"Chrome":sf()?"Edge":CS()?"Safari":TX()?"Firefox":"Other",r=vc()&&(Od()||sf()),i=Xn()&&Od(),s=!Ky()&&!vc()&&(Od()||CS());return{hasAPI:t,platform:e,browser:n,isSupported:t&&(r||i||s),requiresHTTPS:!0}},zA=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[a,o]=_.useState(!1),[c,u]=_.useState(""),[d,h]=_.useState([]),[f,p]=_.useState(""),[x,y]=_.useState(""),[v,g]=_.useState(ES()),[m,b]=_.useState(!1),[S,M]=_.useState(0),w=_.useRef(null),C=_.useRef(null),{toast:E}=KM(),N=_.useCallback(async()=>{if(!navigator.permissions||!navigator.permissions.query)return"prompt";try{return(await navigator.permissions.query({name:"microphone"})).state}catch(W){return console.log("Permission check failed:",W),"prompt"}},[]),L=_.useCallback(async()=>{try{return console.log("Requesting microphone access..."),(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,...Xn()?{sampleRate:16e3,channelCount:1}:{}}})).getTracks().forEach($=>$.stop()),b(!0),E({title:"Microphone Access Granted",description:"Voice features are now available!",variant:"default"}),!0}catch(W){console.error("Microphone access error:",W),b(!1);const $=W instanceof Error?W.message:String(W);return $.includes("Permission denied")||$.includes("NotAllowedError")?E({title:"Microphone Access Denied",description:Xn()?"Please enable microphone access in your browser settings, then refresh the page.":"Please allow microphone access to use voice features. Click the microphone icon in your browser's address bar.",variant:"destructive"}):$.includes("NotFoundError")?E({title:"No Microphone Found",description:"Please connect a microphone and try again.",variant:"destructive"}):E({title:"Microphone Error",description:`Could not access microphone: ${$}`,variant:"destructive"}),!1}},[E]),F="voicebot_conversation",D=50,k=8;_.useEffect(()=>{var W;try{const $=localStorage.getItem(F);if($){const K=JSON.parse($),B=7*24*60*60*1e3;!K.lastActiveTime||Date.now()-K.lastActiveTime<B?(h(K.messages||[]),y(K.summary||""),console.log("Loaded conversation context:",{messageCount:((W=K.messages)==null?void 0:W.length)||0,hasSummary:!!K.summary,lastActive:K.lastActiveTime?new Date(K.lastActiveTime).toLocaleString():"unknown"})):console.log("Conversation context too old, starting fresh")}else console.log("No previous conversation context found")}catch($){console.error("Failed to load conversation history:",$)}},[]),_.useEffect(()=>{(async()=>{const $=await N();$==="granted"?b(!0):$==="denied"&&(b(!1),E({title:"Microphone Access Required",description:"Please enable microphone access in browser settings to use voice features.",variant:"default"}))})()},[N,E]),_.useEffect(()=>{var W;if(d.length>0)try{const $={messages:d.slice(-D),summary:x,lastActiveTime:Date.now()};localStorage.setItem(F,JSON.stringify($)),console.log("Saved conversation context:",{messageCount:$.messages.length,hasSummary:!!$.summary,summaryLength:((W=$.summary)==null?void 0:W.length)||0})}catch($){console.error("Failed to save conversation history:",$)}},[d,x]);const T=_.useCallback(async(W,$,K)=>{var Ne,Te;const B=W.toLowerCase().trim(),{userName:Q,interests:pe,recentTopics:J,conversationLength:de,lastMessages:_e,lastInteraction:be}=K,ue=B.includes("these")||B.includes("which one")||B.includes("both")||B.includes("them")||B.includes("it");console.log(" MESSAGE HISTORY DEBUG:",{hasContextualReference:ue,messageHistoryLength:$.length,fullMessageHistory:$.map(I=>({role:I.role,content:I.content.substring(0,50)+"..."})),willCheckContext:ue&&$.length>1});let ee=[];if(ue&&$.length>1){const I=((Te=(Ne=$[$.length-2])==null?void 0:Ne.content)==null?void 0:Te.toLowerCase())||"";console.log(" CONTEXTUAL REFERENCE DEBUG:",{hasContextualReference:ue,messageHistoryLength:$.length,lastMessage:I,lastMessageExists:!!I}),ee=["avocado","pasta","rice","chicken","salmon","egg","apple","banana"].filter(xe=>I.includes(xe)),console.log(" REFERENCED ITEMS:",ee)}const le=$.filter(I=>I.role==="user").slice(-3),ae=$.filter(I=>I.role==="assistant").slice(-3);if(le.some(I=>I.content.toLowerCase().includes(B.substring(0,20))&&I.content!==W)&&ae.length>0)return`${Q?`${Q}, `:""}I think we talked about something similar before. To build on our previous discussion, what specific aspect would you like to explore further?`;if(ue&&ee.length>=2){const I=ee[0],se=ee[1];return console.log(`QUICK RESPONSE: ${I} vs ${se}`),B.includes("healthy fat")||B.includes("fat")?I==="avocado"||se==="avocado"?`Between ${I} and ${se}, avocado has much more healthy fats!  Avocados contain about 15g of heart-healthy monounsaturated fats, while ${I==="avocado"?se:I} has minimal fat content.`:`For healthy fats, comparing ${I} vs ${se}...`:B.includes("protein")?`Protein comparison: ${I} vs ${se}...`:B.includes("calorie")?`Calorie content: ${I} vs ${se}...`:B.includes("vitamin")||B.includes("nutrient")?`Nutritional comparison of ${I} and ${se}...`:B.includes("better")||B.includes("healthier")?`Between ${I} and ${se}, both have benefits. Let me explain...`:`Continuing about ${I} and ${se}...`}const O=["avocado","pasta","rice","chicken","salmon","egg","apple","banana","bread","cheese","milk"].filter(I=>B.includes(I));if(console.log(" FOOD COMPARISON DEBUG:",{input:B,mentionedFoods:O,hasEnoughFoods:O.length>=2,hasBetter:B.includes("better"),shouldTrigger:O.length>=2&&(B.includes("better")||B.includes("vs")||B.includes("versus")||B.includes("compare"))}),O.length>=2&&(B.includes("better")||B.includes("vs")||B.includes("versus")||B.includes("compare"))){const I=O[0],se=O[1];return(I==="avocado"||se==="avocado")&&(I==="pasta"||se==="pasta")?"Great question! Avocado and pasta serve different nutritional purposes.  Avocado is rich in healthy fats, fiber, and vitamins, while pasta provides energy through carbohydrates. For overall nutrition density, avocado wins with its heart-healthy monounsaturated fats and potassium. But pasta is perfect for quick energy! What specific aspect interests you - calories, nutrients, or cooking uses?":`Interesting comparison between ${I} and ${se}! Both have unique nutritional benefits. What specific aspect would you like me to focus on - nutrition, taste, or cooking applications?`}if(B.includes("food")||B.includes("cook")||B.includes("recipe")||B.includes("eat")){if(pe.anime&&pe.food)return`${Q?`${Q}, `:""}Since we've been talking about both food and anime, have you noticed how beautifully food is portrayed in anime? What's your favorite food scene from an anime?`;const I=[`${Q?`Great question, ${Q}! `:""}That sounds delicious! Based on our chat, what's your favorite cuisine?`,"Cooking is such a wonderful skill! Are you looking for recipe suggestions?","Food brings people together! What are you in the mood to cook today?",`${Q?`${Q}, `:""}I'd love to help you with cooking tips! What dish are you thinking about?`,"There's nothing better than a good meal! Tell me more about what you're craving."];return I[Math.floor(Math.random()*I.length)]}if(B.includes("anime")||B.includes("manga")||B.includes("naruto")||B.includes("tanjiro")||B.includes("deku")){if(pe.food&&pe.anime)return`${Q?`${Q}, `:""}I love how we've been discussing both anime and food! Have you ever tried making dishes from your favorite anime series?`;const I=[`${Q?`${Q}, `:""}anime is amazing! Which series are you watching right now?`,"I love anime too! The storytelling and animation are incredible.","That's a great anime choice! What did you think of the latest episodes?","Anime characters are so inspiring! Who's your favorite character?",`${Q?`Based on our chat, ${Q}, `:""}the anime world has so many amazing stories! What genre do you prefer?`];return I[Math.floor(Math.random()*I.length)]}if(B.includes("game")||B.includes("play")||B.includes("gaming")){const I=[`${Q?`${Q}, `:""}games are so much fun! What type of games do you enjoy playing?`,"I'd love to hear about your gaming adventures! What's your current favorite?","Gaming is a great way to relax and have fun! Any recommendations for me?","That sounds like an exciting game! How long have you been playing it?","Games can be so immersive! What draws you to that particular game?"];return I[Math.floor(Math.random()*I.length)]}if(B.includes("hello")||B.includes("hi")||B.includes("hey"))return $.length>5?`${Q?`Hello again, ${Q}! `:"Hello again! "}It's great to continue our conversation. What would you like to talk about next?`:`${Q?`Hello, ${Q}! `:"Hello! "}I'm so happy to chat with you today! What would you like to talk about?`;if(B.includes("how are you")||B.includes("how's it going"))return`${Q?`${Q}, `:""}I'm doing great, thank you for asking! I'm really enjoying our conversation. How are you doing today?`;if(B.includes("thank you")||B.includes("thanks"))return`${Q?`You're very welcome, ${Q}! `:"You're very welcome! "}I'm here to help whenever you need it. Is there anything else you'd like to chat about?`;if(B.includes("help")||B.includes("support")){const I=[];return pe.food&&I.push("food and cooking"),pe.anime&&I.push("anime"),pe.gaming&&I.push("games"),I.length>0?`${Q?`${Q}, `:""}I'm here to help! I see we've been chatting about ${I.join(", ")}. Feel free to ask me more about these topics or anything else on your mind!`:"I'm here to help! You can ask me about food, cooking, anime, games, or just chat about anything on your mind!"}const P=$.slice(-5).map(I=>I.content.toLowerCase()),te=P.some(I=>I.includes("food")||I.includes("cook")),re=P.some(I=>I.includes("anime")||I.includes("manga")),X=P.some(I=>I.includes("game")||I.includes("play"));if(te&&re)return`${Q?`${Q}, `:""}that's interesting! I love how anime often features amazing food scenes. Have you seen any cooking anime like Shokugeki no Soma?`;if(te&&X)return`${Q?`${Q}, `:""}I notice you enjoy both food and gaming! Have you played any cooking games or food-themed games?`;if(re&&X)return`${Q?`${Q}, `:""}anime and gaming - great combination! Have you played any games based on anime series?`;if(te)return`${Q?`${Q}, `:""}I love our food conversation! Cooking is such a creative and rewarding activity. What's your next culinary adventure?`;if(re)return`${Q?`${Q}, `:""}anime discussions are the best! There are so many incredible series with unique stories and characters.`;if(X)return`${Q?`${Q}, `:""}gaming is such an amazing hobby! What draws you to the games you play?`;const me=[`${Q?`${Q}, `:""}that's really interesting! Based on our chat, tell me more about that.`,`${Q?`I appreciate you sharing that with me, ${Q}! `:"I appreciate you sharing that with me! "}What's your thoughts on it?`,"That sounds fascinating! I'd love to hear your perspective.",`${Q?`Thanks for chatting with me, ${Q}! `:"Thanks for chatting with me! "}What else is on your mind today?`,"That's a great point! I enjoy our conversations so much.",`${Q?`${Q}, `:""}I'm here to listen and chat! What would you like to explore next?`];return me[Math.floor(Math.random()*me.length)]},[]),z=_.useCallback(async W=>{if(W.length<4)return"";try{const $=W.filter(ue=>ue.role==="user"),K=W.filter(ue=>ue.role==="assistant"),B=W.map(ue=>ue.content.toLowerCase()).join(" ").match(/my name is (\w+)|i'm (\w+)|call me (\w+)/),Q=B?B[1]||B[2]||B[3]:"",pe=W.map(ue=>ue.content.toLowerCase()).join(" "),J=[];(pe.includes("food")||pe.includes("cook")||pe.includes("recipe"))&&J.push("food/cooking"),(pe.includes("anime")||pe.includes("manga"))&&J.push("anime"),(pe.includes("game")||pe.includes("play")||pe.includes("gaming"))&&J.push("gaming");let de=`Create a detailed conversation summary for context carryover. This summary will be used in future conversations to maintain continuity. Include:

ESSENTIAL CONTEXT:
1. User's name/identity: ${Q||"not mentioned yet"}
2. Main topics discussed: ${J.join(", ")||"introductory conversation"}
3. User's specific interests, preferences, and goals mentioned
4. Any ongoing projects, questions, or learning objectives
5. Conversational style and personality traits observed
6. Key facts about the user shared during conversation

CONVERSATION FLOW:
- How the conversation started and developed
- Main questions asked and key answers provided
- Any advice given or information shared
- Current conversation state and next logical topics

This summary should help maintain conversation continuity and context across sessions.

Conversation to summarize:
`;const _e=[...W.slice(0,4),...W.slice(-8)];de+=_e.map(ue=>`${ue.role}: ${ue.content}`).join(`
`);const be=await fetch("https://qpwhlocugtqcuztuioka.supabase.co/functions/v1/voice-chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwd2hsb2N1Z3RxY3V6dHVpb2thIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY1NzE4MjUsImV4cCI6MjA4MjE0NzgyNX0.OXcVzriTB6tnKa5AUXL0manzeqU2P7f-o4wPnS5Wkqo"},body:JSON.stringify({message:de,conversationHistory:[],isInternalSummary:!0})});if(be.ok){const ue=await be.json();return console.log("Generated conversation summary:",ue.reply),ue.reply||""}}catch($){console.error("Failed to generate summary:",$);const K=W.filter(de=>de.role==="user"),B=W.map(de=>de.content.toLowerCase()).join(" "),Q=[];(B.includes("food")||B.includes("cook"))&&Q.push("food/cooking"),(B.includes("anime")||B.includes("manga"))&&Q.push("anime"),(B.includes("game")||B.includes("gaming"))&&Q.push("gaming");const pe=B.match(/my name is (\w+)|i'm (\w+)|call me (\w+)/);return`Conversation with ${(pe?pe[1]||pe[2]||pe[3]:"")||"user"} about ${Q.length>0?Q.join(", "):"various topics"}. ${K.length} user messages exchanged.`}return""},[]),j=_.useCallback(W=>{window.speechSynthesis.cancel();const $=new SpeechSynthesisUtterance(W);$.rate=1,$.pitch=1,$.volume=1;const B=window.speechSynthesis.getVoices().find(Q=>Q.name.includes("Google")||Q.name.includes("Samantha")||Q.lang==="en-US");B&&($.voice=B),$.onstart=()=>s(!0),$.onend=()=>s(!1),$.onerror=()=>s(!1),C.current=$,window.speechSynthesis.speak($)},[]),G=_.useCallback(async W=>{var ee,le;if(!W.trim())return;console.log("=== VoiceBot Message Handling Debug ==="),console.log("Input text:",W),console.log("Current messages count:",d.length),console.log("=== VoiceBot Configuration Debug ==="),console.log("VITE_SUPABASE_URL:","https://qpwhlocugtqcuztuioka.supabase.co"),console.log("VITE_SUPABASE_PUBLISHABLE_KEY:","SET"),o(!0);const $={role:"user",content:W,timestamp:Date.now()},K=[...d,$];h(K);const B=K.map(ae=>ae.content.toLowerCase()).join(" "),Q=B.match(/my name is (\w+)|i'm (\w+)|call me (\w+)/),pe=Q?Q[1]||Q[2]||Q[3]:"";B.includes("food")||B.includes("cook")||B.includes("recipe")||B.includes("eat"),B.includes("anime")||B.includes("manga")||B.includes("naruto")||B.includes("tanjiro"),B.includes("game")||B.includes("play")||B.includes("gaming"),B.includes("nutrition")||B.includes("healthy")||B.includes("vitamin"),B.includes("learn")||B.includes("how to")||B.includes("teach");const de=K.slice(-5).map(ae=>{const ye=ae.content.toLowerCase(),oe=[];return(ye.includes("food")||ye.includes("cook"))&&oe.push("food"),ye.includes("anime")&&oe.push("anime"),ye.includes("game")&&oe.push("gaming"),(ye.includes("healthy")||ye.includes("nutrition"))&&oe.push("health"),oe}).flat(),_e={messages:K,summary:x||`User: ${pe||"Guest"}, Topics: ${de.join(", ")||"General conversation"}`,lastActiveTime:Date.now()};r(!1);const be=K.slice(-k),ue="Context disabled for performance";try{let ae={message:W,conversationHistory:be.slice(0,-1),conversationMetadata:{messageCount:K.length,userName:_e.userName,hasLongHistory:K.length>10,sessionId:_e.sessionId,contextWindow:k,totalStoredMessages:d.length,interests:_e.interests,recentTopics:_e.recentTopics},conversationSummary:ue,persistentContext:{userPreferences:_e.interests,conversationContinuity:!0,lastInteractionTime:_e.lastInteraction}};if(console.log("=== ENHANCED CONTEXT DEBUG ==="),console.log("Total messages in conversation:",K.length),console.log("Recent messages being sent:",be.length),console.log("Context summary:",ue),console.log("User interests:",_e.interests),console.log("Recent topics:",_e.recentTopics),console.log("Context payload size:",JSON.stringify(ae).length),K.length>0&&K.length%10===0){console.log("Generating conversation summary at message",K.length);const oe=await z(K);oe&&(y(oe),ae.conversationSummary=oe,console.log("Updated conversation summary:",oe))}console.log("=== API Call Debug ==="),console.log("About to call Supabase edge function with payload:",JSON.stringify(ae,null,2));let ye;try{throw new Error("FALLBACK_TO_LOCAL");if(!ye.ok){const P=await ye.text();if(console.error("API Error Response:",P),ye.status===500||P.includes("LOVABLE_API_KEY"))throw new Error("FALLBACK_TO_LOCAL");let te;try{te=JSON.parse(P)}catch{te={error:P}}throw new Error(te.error||`Request failed: ${ye.status} - ${P}`)}}catch(oe){console.error("=== API ERROR DETAILS ==="),console.error("Error type:",oe.constructor.name),console.error("Error message:",oe.message),console.error("Full error:",oe),console.warn("Supabase edge function not available, using local fallback:",oe),localStorage.getItem("voicebot_fallback_notified")||(E({title:"Local Mode",description:"Using local responses. Configure Supabase for AI-powered chat.",variant:"default"}),localStorage.setItem("voicebot_fallback_notified","true")),console.log("Using enhanced local fallback with persistent context"),console.log("=== ENHANCED LOCAL FALLBACK DEBUG ==="),console.log("Current context summary:",ue),console.log(" ABOUT TO CALL generateLocalResponse with:",{text:W,recentMessagesLength:be.length,hasContext:!!_e});const O=JSON.parse(localStorage.getItem("voicebot_conversation")||"{}"),P=O.messages||[],te=[...P,...K],re={messages:te,summary:O.summary||_e.summary,lastActiveTime:Date.now()};console.log(" COMPLETE HISTORY DEBUG:",{storedMessages:P.length,currentSession:K.length,totalForContext:te.length,lastStoredMessage:(le=(ee=P[P.length-1])==null?void 0:ee.content)==null?void 0:le.substring(0,50)});const X=await T(W,te,re);console.log("Generated enhanced local response:",X);const me={role:"assistant",content:X,timestamp:Date.now()},Ne=[...K,me];h(Ne),p(X),j(X),Ne.length>=8&&Ne.length%8===0&&console.log("Generating context summary for continuity at message",Ne.length),o(!1);return}}catch(ae){console.error("Voice chat error:",ae),E({title:"Error",description:ae instanceof Error?ae.message:"Failed to get response",variant:"destructive"})}finally{o(!1)}},[d,x,z,j,E]);_.useEffect(()=>{const $=setTimeout(()=>{const K=ES();if(g(K),console.log("=== Speech Recognition Support Debug ==="),console.log("Platform:",K.platform),console.log("Browser:",K.browser),console.log("Has API:",K.hasAPI),console.log("Is Supported:",K.isSupported),console.log("Is Mobile:",Ky()),console.log("Is Android:",Xn()),console.log("Is Windows:",vc()),console.log("Is Edge:",sf()),console.log("Is HTTPS:",location.protocol==="https:"),!K.hasAPI){console.error("Speech Recognition API not available");return}K.isSupported||console.warn("Speech Recognition not fully supported on this platform/browser");const B=window.SpeechRecognition||window.webkitSpeechRecognition;if(B)try{w.current=new B,Xn()?(w.current.continuous=!1,w.current.interimResults=!1):(vc()&&sf(),w.current.continuous=!1,w.current.interimResults=!0),w.current.lang="en-US",w.current.onstart=()=>{console.log("Speech recognition started"),r(!0),M(0)},w.current.onresult=Q=>{var pe;console.log("Speech recognition result:",Q);try{const J=Q.resultIndex;if(Q.results&&Q.results[J]&&Q.results[J][0]){const de=Q.results[J][0],_e=((pe=de.transcript)==null?void 0:pe.trim())||"";console.log("Transcript:",_e,"Confidence:",de.confidence,"isFinal:",Q.results[J].isFinal),_e&&(u(_e),(Xn()||Q.results[J].isFinal)&&G(_e))}}catch(J){console.error("Error processing speech result:",J)}},w.current.onerror=Q=>{switch(console.error("Speech recognition error:",Q.error,Q),r(!1),Q.error){case"not-allowed":b(!1),E({title:"Microphone Access Denied",description:Xn()?"Please enable microphone access in your browser settings and refresh the page.":"Please enable microphone access to use voice features.",variant:"destructive"});break;case"no-speech":E({title:"No Speech Detected",description:"Please try speaking again. Make sure you're close to the microphone.",variant:"default"});break;case"audio-capture":E({title:"Microphone Error",description:"Could not access microphone. Please check your device settings.",variant:"destructive"});break;case"network":E({title:"Network Error",description:"Speech recognition requires an internet connection.",variant:"destructive"});break;case"aborted":break;default:E({title:"Speech Recognition Error",description:`Error: ${Q.error}. Please try again.`,variant:"destructive"})}},w.current.onend=()=>{console.log("Speech recognition ended"),r(!1)}}catch(Q){console.error("Failed to initialize speech recognition:",Q)}},Ky()?500:100);return()=>{if(clearTimeout($),w.current)try{w.current.abort()}catch(K){console.error("Error aborting speech recognition:",K)}window.speechSynthesis.cancel()}},[]);const V=_.useCallback(async()=>{if(console.log("=== Starting Speech Recognition ==="),console.log("Recognition ref:",!!w.current),console.log("Is listening:",n),console.log("Speech support:",v),!v.hasAPI||!w.current){const W=v.hasAPI?"Speech recognition failed to initialize. Please refresh the page.":`Speech recognition is not supported in ${v.browser} on ${v.platform}.`;E({title:"Not Supported",description:Xn()?"Please use Chrome browser for voice features on Android, or Chrome/Edge on Windows.":W,variant:"destructive"});return}if(location.protocol!=="https:"&&location.hostname!=="localhost"){E({title:"HTTPS Required",description:"Voice features require a secure connection (HTTPS).",variant:"destructive"});return}try{const W=await N();if(W==="denied"){E({title:"Microphone Access Denied",description:"Please enable microphone access in browser settings to use voice features.",variant:"destructive"});return}if((!m||W==="prompt")&&!await L())return;if(console.log("Microphone permission confirmed, starting recognition..."),u(""),n&&w.current)try{w.current.abort()}catch($){console.log("Recognition abort failed (expected):",$)}setTimeout(()=>{if(w.current)try{console.log("Attempting to start speech recognition..."),w.current.start(),r(!0)}catch($){console.error("Failed to start recognition:",$),r(!1),S<2?(console.log("Retrying speech recognition...",S+1),M(K=>K+1),setTimeout(()=>V(),1e3)):E({title:"Speech Recognition Error",description:"Failed to start voice recognition. Please try again.",variant:"destructive"})}},Xn()?300:100)}catch(W){console.error("Microphone access error:",W),b(!1),r(!1);const $=W instanceof Error?W.message:String(W);$.includes("Permission denied")||$.includes("NotAllowedError")?E({title:"Microphone Access Denied",description:Xn()?"Please enable microphone access in your browser settings, then refresh the page.":"Please enable microphone access and try again.",variant:"destructive"}):$.includes("NotFoundError")?E({title:"No Microphone Found",description:"Please connect a microphone and try again.",variant:"destructive"}):E({title:"Microphone Error",description:`Could not access microphone: ${$}`,variant:"destructive"})}},[E,v,n,S]),U=_.useCallback(()=>{if(console.log("Stopping speech recognition..."),w.current&&n)try{w.current.stop()}catch(W){console.error("Error stopping recognition:",W);try{w.current.abort()}catch($){console.error("Error aborting recognition:",$)}}r(!1),u("")},[n]),q=_.useCallback(()=>{window.speechSynthesis.cancel(),s(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(R.button,{onClick:()=>e(!0),className:"fixed bottom-24 right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-r from-primary to-accent shadow-lg flex items-center justify-center text-primary-foreground hover:scale-110 transition-transform",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{scale:0},animate:{scale:t?0:1},children:l.jsx(OC,{className:"w-6 h-6"})}),l.jsx(sr,{children:t&&l.jsxs(R.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},className:"fixed bottom-24 right-6 z-50 w-80 bg-card border border-border rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-primary to-accent p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:l.jsx(OL,{className:"w-5 h-5 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-primary-foreground text-sm",children:"AI Voice Assistant"}),l.jsx("p",{className:"text-xs text-primary-foreground/80",children:"Tap the mic to speak"})]})]}),l.jsx(pt,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"text-primary-foreground hover:bg-white/20",children:l.jsx(fu,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"h-64 overflow-y-auto p-4 space-y-3 bg-background",children:[d.length===0&&l.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8",children:[l.jsx("p",{children:" Hi! I'm your AI assistant."}),l.jsx("p",{className:"mt-2",children:"Tap the microphone and ask me anything!"}),x&&l.jsx("p",{className:"mt-2 text-xs opacity-70",children:"Continuing our previous conversation..."}),!v.isSupported&&l.jsx("div",{className:"mt-4 p-3 bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-800 rounded-lg",children:l.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[" Voice features work best in Chrome or Edge browser",Xn()&&" on Android devices"]})}),!m&&v.hasAPI&&l.jsx("div",{className:"mt-2 p-3 bg-blue-100 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-800 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-200 font-medium",children:" Microphone access required for voice chat"}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"Click to enable voice features"})]}),l.jsx(pt,{onClick:L,size:"sm",className:"ml-2 bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1",children:"Enable Mic"})]})})]}),x&&d.length>0&&l.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-2 rounded-lg border-l-2 border-primary/30",children:[l.jsx("span",{className:"font-medium",children:"Previous context:"})," ",x.substring(0,100),x.length>100&&"..."]}),d.map((W,$)=>l.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${W.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-2xl text-sm ${W.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:W.content})},$)),a&&l.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:l.jsxs("div",{className:"bg-muted px-4 py-2 rounded-2xl rounded-bl-md flex items-center gap-2",children:[l.jsx(SL,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Thinking..."})]})})]}),c&&l.jsx("div",{className:"px-4 py-2 bg-muted/50 border-t border-border",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:['Hearing: "',c,'"']})}),l.jsxs("div",{className:"p-4 border-t border-border bg-card flex items-center justify-center gap-4",children:[i&&l.jsx(pt,{variant:"outline",size:"sm",onClick:q,className:"text-xs",children:"Stop Speaking"}),l.jsx(R.button,{onClick:n?U:V,disabled:a||i||!v.hasAPI,className:`w-16 h-16 rounded-full flex items-center justify-center transition-all ${v.hasAPI?n?"bg-destructive text-destructive-foreground animate-pulse":a||i?"bg-muted text-muted-foreground cursor-not-allowed":"bg-primary text-primary-foreground hover:bg-primary/90":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,whileHover:!a&&!i&&v.hasAPI?{scale:1.05}:{},whileTap:!a&&!i&&v.hasAPI?{scale:.95}:{},title:v.hasAPI?n?"Stop listening":"Start voice input":`Voice not supported in ${v.browser} on ${v.platform}`,children:v.hasAPI?n?l.jsx(Yg,{className:"w-6 h-6"}):l.jsx(BC,{className:"w-6 h-6"}):l.jsx(Yg,{className:"w-6 h-6"})})]})]})})]})};function NX(){const{t}=Wn(),e=yu();return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:[" ",t("app_name")," Features Demo"]}),l.jsx("p",{className:"text-gray-600",children:"Try the new language support and voice bot features!"})]}),l.jsx(Oy,{})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-600 mb-4",children:" Multi-Language Support"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"EatXP now supports 9 languages!"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("li",{children:" English"}),l.jsx("li",{children:" Spanish"}),l.jsx("li",{children:" French"}),l.jsx("li",{children:" Japanese"}),l.jsx("li",{children:" Hindi ()"}),l.jsx("li",{children:" Bengali ()"}),l.jsx("li",{children:" Tamil ()"}),l.jsx("li",{children:" Telugu ()"}),l.jsx("li",{children:" Marathi ()"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Your preference is saved automatically!"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-purple-600 mb-4",children:" Voice Bot Assistant"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Talk to EatXP using voice commands in any language!"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("li",{children:" Speech Recognition"}),l.jsx("li",{children:" Text-to-Speech Response"}),l.jsx("li",{children:" Multi-language Support"}),l.jsx("li",{children:" Interactive UI"}),l.jsx("li",{children:" Real-time Processing"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Grant microphone permission to use voice features"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:" What's New"}),l.jsxs("p",{className:"text-gray-700 mb-4",children:[t("app_name")," has been upgraded with incredible new features!"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsx("li",{children:" 9 Language Support"}),l.jsx("li",{children:" Voice Recognition"}),l.jsx("li",{children:" Speech Synthesis"}),l.jsx("li",{children:" Persistent Settings"}),l.jsx("li",{children:" Browser Auto-detect"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Built with React, i18next, and Web Speech API"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-4 text-gray-800",children:"Try the Voice Bot Below "}),l.jsxs("p",{className:"text-center text-gray-600 mb-8",children:["Try speaking in ",t("common.language")," - Click the microphone button!"]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(zA,{})})]}),l.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"How to Use:"}),l.jsxs("ol",{className:"space-y-3 text-blue-800",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"1. Change Language:"})," Use the language dropdown at the top right to switch between 9 supported languages"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"2. Try Voice Bot:"}),' Click the "Click to speak" button and say something like "apple", "recipe", "food", etc.']}),l.jsxs("li",{children:[l.jsx("strong",{children:"3. Enjoy Response:"})," The bot will listen to you, process your input, and respond with voice!"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"4. Multi-language:"})," The voice bot automatically adjusts to your selected language"]})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(pt,{onClick:()=>e("/"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 text-lg",children:" Back to Main App"})})]})})}const kX=({characterId:t="tanjiro"})=>{const[e,n]=_.useState(!1),[r,i]=_.useState(!1),s=Xh(0),a=Xh(0),o={damping:25,stiffness:200},c=Uw(s,o),u=Uw(a,o),d=Ct[t]||Ct.tanjiro;_.useEffect(()=>{const y=m=>{s.set(m.clientX),a.set(m.clientY),n(!0)},v=()=>{n(!1)},g=()=>{i(!0),setTimeout(()=>i(!1),500)};return window.addEventListener("mousemove",y),window.addEventListener("mouseleave",v),window.addEventListener("click",g),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseleave",v),window.removeEventListener("click",g)}},[s,a]);const h=()=>({tanjiro:"! ",deku:"Plus Ultra! ",eren:"Tatakae! ",yuji:"Itadori desu! ",ninrir:"Let's cook! ",yor:"Elegant~ "})[t]||"Let's go! ",p={primary:d.color,secondary:d.color+"80",accent:d.color+"40"},x=()=>{const y={width:"70",height:"90",viewBox:"0 0 70 90",className:"drop-shadow-lg",style:{filter:"drop-shadow(3px 5px 4px rgba(0,0,0,0.3))"}};switch(t){case"tanjiro":return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("polygon",{points:"10,25 5,8 18,22",fill:"#8B0000"}),l.jsx("polygon",{points:"15,22 12,5 25,18",fill:"#8B0000"}),l.jsx("polygon",{points:"25,18 25,2 35,15",fill:"#8B0000"}),l.jsx("polygon",{points:"35,15 38,0 45,15",fill:"#8B0000"}),l.jsx("polygon",{points:"45,18 50,5 55,22",fill:"#8B0000"}),l.jsx("polygon",{points:"55,22 60,8 60,25",fill:"#8B0000"}),l.jsx("ellipse",{cx:"35",cy:"28",rx:"28",ry:"18",fill:"#8B0000"}),l.jsx("polygon",{points:"20,30 15,22 28,28",fill:"#A52A2A"}),l.jsx("polygon",{points:"50,30 55,22 42,28",fill:"#A52A2A"})]}),l.jsx("rect",{x:"32",y:"22",width:"6",height:"2",rx:"1",fill:"#C41E3A"}),l.jsx("circle",{cx:"15",cy:"50",r:"3",fill:"#FFD700"}),l.jsx("circle",{cx:"55",cy:"50",r:"3",fill:"#FFD700"}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"3",ry:"4",fill:"#8B0000"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"3",ry:"4",fill:"#8B0000"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#2C3E50"}),l.jsxs("pattern",{id:"checkered",x:"0",y:"0",width:"4",height:"4",patternUnits:"userSpaceOnUse",children:[l.jsx("rect",{width:"2",height:"2",fill:"#2C3E50"}),l.jsx("rect",{x:"2",y:"2",width:"2",height:"2",fill:"#2C3E50"}),l.jsx("rect",{x:"2",y:"0",width:"2",height:"2",fill:"#8B0000"}),l.jsx("rect",{x:"0",y:"2",width:"2",height:"2",fill:"#8B0000"})]}),l.jsx("path",{d:"M20,65 Q35,72 50,65 L52,72 Q35,77 18,72 Z",fill:"url(#checkered)"})]});case"deku":return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("circle",{cx:"20",cy:"20",r:"8",fill:"#228B22"}),l.jsx("circle",{cx:"35",cy:"15",r:"12",fill:"#228B22"}),l.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"#228B22"}),l.jsx("circle",{cx:"30",cy:"25",r:"6",fill:"#32CD32"}),l.jsx("circle",{cx:"40",cy:"25",r:"6",fill:"#32CD32"}),l.jsx("ellipse",{cx:"35",cy:"28",rx:"25",ry:"15",fill:"#228B22"})]}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("circle",{cx:"25",cy:"48",r:"0.5",fill:"#D2B48C"}),l.jsx("circle",{cx:"30",cy:"46",r:"0.5",fill:"#D2B48C"}),l.jsx("circle",{cx:"40",cy:"46",r:"0.5",fill:"#D2B48C"}),l.jsx("circle",{cx:"45",cy:"48",r:"0.5",fill:"#D2B48C"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"6",ry:"7",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"4",ry:"5",fill:"#228B22"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"6",ry:"7",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"4",ry:"5",fill:"#228B22"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#228B22"}),l.jsx("rect",{x:"30",y:"65",width:"10",height:"8",fill:"white"}),l.jsx("text",{x:"35",y:"71",textAnchor:"middle",fontSize:"6",fill:"#228B22",fontWeight:"bold",children:""})]});case"eren":return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("polygon",{points:"8,25 3,8 15,22",fill:"#8B4513"}),l.jsx("polygon",{points:"15,22 10,5 28,18",fill:"#8B4513"}),l.jsx("polygon",{points:"28,18 25,2 38,15",fill:"#8B4513"}),l.jsx("polygon",{points:"38,15 40,0 48,15",fill:"#8B4513"}),l.jsx("polygon",{points:"48,18 52,5 62,22",fill:"#8B4513"}),l.jsx("polygon",{points:"62,22 67,8 62,25",fill:"#8B4513"}),l.jsx("ellipse",{cx:"35",cy:"28",rx:"30",ry:"18",fill:"#8B4513"})]}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"3",ry:"4",fill:"#32CD32"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"3",ry:"4",fill:"#32CD32"}),l.jsx("path",{d:"M22,38 L32,40",stroke:"#654321",strokeWidth:"2"}),l.jsx("path",{d:"M38,40 L48,38",stroke:"#654321",strokeWidth:"2"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#8B4513"}),l.jsx("rect",{x:"20",y:"68",width:"30",height:"3",fill:"#2F4F4F"}),l.jsx("rect",{x:"25",y:"72",width:"20",height:"2",fill:"#2F4F4F"})]});case"yuji":return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("polygon",{points:"10,25 8,8 20,22",fill:"#FFB6C1"}),l.jsx("polygon",{points:"20,22 15,5 30,18",fill:"#FFB6C1"}),l.jsx("polygon",{points:"30,18 28,2 42,15",fill:"#FFB6C1"}),l.jsx("polygon",{points:"42,15 45,0 52,15",fill:"#FFB6C1"}),l.jsx("polygon",{points:"52,18 55,5 62,22",fill:"#FFB6C1"}),l.jsx("polygon",{points:"62,22 62,8 60,25",fill:"#FFB6C1"}),l.jsx("ellipse",{cx:"35",cy:"28",rx:"28",ry:"18",fill:"#FFB6C1"})]}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("rect",{x:"22",y:"40",width:"2",height:"8",fill:"#FF1493"}),l.jsx("rect",{x:"46",y:"40",width:"2",height:"8",fill:"#FF1493"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"3",ry:"4",fill:"#8B4513"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"3",ry:"4",fill:"#8B4513"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#000080"}),l.jsx("rect",{x:"32",y:"65",width:"6",height:"8",fill:"white"})]});case"ninrir":return l.jsxs("svg",{...y,children:[l.jsx("ellipse",{cx:"35",cy:"20",rx:"25",ry:"15",fill:"white"}),l.jsx("ellipse",{cx:"35",cy:"25",rx:"30",ry:"8",fill:"white"}),l.jsx("ellipse",{cx:"35",cy:"35",rx:"24",ry:"12",fill:"#D2691E"}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"3",ry:"4",fill:"#8B4513"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"3",ry:"4",fill:"#8B4513"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"white"}),l.jsx("rect",{x:"30",y:"68",width:"10",height:"6",fill:"#D2691E"}),l.jsx("rect",{x:"10",y:"60",width:"1",height:"15",fill:"#8B4513"}),l.jsx("ellipse",{cx:"10.5",cy:"58",rx:"2",ry:"3",fill:"#C0C0C0"})]});case"yor":return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("ellipse",{cx:"35",cy:"28",rx:"28",ry:"18",fill:"#2F2F2F"}),l.jsx("polygon",{points:"15,30 10,22 25,28",fill:"#2F2F2F"}),l.jsx("polygon",{points:"55,30 60,22 45,28",fill:"#2F2F2F"}),l.jsx("circle",{cx:"20",cy:"25",r:"3",fill:"#E91E63"}),l.jsx("circle",{cx:"50",cy:"25",r:"3",fill:"#E91E63"})]}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"28",cy:"43",rx:"3",ry:"4",fill:"#E91E63"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"42",cy:"43",rx:"3",ry:"4",fill:"#E91E63"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#2F2F2F"}),l.jsx("path",{d:"M20,65 Q35,72 50,65",stroke:"#E91E63",strokeWidth:"2",fill:"none"})]});default:return l.jsxs("svg",{...y,children:[l.jsxs("g",{children:[l.jsx("polygon",{points:"10,25 5,8 18,22",fill:"#FFD93D"}),l.jsx("ellipse",{cx:"35",cy:"28",rx:"28",ry:"18",fill:"#FFD93D"})]}),l.jsx("ellipse",{cx:"35",cy:"45",rx:"22",ry:"20",fill:"#FFE4C4"}),l.jsx("ellipse",{cx:"27",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("ellipse",{cx:"43",cy:"43",rx:"5",ry:"6",fill:"white"}),l.jsx("path",{d:"M15,62 Q35,70 55,62 L58,75 Q35,80 12,75 Z",fill:"#FF6B35"})]})}};return l.jsx(R.div,{className:"fixed pointer-events-none z-[9999] select-none",style:{x:c,y:u,translateX:60,translateY:-120,cursor:"none"},initial:{opacity:0,scale:0},animate:{opacity:e?1:0,scale:e?1:0,rotateY:r?[0,15,-15,0]:0},transition:{duration:.2},children:l.jsxs("div",{className:"relative",style:{perspective:"500px",transformStyle:"preserve-3d"},children:[l.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-3 bg-black/20 rounded-full blur-sm",style:{transform:"translateZ(-20px) rotateX(90deg)"}}),l.jsxs(R.div,{className:"relative",animate:{y:[0,-5,0],rotateZ:r?[0,-10,10,0]:0},transition:{y:{duration:2,repeat:1/0,ease:"easeInOut"},rotateZ:{duration:.3}},style:{transformStyle:"preserve-3d",transform:"rotateX(-5deg)"},children:[x(),r&&l.jsxs(R.div,{initial:{opacity:0,scale:0,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0},className:"absolute -top-8 left-1/2 -translate-x-1/2 rounded-lg px-2 py-1 shadow-lg text-xs font-bold whitespace-nowrap",style:{backgroundColor:p.primary,color:"white",transformStyle:"preserve-3d",transform:"translateZ(20px)"},children:[h(),l.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2",style:{backgroundColor:p.primary}})]})]}),l.jsx(R.div,{className:"absolute -top-2 -right-2",animate:{scale:[1,1.2,1],opacity:[.5,1,.5],rotate:[0,180,360]},transition:{duration:2,repeat:1/0},children:l.jsx("span",{className:"text-lg",children:d.emoji})}),l.jsx(R.div,{className:"absolute top-1/2 -left-3",animate:{scale:[1,1.3,1],opacity:[.3,.8,.3]},transition:{duration:1.5,repeat:1/0,delay:.5},children:l.jsx("span",{className:"text-sm",children:""})})]})})},AX="EatXP",jX={home:"Home",recipes:"Recipes",games:"Games",profile:"Profile",settings:"Settings"},PX={language:"Language",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:"Voice Bot",logout:"Logout",login:"Login",register:"Register",back_to_home:" Back to Home",hello:"Hello",choose_character:"Choose Character",story_mode:"Story Mode",change_theme:"Change Theme",change_age:"Change Age",anime_themes:"Anime Themes"},LX={welcome:"Welcome to EatXP",subtitle:"Learn about food while having fun!",start_learning:"Start Learning",story_mode:"Story Mode",story_desc:"Learn nutrition!",play_games:"Play Games",games_desc:"Learn & have fun!",read_comics:"Read Comics",comics_desc:"Fun food stories!",food_map:"Food Map",food_map_desc:"Explore regions!",cutscenes:"Cutscenes",cutscenes_desc:"Watch anime!",manga:"Manga",manga_desc:"Comic strips!",daily_challenge:"Daily Challenge",challenge_desc:"Try a new veggie today! ",challenge_text:"Earn 10 points by trying a vegetable you've never had before!",accept_challenge:"Accept Challenge",quick_recipes:"Quick Recipes"},RX={kids:"Little Chef",tweens:"Junior Cook",teens:"Teen Chef",default:"Chef"},DX={title:"EatXP Voice Assistant",listen:"Listening...",speak:"Click to speak",processing:"Processing...",help_text:"Ask me anything about food, recipes, or nutrition!"},FX={shokuiku_saga:"Shokuiku Saga RPG",shokuiku_desc:"Role-playing adventure in Food Kingdom",boss_battles:"Boss Battles",boss_desc:"Weekly anime boss fights",meal_mastery:"Meal Mastery",meal_desc:"Design balanced meal plans",manga_builder:"Manga Builder",manga_desc:"Create food-themed stories",real_missions:"Real-Life Missions",missions_desc:"Complete tasks to power up your character"},IX={fruits:"Fruits",veggies:"Veggies",proteins:"Proteins",grains:"Grains",dairy:"Dairy",snacks:"Snacks"},OX={banana:"Banana",carrot:"Carrot",apple:"Apple",cheese:"Cheese",avocado:"Avocado",broccoli:"Broccoli",spinach:"Spinach",salmon:"Salmon",chicken:"Chicken",eggs:"Eggs",quinoa:"Quinoa",greek_yogurt:"Greek Yogurt",sweet_potato:"Sweet Potato"},BX={rainbow_fruit_kabobs:"Rainbow Fruit Kabobs",funny_face_sandwich:"Funny Face Sandwich",apple_donuts:"Apple Donuts",veggie_quesadilla:"Veggie Quesadilla",stir_fry_noodles:"Stir-Fry Noodles",homemade_pizza:"Homemade Pizza",buddha_bowl:"Buddha Bowl",smoothie_bowl:"Smoothie Bowl"},zX={apple:"Apples are full of fiber and vitamin C! They help keep your teeth healthy and give you energy.",banana:"Bananas have potassium which helps your muscles and heart! They're also great for energy.",carrot:"Carrots have beta-carotene which is great for your eyes! Orange veggies are super healthy.",broccoli:"Broccoli is full of vitamins and minerals! It helps your bones grow strong.",spinach:"Spinach is packed with iron and vitamins! It makes you strong like Popeye!",milk:"Milk has calcium which builds strong bones and teeth! Great for growing kids.",egg:"Eggs have protein and choline which help your brain grow! Perfect for breakfast.",fish:"Fish has omega-3s which are great for your brain! It helps you think better.",water:"Water is super important! It keeps your body cool and helps everything work right.",salad:"Salads have lots of veggies with vitamins and minerals! Eating colorful food is healthy.",recipe:"I can teach you delicious recipes! Ask me about pizza, pasta, cookies, or any food you like!",cook:"Cooking is fun and helps you learn! What food would you like to cook?",healthy:"Eating healthy means lots of fruits, veggies, whole grains, and water! It helps your body grow strong.",exercise:"Exercise is fun and keeps your body healthy! You can run, dance, swim, or play!",food:"Food gives your body energy and helps you grow! Eat lots of colors - veggies, fruits, proteins!",sugar:"Sugar gives quick energy but too much isn't good for teeth! Eat sweets in small amounts.",chocolate:"Chocolate has some good stuff but also sugar! Have it as a treat, not every day.",pizza:"Pizza can be healthy! Use whole wheat crust and lots of veggie toppings!"},VX={back:" Back",next:"Next",start:"Start",finish:"Finish",play:"Play",stop:"Stop",skip:"Skip"},HX={banana_benefit_1:"Energy boost",banana_benefit_2:"Happy tummy",banana_fact:"Bananas can float in water!",carrot_benefit_1:"Super eyes",carrot_benefit_2:"Crunchy fun",carrot_fact:"Carrots were first purple, not orange!",apple_benefit_1:"Strong teeth",apple_benefit_2:"Yummy snack",apple_fact:"Apples are part of the rose family!"},UX={chapter_1_title:"The Culinary Adventure Begins",chapter_1_narrative:"Welcome to Anime Eats Academy! Your food journey starts here. Learn how different foods give your body superpowers!",lesson_nutrition:"Nutrition Basics",lesson_content:"Every food has special powers! Proteins build muscles , Carbs give energy , Fats help your brain , Vitamins keep you healthy "},GX={food_quiz:"Food Quiz",food_match:"Food Match Game",cooking_catch:"Cooking Catch Game",complete_challenge:"Complete Challenge"},WX={choose_chef_level:"Choose Your Chef Level!",little_chefs:"Little Chefs",little_chefs_ages:"5-8 years",little_chefs_desc:"Fun & easy recipes!",junior_cooks:"Junior Cooks",junior_cooks_ages:"9-12 years",junior_cooks_desc:"Level up your skills!",teen_chefs:"Teen Chefs",teen_chefs_ages:"13-17 years",teen_chefs_desc:"Master the kitchen!"},$X={title:"Perfect Foods for Today!",sunny:"Stay cool and hydrated!",cloudy:"Perfect for a cozy day!",rainy:"Warm up from inside!",snowy:"Start your day warm!",windy:"Stay energized!",watermelon:"Watermelon",ice_cream:"Ice Cream",salad:"Salad",sandwich:"Sandwich",hot_soup:"Hot Soup",hot_cocoa:"Hot Cocoa",grilled_cheese:"Grilled Cheese",hot_oatmeal:"Hot Oatmeal",energy_bars:"Energy Bars",warm_milk:"Warm Milk",rice_bowl:"Rice Bowl",smoothie:"Smoothie",pasta:"Pasta",baked_potato:"Baked Potato"},qX={title:"Shokuiku Saga RPG",back:"Back",level:"Level",xp:"XP",available_quests:"Available Quests",quest_details:"Quest Details",complete_quest:"Complete Quest",cancel:"Cancel",vegetable_valley_rescue:"Vegetable Valley Rescue",vegetable_valley_desc:"Help the farmers save the vegetable crops from decay",protein_peak_challenge:"Protein Peak Challenge",protein_peak_desc:"Climb the mountain and learn about protein sources",sugar_swamp_mystery:"Sugar Swamp Mystery",sugar_swamp_desc:"Discover why excessive sugar harms your health",hydration_haven:"Hydration Haven",hydration_haven_desc:"Restore the water kingdom and learn about hydration",easy:"Easy",medium:"Medium",hard:"Hard",your_progress:"Your Progress",quests_completed:"Total Quests Completed",total_xp:"Total XP Earned"},XX={title:"Did You Know?",honey_fact:"Honey never spoils! Archaeologists have found 3000-year-old honey in Egyptian tombs that was still edible.",strawberry_fact:"Strawberries aren't actually berries, but bananas are!",carrot_fact:"Carrots can help you see better in the dark because they're full of vitamin A.",water_fact:"Your brain is about 75% water, so drinking water helps you think better!",breakfast_fact:"Eating breakfast helps you do better in school and sports.",veggie_colors_fact:"Different colored vegetables have different superpowers for your body!",broccoli_fact:"Broccoli has more protein per calorie than steak!",lemon_fact:"Lemons contain more sugar than strawberries.",eating_slow_fact:"Eating slowly helps your body know when it's full.",chocolate_fact:"Dark chocolate can be good for your heart!"},YX={title:"Recipe Collection",subtitle:"Yummy recipes perfect for your age!",rainbow_fruit_kabobs:"Rainbow Fruit Kabobs",funny_face_sandwich:"Funny Face Sandwich",apple_donuts:"Apple Donuts",veggie_quesadilla:"Veggie Quesadilla",pasta_primavera:"Pasta Primavera",stir_fry_noodles:"Stir-Fry Noodles",homemade_pizza:"Homemade Pizza",buddha_bowl:"Buddha Bowl",smoothie_bowl:"Smoothie Bowl",difficulty_easy:"Easy Peasy",difficulty_medium:"Getting Good",difficulty_hard:"Chef Mode"},KX={title:"Healthy Food Heroes",subtitle:"Discover amazing foods and their superpowers!",fruit_forest:"Fruit Forest",veggie_valley:"Veggie Valley",protein_peaks:"Protein Peaks",dairy_dome:"Dairy Dome",grain_gardens:"Grain Gardens"},QX={title:"Your Badges",subtitle:"Collect badges as you learn and cook!",total_points:"Total Points",first_recipe:"First Recipe",first_recipe_desc:"Complete your first recipe",veggie_hero:"Veggie Hero",veggie_hero_desc:"Learn about 5 vegetables",fruit_explorer:"Fruit Explorer",fruit_explorer_desc:"Try 10 different fruits",kitchen_star:"Kitchen Star",kitchen_star_desc:"Complete 5 recipes",health_champion:"Health Champion",health_champion_desc:"Complete all food groups",novice_chef:"Novice Chef",fruit_wizard:"Fruit Wizard",green_guardian:"Green Guardian",protein_master:"Protein Master",energy_champion:"Energy Champion",anime_eats_master:"Anime Eats Master"},ZX={title:"Food Kingdom Map",exploration_tips:"Exploration Tips",tip_1:"Complete story chapters to unlock new regions of the Food Kingdom",tip_2:"Each region has unique recipes and nutrition facts",tip_3:"Collect recipes from all regions to become a Master Chef",tip_4:"Mix and match recipes to create balanced meals",locked_regions:"Locked Regions",recipes:"Recipes",facts:"Facts",fruit_forest_desc:"A lush forest full of colorful fruits bursting with vitamins and natural sweetness!",veggie_valley_desc:"A bountiful valley filled with vibrant vegetables in every shade of green, orange, and purple!",protein_peaks_desc:"Majestic mountains where protein-rich foods stand tall and strong!",dairy_dome_desc:"A magnificent dome dedicated to all things dairy packed with calcium!",grain_gardens_desc:"Golden fields of grains stretching to the horizon with sustained power!"},JX={change_age_group:"Change Age Group",notifications:"Notifications",about:"About EatXP",recipes_label:"Recipes",foods_label:"Foods",badges_label:"Badges",food_explorer:"Food Explorer Level"},eY={title:" Seasonal Produce",subtitle:"Eat what's fresh and in season!",choose_season:"Choose a Season:",fresh_picks:"Fresh Picks",why_seasonal:"Why Eat Seasonal?",benefit_1:" More flavorful and nutritious",benefit_2:" Fresher from farm to table",benefit_3:" Better for the environment",benefit_4:" Often more affordable",benefit_5:" Supports local farmers",spring:"Spring ",spring_desc:"Fresh growth after winter! Enjoy vibrant greens and light vegetables.",summer:"Summer ",summer_desc:"Peak season! Enjoy colorful fruits and refreshing vegetables.",autumn:"Autumn ",autumn_desc:"Harvest time! Enjoy warm, comforting fruits and vegetables.",winter:"Winter ",winter_desc:"Hearty choices! Root vegetables and citrus keep you healthy.",strawberries:"Strawberries",asparagus:"Asparagus",peas:"Peas",spinach:"Spinach",watermelon:"Watermelon",tomato:"Tomato",corn:"Corn",blueberries:"Blueberries",pumpkin:"Pumpkin",apple:"Apple",grape:"Grape",carrot:"Carrot",orange:"Orange",broccoli:"Broccoli",potato:"Potato",kale:"Kale",vitamin_c_boost:"Vitamin C boost",sweet_juicy:"Sweet & juicy",super_nutrients:"Super nutrients",crunchy_texture:"Crunchy texture",protein_power:"Protein power",sweet_taste:"Sweet taste",iron_rich:"Iron rich",super_strength:"Super strength",stay_hydrated:"Stay hydrated",natural_coolness:"Natural coolness",heart_healthy:"Heart healthy",juicy_goodness:"Juicy goodness",energy_boost:"Energy boost",sweet_kernels:"Sweet kernels",brain_boost:"Brain boost",antioxidants:"Antioxidants",vitamin_a_power:"Vitamin A power",warm_comfort:"Warm comfort",fiber_rich:"Fiber rich",crispy_crunch:"Crispy crunch",antioxidant_benefits:"Antioxidants",sweet_clusters:"Sweet clusters",eye_health:"Eye health",natural_sweetness:"Natural sweetness",vitamin_c:"Vitamin C",citrus_brightness:"Citrus brightness",immune_boost:"Immune boost",tree_shaped_yum:"Tree-shaped yum",energy_fuel:"Energy fuel",versatile_veggie:"Versatile veggie",super_nutrient:"Super nutrient",leafy_power:"Leafy power",complete_protein:"Complete protein",probiotics:"Probiotics",muscle_recovery:"Muscle recovery",vitamin_a:"Vitamin A",complex_carbs:"Complex carbs",lean_protein:"Lean protein",b_vitamins:"B vitamins",brain_food:"Brain food",healthy_fats:"Healthy fats",omega_3:"Omega-3",strong_muscles:"Strong muscles",iron_boost:"Iron boost",energy:"Energy",strawberry_fact:"Strawberries have their seeds on the outside!",asparagus_fact:"Asparagus can grow up to 10 inches in a day!",peas_fact:"Peas were one of the first frozen vegetables!",spinach_fact:"Spinach contains oxalates that can coat your teeth!",watermelon_fact:"Watermelon is 92% water!",tomato_fact:"Tomatoes are technically berries, not vegetables!",corn_fact:"Each corn cob has about 800 kernels!",blueberries_fact:"Blueberries are the only food that's naturally blue!",pumpkin_fact:"Pumpkins are 90% water!",apple_fact:"It takes 36 apples to make one gallon of apple juice!",grape_fact:"Grapes have been grown for over 8000 years!",carrot_fact:"Orange carrots weren't popular until the 1600s!",orange_fact:"Oranges were originally green!",broccoli_fact:"Broccoli is technically a flower!",potato_fact:"Potatoes were the first vegetable to be grown in space!",kale_fact:"Kale is packed with more nutrients than most vegetables!"},tY={title:" Nutrition Tracker",subtitle:"Track your meals and get grades",build_meal:"Build Your Meal",meal_name_placeholder:"Meal name...",browse_foods:"Browse Foods",scan:"Scan",barcode_scanner:" Barcode Scanner",barcode_placeholder:"Scan or paste barcode... (press Enter)",added_successfully:" Added:",barcode_not_found:" Barcode not found:",current_meal:"Current Meal",no_items:"No items added yet",save_meal:"Save Meal",meal_grade:"Meal Grade",total_calories:"Total Calories",total_sugar:"Total Sugar",additives:"Additives Found",saved_meals:"Saved Meals",no_meals:"No meals tracked yet. Start building!",delete:"Delete",sample_barcodes:"Sample Barcodes",copy_barcode:"Copy Barcode",copied:"Copied!",health_score:"Health Score",grade_a:"A - Excellent!",grade_b:"B - Very Good!",grade_c:"C - Good!",grade_d:"D - Fair!",grade_f:"F - Needs Work!",apple:"Apple",banana:"Banana",broccoli:"Broccoli",carrots:"Carrots",chicken_breast:"Chicken Breast",chocolate_bar:"Chocolate Bar",pizza_slice:"Pizza Slice",salad:"Garden Salad",salmon:"Salmon",french_fries:"French Fries",yogurt:"Greek Yogurt",soft_drink_cola:"Soft Drinks - Cola",soft_drink_lemon_lime:"Soft Drinks - Lemon-Lime"},nY={title:" Community Space",subtitle:"Share  Learn  Compete",tab_social:"Social",tab_challenges:"Challenges",tab_forum:"Forum",my_friends:" My Friends",friends_count:"Friends",add_friend:"Add Friend",view_profile:"View Profile",level:"Level",recipes_shared:"recipes shared",community_recipes:" Community Recipes",share_recipe:"Share Recipe",by:"by",difficulty:"Difficulty",easy:"Easy",medium:"Medium",hard:"Hard",prep_time:"Prep Time",ago:"ago",try_recipe:"Try Recipe",community_stats:"Community Stats",members:"Members",discussions:"Discussions",challenges_label:"Challenges",complete_challenges:" Complete challenges to earn XP, badges, and bragging rights!",participants:"Participants",time_left:"Time Left",prize:"Prize",join_challenge:"Join Challenge",view_details:"View Details",days_left:"d",forum_search:"Search discussions...",forum_new_post:"New Post",forum_title:"Forum",post_category:"Category",post_replies:"Replies",post_likes:"Likes",reply:"Reply",save:"Save",category_tips:"Tips",category_cultural:"Cultural",category_nutrition:"Nutrition",category_recipes:"Recipes",category_general:"General",challenge_7day_veggie:"7-Day Veggie Challenge",challenge_7day_desc:"Eat vegetables in all 3 meals for 7 days",challenge_7day_badge:" Golden Badge + 500 XP",challenge_cultural:"Cultural Cook Quest",challenge_cultural_desc:"Cook a traditional dish from 3 different cultures",challenge_cultural_badge:" Global Explorer Badge + 750 XP",challenge_breakfast:"Breakfast Championship",challenge_breakfast_desc:"Create the healthiest breakfast recipe",challenge_breakfast_badge:" Champion Crown + 1000 XP",friend_chef_yamada:"Chef Yamada",friend_sakura:"Sakura123",friend_ramen:"RamenLover",recipe_tonkatsu:"Classic Tonkatsu",recipe_stir_fry:"Vegetable Stir Fry",recipe_ramen:"Spicy Miso Ramen",country_japan:" Japan",country_china:" China",forum_post_proteins:"Best Proteins for Growing Teens",forum_post_sushi:"How to Make Perfect Sushi at Home",forum_post_meal_prep:"Easy Meal Prep Tips for Busy Students",forum_post_tradition:"Traditional Foods from Southeast Asia",forum_author_nutrition:"NutritionGuru",forum_author_culinary:"CulinaryArtist",forum_author_healthy:"HealthyChoices",forum_author_cultural:"CulturalChef"},rY={energy_boost:"Energy boost",happy_tummy:"Happy tummy",super_eyes:"Super eyes",crunchy_fun:"Crunchy fun",strong_teeth:"Strong teeth",yummy_snack:"Yummy snack",strong_bones:"Strong bones",tasty_treat:"Tasty treat",brain_power:"Brain power",healthy_fats:"Healthy fats",omega_3:"Omega-3",strong_muscles:"Strong muscles",iron_boost:"Iron boost",energy:"Energy",complete_protein:"Complete protein",brain_food:"Brain food",probiotics:"Probiotics",muscle_recovery:"Muscle recovery",vitamin_a:"Vitamin A",complex_carbs:"Complex carbs",lean_protein:"Lean protein",b_vitamins:"B vitamins",vitamin_c_boost:"Vitamin C boost",sweet_juicy:"Sweet & juicy",super_nutrients:"Super nutrients",crunchy_texture:"Crunchy texture",protein_power:"Protein power",sweet_taste:"Sweet taste",iron_rich:"Iron rich",super_strength:"Super strength",stay_hydrated:"Stay hydrated",natural_coolness:"Natural coolness",heart_healthy:"Heart healthy",juicy_goodness:"Juicy goodness",sweet_kernels:"Sweet kernels",brain_boost:"Brain boost",antioxidants:"Antioxidants",vitamin_a_power:"Vitamin A power",warm_comfort:"Warm comfort",fiber_rich:"Fiber rich",crispy_crunch:"Crispy crunch",antioxidant_benefits:"Antioxidant benefits",sweet_clusters:"Sweet clusters",eye_health:"Eye health",natural_sweetness:"Natural sweetness",vitamin_c:"Vitamin C",citrus_brightness:"Citrus brightness",immune_boost:"Immune boost",tree_shaped_yum:"Tree-shaped yum",energy_fuel:"Energy fuel",versatile_veggie:"Versatile veggie",super_nutrient:"Super nutrient",leafy_power:"Leafy power"},iY={app_name:AX,nav:jX,common:PX,home:LX,age_groups:RX,voice_bot:DX,teen_features:FX,food_categories:IX,foods:OX,recipes:BX,voice_responses:zX,buttons:VX,food_info:HX,story:UX,games:GX,cover_page:WX,weather_section:$X,shokuiku_saga:qX,did_you_know:XX,recipes_section:YX,healthy_heroes:KX,badges_achievements:QX,food_kingdom:ZX,settings:JX,seasonal_produce:eY,nutrition_tracker:tY,community_space:nY,food_benefits:rY},sY="EatXP",aY={home:"Inicio",recipes:"Recetas",games:"Juegos",profile:"Perfil",settings:"Configuracin"},oY={language:"Idioma",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:"Bot de Voz",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",back_to_home:" Volver al Inicio",hello:"Hola",choose_character:"Elige un Personaje",story_mode:"Modo Historia",change_theme:"Cambiar Tema",change_age:"Cambiar Edad",anime_themes:"Temas de Anime"},lY={welcome:"Bienvenido a EatXP",subtitle:"Aprende sobre comida divirtindote!",start_learning:"Comienza a Aprender",story_mode:"Modo Historia",story_desc:"Aprende nutricin!",play_games:"Juega Juegos",games_desc:"Aprende y divirtete!",read_comics:"Lee Cmics",comics_desc:"Historias de comida divertidas!",food_map:"Mapa de Comida",food_map_desc:"Explora regiones!",cutscenes:"Cinemticas",cutscenes_desc:"Mira anime!",manga:"Manga",manga_desc:"Tiras cmicas!",daily_challenge:"Desafo Diario",challenge_desc:"Prueba una verdura nueva hoy! ",challenge_text:"Gana 10 puntos al probar una verdura que nunca has comido!",accept_challenge:"Aceptar Desafo",quick_recipes:"Recetas Rpidas"},cY={kids:"Pequeo Chef",tweens:"Chef Junior",teens:"Chef Adolescente",default:"Chef"},uY={title:"Asistente de Voz EatXP",listen:"Escuchando...",speak:"Haz clic para hablar",processing:"Procesando...",help_text:"Pregntame cualquier cosa sobre comida, recetas o nutricin!"},dY={shokuiku_saga:"RPG Shokuiku Saga",shokuiku_desc:"Aventura de rol en el Reino de la Comida",boss_battles:"Batallas Jefe",boss_desc:"Peleas de jefes de anime semanales",meal_mastery:"Dominio de Comidas",meal_desc:"Disea planes de comidas equilibradas",manga_builder:"Constructor de Manga",manga_desc:"Crea historias temticas de comida",real_missions:"Misiones de la Vida Real",missions_desc:"Completa tareas para potenciar tu personaje"},hY={fruits:"Frutas",veggies:"Verduras",proteins:"Protenas",grains:"Granos",dairy:"Lcteos",snacks:"Snacks"},fY={banana:"Pltano",carrot:"Zanahoria",apple:"Manzana",cheese:"Queso",avocado:"Aguacate",broccoli:"Brcoli",spinach:"Espinaca",salmon:"Salmn",chicken:"Pollo",eggs:"Huevos",quinoa:"Quinua",greek_yogurt:"Yogur Griego",sweet_potato:"Batata"},pY={rainbow_fruit_kabobs:"Brochetas de Frutas de Arcoris",funny_face_sandwich:"Sndwich de Cara Graciosa",apple_donuts:"Donas de Manzana",veggie_quesadilla:"Quesadilla Vegetariana",stir_fry_noodles:"Fideos Salteados",homemade_pizza:"Pizza Casera",buddha_bowl:"Tazn de Buda",smoothie_bowl:"Tazn de Batido"},mY={apple:"Las manzanas estn llenas de fibra y vitamina C! Ayudan a mantener tus dientes saludables y te dan energa.",banana:"Los pltanos tienen potasio que ayuda a tus msculos y corazn! Tambin son excelentes para la energa.",carrot:"Las zanahorias tienen betacaroteno que es excelente para los ojos! Las verduras naranjas son super saludables.",broccoli:"El brcoli est lleno de vitaminas y minerales! Ayuda a que tus huesos crezcan fuertes.",spinach:"La espinaca est llena de hierro y vitaminas! Te hace fuerte como Popeye!",milk:"La leche tiene calcio que construye huesos y dientes fuertes! Excelente para nios en crecimiento.",egg:"Los huevos tienen protena y colina que ayudan a que tu cerebro crezca! Perfecto para el desayuno.",fish:"El pescado tiene omega-3 que es excelente para tu cerebro! Te ayuda a pensar mejor!",water:"El agua es sper importante! Mantiene tu cuerpo fresco y ayuda a que todo funcione correctamente!",salad:"Las ensaladas tienen muchas verduras con vitaminas y minerales! Comer comida colorida es saludable!",recipe:"Puedo ensearte recetas deliciosas! Pregntame sobre pizza, pasta, galletas o cualquier comida que te guste!",cook:"Cocinar es divertido y te ayuda a aprender! Qu comida te gustara cocinar?",healthy:"Comer saludable significa muchas frutas, verduras, granos integrales y agua! Ayuda a tu cuerpo a crecer fuerte!",exercise:"El ejercicio es divertido y mantiene tu cuerpo saludable! Puedes correr, bailar, nadar o jugar!",food:"La comida le da energa a tu cuerpo y te ayuda a crecer! Come muchos colores - verduras, frutas, protenas!",sugar:"El azcar te da energa rpida pero demasiada no es buena para los dientes! Come dulces en pequeas cantidades!",chocolate:"El chocolate tiene cosas buenas pero tambin azcar! Come como un tratamiento, no todos los das!",pizza:"La pizza puede ser saludable! Usa corteza de trigo integral y muchos aderezos vegetales!"},gY={back:" Atrs",next:"Siguiente ",start:"Comenzar",finish:"Terminar",play:"Jugar",stop:"Detener",skip:"Saltar"},yY={banana_benefit_1:"Impulso de energa",banana_benefit_2:"Barriga feliz",banana_fact:"Los pltanos pueden flotar en el agua!",carrot_benefit_1:"Ojos sper",carrot_benefit_2:"Diversin crujiente",carrot_fact:"Las zanahorias eran primero prpuras, no naranjas!",apple_benefit_1:"Dientes fuertes",apple_benefit_2:"Snack delicioso",apple_fact:"Las manzanas son parte de la familia de las rosas!"},xY={chapter_1_title:"Comienza la Aventura Culinaria",chapter_1_narrative:"Bienvenido a la Academia de Alimentos de Anime! Tu viaje de alimentos comienza aqu. Aprende cmo diferentes alimentos dan superpoderes a tu cuerpo!",lesson_nutrition:"Conceptos Bsicos de Nutricin",lesson_content:"Cada alimento tiene poderes especiales! Las protenas construyen msculos , Los carbohidratos dan energa , Las grasas ayudan a tu cerebro , Las vitaminas te mantienen saludable "},vY={food_quiz:"Prueba de Comida",food_match:"Juego de Emparejar Comida",cooking_catch:"Juego de Atrapar Cocina",complete_challenge:"Completar Desafo"},bY={choose_chef_level:"Elige tu Nivel de Chef!",little_chefs:"Pequeos Chefs",little_chefs_ages:"5-8 aos",little_chefs_desc:"Recetas divertidas y fciles!",junior_cooks:"Chefs Junior",junior_cooks_ages:"9-12 aos",junior_cooks_desc:"Mejora tus habilidades!",teen_chefs:"Chefs Adolescentes",teen_chefs_ages:"13-17 aos",teen_chefs_desc:"Domina la cocina!"},_Y={title:"Alimentos Perfectos para Hoy!",sunny:"Mantente fresco e hidratado!",cloudy:"Perfecto para un da acogedor!",rainy:"Calintate desde adentro!",snowy:"Comienza tu da clido!",windy:"Mantente energizado!",watermelon:"Sanda",ice_cream:"Helado",salad:"Ensalada",sandwich:"Sndwich",hot_soup:"Sopa Caliente",hot_cocoa:"Chocolate Caliente",grilled_cheese:"Queso a la Parrilla",hot_oatmeal:"Avena Caliente",energy_bars:"Barras de Energa",warm_milk:"Leche Tibia",rice_bowl:"Tazn de Arroz",smoothie:"Batido",pasta:"Pasta",baked_potato:"Papa Horneada"},wY={title:"RPG Shokuiku Saga",back:"Atrs",level:"Nivel",xp:"Experiencia",available_quests:"Misiones Disponibles",quest_details:"Detalles de la Misin",complete_quest:"Completar Misin",cancel:"Cancelar",vegetable_valley_rescue:"Rescate del Valle de Verduras",vegetable_valley_desc:"Ayuda a los agricultores a salvar las cosechas de verduras del deterioro",protein_peak_challenge:"Desafo del Pico de Protena",protein_peak_desc:"Sube la montaa y aprende sobre fuentes de protena",sugar_swamp_mystery:"Misterio del Pantano de Azcar",sugar_swamp_desc:"Descubre por qu el exceso de azcar daa tu salud",hydration_haven:"Refugio de Hidratacin",hydration_haven_desc:"Restaura el reino del agua y aprende sobre hidratacin",easy:"Fcil",medium:"Medio",hard:"Difcil",your_progress:"Tu Progreso",quests_completed:"Total de Misiones Completadas",total_xp:"Total de Experiencia Ganada"},SY={title:"Sabas Que?",honey_fact:"La miel nunca se echa a perder! Los arquelogos han encontrado miel de 3000 aos en tumbas egipcias que an era comestible.",strawberry_fact:"Las fresas no son realmente bayas, pero los pltanos s!",carrot_fact:"Las zanahorias pueden ayudarte a ver mejor en la oscuridad porque estn llenas de vitamina A!",water_fact:"Tu cerebro es aproximadamente 75% agua, as que beber agua te ayuda a pensar mejor!",breakfast_fact:"Comer desayuno te ayuda a ir mejor en la escuela y los deportes!",veggie_colors_fact:"Las verduras de diferentes colores tienen superpoderes diferentes para tu cuerpo!",broccoli_fact:"El brcoli tiene ms protena por calora que el bistec!",lemon_fact:"Los limones contienen ms azcar que las fresas.",eating_slow_fact:"Comer lentamente ayuda a tu cuerpo a saber cundo est lleno.",chocolate_fact:"El chocolate oscuro puede ser bueno para tu corazn!"},MY={title:"Coleccin de Recetas",subtitle:"Recetas deliciosas perfectas para tu edad!",rainbow_fruit_kabobs:"Brochetas de Frutas de Arcoris",funny_face_sandwich:"Sndwich de Cara Graciosa",apple_donuts:"Donas de Manzana",veggie_quesadilla:"Quesadilla Vegetariana",stir_fry_noodles:"Fideos Salteados",homemade_pizza:"Pizza Casera",buddha_bowl:"Tazn de Buda",smoothie_bowl:"Tazn de Batido",difficulty_easy:"Super Fcil",difficulty_medium:"En Progreso",difficulty_hard:"Modo Chef"},CY={title:"Hroes de Alimentos Saludables",subtitle:"Descubre alimentos increbles y sus superpoderes!",fruit_forest:"Bosque de Frutas",veggie_valley:"Valle de Verduras",protein_peaks:"Picos de Protena",dairy_dome:"Cpula de Lcteos",grain_gardens:"Jardines de Granos"},EY={title:"Tus Insignias",subtitle:"Colecciona insignias mientras aprendes y cocinas!",total_points:"Puntos Totales",first_recipe:"Primera Receta",first_recipe_desc:"Completa tu primera receta",veggie_hero:"Hroe de Verduras",veggie_hero_desc:"Aprende sobre 5 verduras",fruit_explorer:"Explorador de Frutas",fruit_explorer_desc:"Prueba 10 frutas diferentes",kitchen_star:"Estrella de Cocina",kitchen_star_desc:"Completa 5 recetas",health_champion:"Campen de Salud",health_champion_desc:"Completa todos los grupos de alimentos",novice_chef:"Chef Novato",fruit_wizard:"Mago de Frutas",green_guardian:"Guardin Verde",protein_master:"Maestro de Protena",energy_champion:"Campen de Energa",anime_eats_master:"Maestro de Alimentos de Anime"},TY={title:"Mapa del Reino de la Comida",exploration_tips:"Consejos de Exploracin",tip_1:"Completa captulos de historia para desbloquear nuevas regiones del Reino de la Comida",tip_2:"Cada regin tiene recetas nicas y datos de nutricin",tip_3:"Colecciona recetas de todas las regiones para convertirte en Maestro Chef",tip_4:"Mezcla y combina recetas para crear comidas equilibradas",locked_regions:"Regiones Bloqueadas",recipes:"Recetas",facts:"Datos",fruit_forest_desc:"Un bosque exuberante lleno de frutas coloridas rebosantes de vitaminas y dulzura natural.",veggie_valley_desc:"Un valle abundante lleno de verduras vibrantes en cada sombra de verde, naranja y prpura.",protein_peaks_desc:"Montaas majestuosas donde los alimentos ricos en protena se mantienen altos y fuertes.",dairy_dome_desc:"Una cpula magnfica dedicada a todo lo lcteo empaquetado con calcio.",grain_gardens_desc:"Campos dorados de granos que se extienden hasta el horizonte con poder sostenido."},NY={change_age_group:"Cambiar Grupo de Edad",notifications:"Notificaciones",about:"Acerca de EatXP",recipes_label:"Recetas",foods_label:"Alimentos",badges_label:"Insignias",food_explorer:"Nivel de Explorador de Alimentos"},kY={title:" Productos de temporada",subtitle:"Come lo que est fresco y en temporada!",choose_season:"Elige una estacin:",fresh_picks:"Selecciones frescas",why_seasonal:"Por qu comer de temporada?",benefit_1:" Ms sabroso y nutritivo",benefit_2:" Ms fresco de la granja a la mesa",benefit_3:" Mejor para el medio ambiente",benefit_4:" Frecuentemente ms asequible",benefit_5:" Apoya a los agricultores locales",spring:"Primavera ",spring_desc:"Crecimiento fresco despus del invierno! Disfruta de verduras frescas y claras.",summer:"Verano ",summer_desc:"Plena temporada! Disfruta de frutas coloridas y verduras refrescantes.",autumn:"Otoo ",autumn_desc:"Tiempo de cosecha! Disfruta de frutas y verduras clidas y reconfortantes.",winter:"Invierno ",winter_desc:"Opciones sustanciosas! Las verduras de raz y los ctricos te mantienen saludable.",strawberries:"Fresas",asparagus:"Esprragos",peas:"Guisantes",spinach:"Espinaca",watermelon:"Sanda",tomato:"Tomate",corn:"Maz",blueberries:"Arndanos",pumpkin:"Calabaza",apple:"Manzana",grape:"Uva",carrot:"Zanahoria",orange:"Naranja",broccoli:"Brcoli",potato:"Papa",kale:"Col rizada",vitamin_c_boost:"Refuerzo de vitamina C",sweet_juicy:"Dulce y jugoso",super_nutrients:"Supernutrientes",crunchy_texture:"Textura crujiente",protein_power:"Poder protenico",sweet_taste:"Sabor dulce",iron_rich:"Rico en hierro",super_strength:"Sper fuerza",stay_hydrated:"Mantngase hidratado",natural_coolness:"Frescura natural",heart_healthy:"Saludable para el corazn",juicy_goodness:"Bondad jugosa",energy_boost:"Refuerzo de energa",sweet_kernels:"Granos dulces",brain_boost:"Refuerzo cerebral",antioxidants:"Antioxidantes",vitamin_a_power:"Poder de vitamina A",warm_comfort:"Comodidad clida",fiber_rich:"Rico en fibra",crispy_crunch:"Crujiente crujiente",antioxidant_benefits:"Beneficios antioxidantes",sweet_clusters:"Racimos dulces",eye_health:"Salud ocular",natural_sweetness:"Dulzura natural",vitamin_c:"Vitamina C",citrus_brightness:"Brillo ctrico",immune_boost:"Refuerzo inmunolgico",tree_shaped_yum:"rbol en forma de sabroso",energy_fuel:"Combustible energtico",versatile_veggie:"Verdura verstil",super_nutrient:"Supernutriente",leafy_power:"Poder frondoso",complete_protein:"Protena completa",probiotics:"Probiticos",muscle_recovery:"Recuperacin muscular",vitamin_a:"Vitamina A",complex_carbs:"Carbohidratos complejos",lean_protein:"Protena magra",b_vitamins:"Vitaminas B",brain_food:"Comida para el cerebro",healthy_fats:"Grasas saludables",omega_3:"Omega-3",strong_muscles:"Msculos fuertes",iron_boost:"Refuerzo de hierro",energy:"Energa",strawberry_fact:"Las fresas tienen sus semillas en el exterior!",asparagus_fact:"Los esprragos pueden crecer hasta 10 pulgadas en un da!",peas_fact:"Los guisantes fueron una de las primeras verduras congeladas!",spinach_fact:"La espinaca contiene oxalatos que pueden recubrir los dientes!",watermelon_fact:"La sanda es 92% agua!",tomato_fact:"Los tomates son tcnicamente bayas, no verduras!",corn_fact:"Cada mazorca de maz tiene aproximadamente 800 granos!",blueberries_fact:"Los arndanos son el nico alimento naturalmente azul!",pumpkin_fact:"Las calabazas son 90% agua!",apple_fact:"Se necesitan 36 manzanas para hacer un galn de jugo de manzana!",grape_fact:"Las uvas se han cultivado durante ms de 8000 aos!",carrot_fact:"Las zanahorias naranjas no fueron populares hasta el 1600!",orange_fact:"Las naranjas eran originalmente verdes!",broccoli_fact:"El brcoli es tcnicamente una flor!",potato_fact:"Las papas fueron la primera verdura cultivada en el espacio!",kale_fact:"La col rizada est repleta de ms nutrientes que la mayora de las verduras!"},AY={title:" Rastreador de nutricin",subtitle:"Sigue tus comidas y obtn calificaciones",build_meal:"Construir tu comida",meal_name_placeholder:"Nombre de la comida...",browse_foods:"Examinar alimentos",scan:"Escanear",barcode_scanner:" Escner de cdigo de barras",barcode_placeholder:"Escanea o pega el cdigo de barras... (presiona Enter)",added_successfully:" Agregado:",barcode_not_found:" Cdigo de barras no encontrado:",current_meal:"Comida actual",no_items:"Sin elementos agregados an",save_meal:"Guardar comida",meal_grade:"Calificacin de comida",total_calories:"Caloras totales",total_sugar:"Azcar total",additives:"Aditivos encontrados",saved_meals:"Comidas guardadas",no_meals:"Sin comidas rastreadas an. Comienza a construir!",delete:"Eliminar",sample_barcodes:"Cdigos de barras de ejemplo",copy_barcode:"Copiar cdigo de barras",copied:"Copiado!",health_score:"Puntuacin de salud",grade_a:"A - Excelente!",grade_b:"B - Muy bueno!",grade_c:"C - Bueno!",grade_d:"D - Justo!",grade_f:"F - Necesita mejorar!",apple:"Manzana",banana:"Pltano",broccoli:"Brcoli",carrots:"Zanahorias",chicken_breast:"Pechuga de pollo",chocolate_bar:"Barra de chocolate",pizza_slice:"Rebanada de pizza",salad:"Ensalada de jardn",salmon:"Salmn",french_fries:"Papas fritas",yogurt:"Yogur griego",soft_drink_cola:"Bebidas blandas - Cola",soft_drink_lemon_lime:"Bebidas blandas - Limn-Lima"},jY={title:" Espacio comunitario",subtitle:"Comparte  Aprende  Compite",tab_social:"Social",tab_challenges:"Desafos",tab_forum:"Foro",my_friends:" Mis amigos",friends_count:"Amigos",add_friend:"Agregar amigo",view_profile:"Ver perfil",level:"Nivel",recipes_shared:"recetas compartidas",community_recipes:" Recetas comunitarias",share_recipe:"Compartir receta",by:"por",difficulty:"Dificultad",easy:"Fcil",medium:"Medio",hard:"Difcil",prep_time:"Tiempo de preparacin",ago:"hace",try_recipe:"Probar receta",community_stats:"Estadsticas comunitarias",members:"Miembros",discussions:"Discusiones",challenges_label:"Desafos",complete_challenges:" Completa desafos para ganar XP, insignias y derechos de fanfarronada!",participants:"Participantes",time_left:"Tiempo restante",prize:"Premio",join_challenge:"Unirse al desafo",view_details:"Ver detalles",days_left:"d",forum_search:"Buscar discusiones...",forum_new_post:"Nueva publicacin",forum_title:"Foro",post_category:"Categora",post_replies:"Respuestas",post_likes:"Me gusta",reply:"Responder",save:"Guardar",category_tips:"Consejos",category_cultural:"Cultural",category_nutrition:"Nutricin",category_recipes:"Recetas",category_general:"General",challenge_7day_veggie:"Desafo vegetal de 7 das",challenge_7day_desc:"Come verduras en las 3 comidas durante 7 das",challenge_7day_badge:" Insignia dorada + 500 XP",challenge_cultural:"Bsqueda de chef cultural",challenge_cultural_desc:"Cocina un plato tradicional de 3 culturas diferentes",challenge_cultural_badge:" Insignia de explorador global + 750 XP",challenge_breakfast:"Campeonato de desayuno",challenge_breakfast_desc:"Crea la receta de desayuno ms saludable",challenge_breakfast_badge:" Corona de campen + 1000 XP",friend_chef_yamada:"Chef Yamada",friend_sakura:"Sakura123",friend_ramen:"RamenLover",recipe_tonkatsu:"Tonkatsu clsico",recipe_stir_fry:"Salteado de verduras",recipe_ramen:"Ramen Miso picante",country_japan:" Japn",country_china:" China",forum_post_proteins:"Mejores protenas para adolescentes en crecimiento",forum_post_sushi:"Cmo hacer sushi perfecto en casa",forum_post_meal_prep:"Consejos fciles de preparacin de comidas para estudiantes ocupados",forum_post_tradition:"Alimentos tradicionales del sudeste asitico",forum_author_nutrition:"GurDeNutricin",forum_author_culinary:"ArtistasCulinario",forum_author_healthy:"OpcionesEsalud",forum_author_cultural:"ChefCultural"},PY={energy_boost:"Refuerzo de energa",happy_tummy:"Vientre feliz",super_eyes:"Ojos sper",crunchy_fun:"Diversin crujiente",strong_teeth:"Dientes fuertes",yummy_snack:"Merienda deliciosa",strong_bones:"Huesos fuertes",tasty_treat:"Golosina sabrosa",brain_power:"Poder cerebral",healthy_fats:"Grasas saludables",omega_3:"Omega-3",strong_muscles:"Msculos fuertes",iron_boost:"Refuerzo de hierro",energy:"Energa",complete_protein:"Protena completa",brain_food:"Comida para el cerebro",probiotics:"Probiticos",muscle_recovery:"Recuperacin muscular",vitamin_a:"Vitamina A",complex_carbs:"Carbohidratos complejos",lean_protein:"Protena magra",b_vitamins:"Vitaminas B",vitamin_c_boost:"Refuerzo de vitamina C",sweet_juicy:"Dulce y jugoso",super_nutrients:"Supernutrientes",crunchy_texture:"Textura crujiente",protein_power:"Poder protenico",sweet_taste:"Sabor dulce",iron_rich:"Rico en hierro",super_strength:"Sper fuerza",stay_hydrated:"Mantngase hidratado",natural_coolness:"Frescura natural",heart_healthy:"Saludable para el corazn",juicy_goodness:"Bondad jugosa",sweet_kernels:"Granos dulces",brain_boost:"Refuerzo cerebral",antioxidants:"Antioxidantes",vitamin_a_power:"Poder de vitamina A",warm_comfort:"Comodidad clida",fiber_rich:"Rico en fibra",crispy_crunch:"Crujiente crujiente",antioxidant_benefits:"Beneficios antioxidantes",sweet_clusters:"Racimos dulces",eye_health:"Salud ocular",natural_sweetness:"Dulzura natural",vitamin_c:"Vitamina C",citrus_brightness:"Brillo ctrico",immune_boost:"Refuerzo inmunolgico",tree_shaped_yum:"rbol en forma de sabroso",energy_fuel:"Combustible energtico",versatile_veggie:"Verdura verstil",super_nutrient:"Supernutriente",leafy_power:"Poder frondoso"},LY={app_name:sY,nav:aY,common:oY,home:lY,age_groups:cY,voice_bot:uY,teen_features:dY,food_categories:hY,foods:fY,recipes:pY,voice_responses:mY,buttons:gY,food_info:yY,story:xY,games:vY,cover_page:bY,weather_section:_Y,shokuiku_saga:wY,did_you_know:SY,recipes_section:MY,healthy_heroes:CY,badges_achievements:EY,food_kingdom:TY,settings:NY,seasonal_produce:kY,nutrition_tracker:AY,community_space:jY,food_benefits:PY},RY="EatXP",DY={home:"Accueil",recipes:"Recettes",games:"Jeux",profile:"Profil",settings:"Paramtres"},FY={language:"Langue",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:"Assistant Vocal",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",back_to_home:" Retour  l'Accueil",hello:"Bonjour",choose_character:"Choisir un Personnage",story_mode:"Mode Histoire",change_theme:"Changer le Thme",change_age:"Changer d'ge",anime_themes:"Thmes Anime"},IY={welcome:"Bienvenue  EatXP",subtitle:"Apprends sur la nourriture en t'amusant!",start_learning:"Commence  Apprendre",story_mode:"Mode Histoire",story_desc:"Apprends la nutrition!",play_games:"Joue aux Jeux",games_desc:"Apprends et amuse-toi!",read_comics:"Lis les Bandes Dessines",comics_desc:"Histoires amusantes sur la nourriture!",food_map:"Carte Alimentaire",food_map_desc:"Explore les rgions!",cutscenes:"Cinmatiques",cutscenes_desc:"Regarde l'anime!",manga:"Manga",manga_desc:"Bandes dessines!",daily_challenge:"Dfi Quotidien",challenge_desc:"Essaie un nouveau lgume aujourd'hui! ",challenge_text:"Gagne 10 points en essayant un lgume que tu n'as jamais mang!",accept_challenge:"Accepter le Dfi",quick_recipes:"Recettes Rapides"},OY={kids:"Petit Chef",tweens:"Chef Junior",teens:"Chef Adolescent",default:"Chef"},BY={title:"Assistant Vocal EatXP",listen:" l'coute...",speak:"Cliquez pour parler",processing:"Traitement...",help_text:"Demande-moi n'importe quoi sur la nourriture, les recettes ou la nutrition!"},zY={shokuiku_saga:"RPG Shokuiku Saga",shokuiku_desc:"Aventure de rle dans le Royaume Alimentaire",boss_battles:"Combats de Boss",boss_desc:"Combats hebdomadaires de boss anime",meal_mastery:"Matrise des Repas",meal_desc:"Conois des plans de repas quilibrs",manga_builder:"Constructeur de Manga",manga_desc:"Cre des histoires  thme alimentaire",real_missions:"Missions de Vie Relle",missions_desc:"Complte les tches pour renforcer ton personnage"},VY={fruits:"Fruits",veggies:"Lgumes",proteins:"Protines",grains:"Crales",dairy:"Produits Laitiers",snacks:"Collations"},HY={banana:"Banane",carrot:"Carotte",apple:"Pomme",cheese:"Fromage",avocado:"Avocat",broccoli:"Brocoli",spinach:"pinards",salmon:"Saumon",chicken:"Poulet",eggs:"Oeufs",quinoa:"Quinoa",greek_yogurt:"Yaourt Grec",sweet_potato:"Patate Douce"},UY={rainbow_fruit_kabobs:"Brochettes de Fruits Arc-en-Ciel",funny_face_sandwich:"Sandwich Visage Rigolo",apple_donuts:"Beignets aux Pommes",veggie_quesadilla:"Quesadilla Vgtarienne",stir_fry_noodles:"Nouilles Sautes",homemade_pizza:"Pizza Maison",buddha_bowl:"Bol de Bouddha",smoothie_bowl:"Bol de Smoothie"},GY={apple:"Les pommes sont pleines de fibres et de vitamine C! Elles gardent tes dents saines et te donnent de l'nergie.",banana:"Les bananes ont du potassium qui aide tes muscles et ton cur! Elles sont aussi excellentes pour l'nergie.",carrot:"Les carottes ont du bta-carotne qui est excellent pour tes yeux! Les lgumes oranges sont super sains.",broccoli:"Le brocoli est plein de vitamines et de minraux! Il aide tes os  devenir forts.",spinach:"Les pinards sont chargs de fer et de vitamines! a te rend fort comme Popeye!",milk:"Le lait a du calcium qui construit des os et des dents forts! Excellent pour les enfants en croissance.",egg:"Les ufs ont des protines et de la choline qui aident ton cerveau  grandir! Parfait pour le petit-djeuner.",fish:"Le poisson a des omga-3 qui sont excellents pour ton cerveau! a t'aide  mieux rflchir.",water:"L'eau est super importante! Elle garde ton corps au frais et aide tout  fonctionner correctement.",salad:"Les salades ont beaucoup de lgumes avec des vitamines et des minraux! Manger des aliments colors est sain.",recipe:"Je peux t'enseigner des recettes dlicieuses! Demande-moi  propos de la pizza, des ptes, des biscuits ou de tout aliment que tu aimes!",cook:"La cuisine est amusante et t'aide  apprendre! Quel aliment aimerais-tu cuisiner?",healthy:"Manger sainement signifie beaucoup de fruits, de lgumes, de grains entiers et d'eau! a aide ton corps  devenir fort.",exercise:"L'exercice est amusant et garde ton corps sain! Tu peux courir, danser, nager ou jouer!",food:"La nourriture donne de l'nergie  ton corps et t'aide  grandir! Mange beaucoup de couleurs - lgumes, fruits, protines!",sugar:"Le sucre te donne une nergie rapide mais trop n'est pas bon pour tes dents! Mange des sucreries en petites quantits.",chocolate:"Le chocolat a de bonnes choses mais aussi du sucre! Aie-le comme une friandise, pas tous les jours!",pizza:"La pizza peut tre saine! Utilise de la crote de bl entier et beaucoup de garnitures vgtales!"},WY={back:" Retour",next:"Suivant ",start:"Commencer",finish:"Terminer",play:"Jouer",stop:"Arrter",skip:"Passer"},$Y={banana_benefit_1:"Coup de boost nergtique",banana_benefit_2:"Ventre heureux",banana_fact:"Les bananes peuvent flotter dans l'eau!",carrot_benefit_1:"Yeux super",carrot_benefit_2:"Plaisir croustillant",carrot_fact:"Les carottes taient d'abord violettes, pas oranges!",apple_benefit_1:"Dents fortes",apple_benefit_2:"Collation savoureuse",apple_fact:"Les pommes font partie de la famille des roses!"},qY={chapter_1_title:"L'Aventure Culinaire Commence",chapter_1_narrative:"Bienvenue  l'Acadmie Anime Eats! Ton voyage gastronomique commence ici. Apprends comment diffrents aliments donnent des superpouvoirs  ton corps!",lesson_nutrition:"Fondamentaux de la Nutrition",lesson_content:"Chaque aliment a des pouvoirs spciaux! Les protines construisent les muscles , Les glucides donnent de l'nergie , Les graisses aident ton cerveau , Les vitamines te gardent en bonne sant "},XY={food_quiz:"Quiz Alimentaire",food_match:"Jeu d'Appariement Alimentaire",cooking_catch:"Jeu de Capture Culinaire",complete_challenge:"Complter le Dfi"},YY={choose_chef_level:"Choisis ton Niveau de Chef!",little_chefs:"Petits Chefs",little_chefs_ages:"5-8 ans",little_chefs_desc:"Recettes amusantes et faciles!",junior_cooks:"Chefs Junior",junior_cooks_ages:"9-12 ans",junior_cooks_desc:"Amliore tes comptences!",teen_chefs:"Chefs Adolescents",teen_chefs_ages:"13-17 ans",teen_chefs_desc:"Matrise la cuisine!"},KY={title:"Aliments Parfaits pour Aujourd'hui!",sunny:"Reste au frais et hydrat!",cloudy:"Parfait pour une journe confortable!",rainy:"Rchauffe-toi de l'intrieur!",snowy:"Commence ta journe chaud!",windy:"Reste nergis!",watermelon:"Pastque",ice_cream:"Crme Glace",salad:"Salade",sandwich:"Sandwich",hot_soup:"Soupe Chaude",hot_cocoa:"Chocolat Chaud",grilled_cheese:"Fromage Grill",hot_oatmeal:"Flocons d'Avoine Chauds",energy_bars:"Barres nergtiques",warm_milk:"Lait Tide",rice_bowl:"Bol de Riz",smoothie:"Smoothie",pasta:"Ptes",baked_potato:"Pomme de Terre au Four"},QY={title:"RPG Shokuiku Saga",back:"Retour",level:"Niveau",xp:"Exprience",available_quests:"Qutes Disponibles",quest_details:"Dtails de la Qute",complete_quest:"Complter la Qute",cancel:"Annuler",vegetable_valley_rescue:"Sauvetage de la Valle des Lgumes",vegetable_valley_desc:"Aide les fermiers  sauver les rcoltes de lgumes de la dgradation",protein_peak_challenge:"Dfi du Pic de Protine",protein_peak_desc:"Grimpe la montagne et apprends les sources de protine",sugar_swamp_mystery:"Mystre du Marais Sucr",sugar_swamp_desc:"Dcouvre pourquoi trop de sucre nuit  ta sant",hydration_haven:"Havre d'Hydratation",hydration_haven_desc:"Restaure le Royaume de l'Eau et apprends l'hydratation",easy:"Facile",medium:"Moyen",hard:"Difficile",your_progress:"Tes Progrs",quests_completed:"Total de Qutes Compltes",total_xp:"Total d'Exprience Gagne"},ZY={title:"Le Savais-tu?",honey_fact:"Le miel ne se gte jamais! Les archologues ont trouv du miel vieux de 3000 ans dans des tombes gyptiennes qui tait toujours comestible.",strawberry_fact:"Les fraises ne sont pas vraiment des baies, mais les bananes le sont!",carrot_fact:"Les carottes peuvent t'aider  bien voir dans l'obscurit car elles sont pleines de vitamine A!",water_fact:"Ton cerveau est environ 75% eau, donc boire de l'eau t'aide  mieux rflchir!",breakfast_fact:"Manger le petit-djeuner t'aide  mieux russir  l'cole et dans les sports!",veggie_colors_fact:"Les lgumes de diffrentes couleurs ont des superpouvoirs diffrents pour ton corps!",broccoli_fact:"Le brocoli contient plus de protines par calorie que le steak !",lemon_fact:"Les citrons contiennent plus de sucre que les fraises.",eating_slow_fact:"Manger lentement aide votre corps  savoir quand il est rassasi.",chocolate_fact:"Le chocolat noir peut tre bon pour votre cur !"},JY={title:"Collection de Recettes",subtitle:"Recettes dlicieuses parfaites pour ton ge!",rainbow_fruit_kabobs:"Brochettes de Fruits Arc-en-Ciel",funny_face_sandwich:"Sandwich Visage Rigolo",apple_donuts:"Beignets aux Pommes",veggie_quesadilla:"Quesadilla Vgtarienne",stir_fry_noodles:"Nouilles Sautes",homemade_pizza:"Pizza Maison",buddha_bowl:"Bol de Bouddha",smoothie_bowl:"Bol de Smoothie",difficulty_easy:"Super Facile",difficulty_medium:"En Progression",difficulty_hard:"Mode Chef"},eK={title:"Hros de l'Alimentation Saine",subtitle:"Dcouvre des aliments incroyables et leurs superpouvoirs!",fruit_forest:"Fort de Fruits",veggie_valley:"Valle des Lgumes",protein_peaks:"Pics de Protine",dairy_dome:"Dme des Produits Laitiers",grain_gardens:"Jardins de Crales"},tK={title:"Tes Badges",subtitle:"Collecte des badges en apprenant et en cuisinant!",total_points:"Points Totals",first_recipe:"Premire Recette",first_recipe_desc:"Complte ta premire recette",veggie_hero:"Hros des Lgumes",veggie_hero_desc:"Apprends  propos de 5 lgumes",fruit_explorer:"Explorateur de Fruits",fruit_explorer_desc:"Essaie 10 fruits diffrents",kitchen_star:"toile de la Cuisine",kitchen_star_desc:"Complte 5 recettes",health_champion:"Champion de la Sant",health_champion_desc:"Complte tous les groupes alimentaires",novice_chef:"Chef Novice",fruit_wizard:"Magicien des Fruits",green_guardian:"Gardien Vert",protein_master:"Matre de la Protine",energy_champion:"Champion de l'nergie",anime_eats_master:"Matre de EatXP Anime"},nK={title:"Carte du Royaume Alimentaire",exploration_tips:"Conseils d'Exploration",tip_1:"Complte les chapitres de l'histoire pour dverrouiller les nouvelles rgions du Royaume Alimentaire",tip_2:"Chaque rgion contient des recettes uniques et des donnes nutritionnelles",tip_3:"Collecte les recettes de toutes les rgions pour devenir un Chef Matre",tip_4:"Mlange et assortis les recettes pour crer des repas quilibrs",locked_regions:"Rgions Verrouilles",recipes:"Recettes",facts:"Faits",fruit_forest_desc:"Une fort luxuriante remplie de fruits colors dbordant de vitamines et de douceur naturelle!",veggie_valley_desc:"Une valle abondante remplie de lgumes vibrants dans toutes les nuances de vert, orange et pourpre!",protein_peaks_desc:"Des montagnes majestueuses o les aliments riches en protines se dressent hauts et forts!",dairy_dome_desc:"Un dme magnifique ddi  tous les produits laitiers remplis de calcium!",grain_gardens_desc:"Des champs dors de crales s'tendant jusqu' l'horizon avec une puissance durable!"},rK={change_age_group:"Changer le Groupe d'ge",notifications:"Notifications",about:" Propos d'EatXP",recipes_label:"Recettes",foods_label:"Aliments",badges_label:"Badges",food_explorer:"Niveau d'Explorateur Alimentaire"},iK={title:" Produits de saison",subtitle:"Mangez ce qui est frais et de saison !",choose_season:"Choisissez une saison :",fresh_picks:"Choix frais",why_seasonal:"Pourquoi manger de saison ?",benefit_1:" Plus savoureux et nutritif",benefit_2:" Plus frais de la ferme  la table",benefit_3:" Meilleur pour l'environnement",benefit_4:" Souvent plus abordable",benefit_5:" Soutient les agriculteurs locaux",spring:"Printemps ",spring_desc:"Croissance frache aprs l'hiver ! Profitez des verts vibrants et des lgumes lgers.",summer:"t ",summer_desc:"Pleine saison ! Profitez des fruits colors et des lgumes rafrachissants.",autumn:"Automne ",autumn_desc:"Temps de rcolte ! Profitez des fruits et lgumes chauds et rconfortants.",winter:"Hiver ",winter_desc:"Choix copieux ! Les lgumes racines et les agrumes vous gardent en bonne sant.",strawberries:"Fraises",asparagus:"Asperges",peas:"Pois",spinach:"pinards",watermelon:"Pastque",tomato:"Tomate",corn:"Mas",blueberries:"Myrtilles",pumpkin:"Courge",apple:"Pomme",grape:"Raisin",carrot:"Carotte",orange:"Orange",broccoli:"Brocoli",potato:"Pomme de terre",kale:"Chou fris",vitamin_c_boost:"Coup de boost de vitamine C",sweet_juicy:"Sucr et juteux",super_nutrients:"Super nutriments",crunchy_texture:"Texture croustillante",protein_power:"Puissance protique",sweet_taste:"Got sucr",iron_rich:"Riche en fer",super_strength:"Super force",stay_hydrated:"Restez hydrat",natural_coolness:"Fracheur naturelle",heart_healthy:"Bon pour le cur",juicy_goodness:"Bont juteuse",energy_boost:"Boost d'nergie",sweet_kernels:"Grains sucrs",brain_boost:"Boost crbral",antioxidants:"Antioxydants",vitamin_a_power:"Puissance vitamine A",warm_comfort:"Confort chaleureux",fiber_rich:"Riche en fibres",crispy_crunch:"Croustillant croustillant",antioxidant_benefits:"Avantages antioxydants",sweet_clusters:"Grappes sucres",eye_health:"Sant oculaire",natural_sweetness:"Douceur naturelle",vitamin_c:"Vitamine C",citrus_brightness:"Luminosit d'agrumes",immune_boost:"Boost immunitaire",tree_shaped_yum:"Forme d'arbre savoureux",energy_fuel:"Carburant nergtique",versatile_veggie:"Lgume polyvalent",super_nutrient:"Super nutriment",leafy_power:"Puissance feuillue",complete_protein:"Protine complte",probiotics:"Probiotiques",muscle_recovery:"Rcupration musculaire",vitamin_a:"Vitamine A",complex_carbs:"Glucides complexes",lean_protein:"Protine maigre",b_vitamins:"Vitamines B",brain_food:"Nourriture pour le cerveau",healthy_fats:"Graisses saines",omega_3:"Omga-3",strong_muscles:"Muscles puissants",iron_boost:"Boost de fer",energy:"nergie",strawberry_fact:"Les fraises ont leurs graines  l'extrieur !",asparagus_fact:"Les asperges peuvent crotre jusqu' 10 pouces en un jour !",peas_fact:"Les pois taient l'un des premiers lgumes congels !",spinach_fact:"Les pinards contiennent des oxalates qui peuvent recouvrir vos dents !",watermelon_fact:"La pastque est 92 % eau !",tomato_fact:"Les tomates sont techniquement des baies, pas des lgumes !",corn_fact:"Chaque pi de mas a environ 800 grains !",blueberries_fact:"Les myrtilles sont le seul aliment naturellement bleu !",pumpkin_fact:"Les courges sont 90 % eau !",apple_fact:"Il faut 36 pommes pour faire un gallon de jus de pomme !",grape_fact:"Les raisins sont cultivs depuis plus de 8000 ans !",carrot_fact:"Les carottes orange ne sont devenues populaires qu'en 1600 !",orange_fact:"Les oranges taient  l'origine vertes !",broccoli_fact:"Le brocoli est techniquement une fleur !",potato_fact:"Les pommes de terre ont t le premier lgume cultiv dans l'espace !",kale_fact:"Le chou fris est rempli de plus de nutriments que la plupart des lgumes!"},sK={title:" Suivi de la nutrition",subtitle:"Suivez vos repas et obtenez des notes",build_meal:"Construire votre repas",meal_name_placeholder:"Nom du repas...",browse_foods:"Parcourir les aliments",scan:"Scanner",barcode_scanner:" Lecteur de code-barres",barcode_placeholder:"Scannez ou collez le code-barres... (appuyez sur Entre)",added_successfully:" Ajout :",barcode_not_found:" Code-barres introuvable :",current_meal:"Repas actuel",no_items:"Aucun lment ajout pour l'instant",save_meal:"Enregistrer le repas",meal_grade:"Note du repas",total_calories:"Calories totales",total_sugar:"Sucre total",additives:"Additifs trouvs",saved_meals:"Repas enregistrs",no_meals:"Aucun repas suivi pour l'instant. Commencez  construire !",delete:"Supprimer",sample_barcodes:"Codes-barres d'exemple",copy_barcode:"Copier le code-barres",copied:"Copi !",health_score:"Score de sant",grade_a:"A - Excellent !",grade_b:"B - Trs bien !",grade_c:"C - Bien !",grade_d:"D - Passable !",grade_f:"F -  amliorer !",apple:"Pomme",banana:"Banane",broccoli:"Brocoli",carrots:"Carottes",chicken_breast:"Poitrine de poulet",chocolate_bar:"Barre chocolate",pizza_slice:"Tranche de pizza",salad:"Salade de jardin",salmon:"Saumon",french_fries:"Frites",yogurt:"Yaourt grec",soft_drink_cola:"Boissons gazeuses - Cola",soft_drink_lemon_lime:"Boissons gazeuses - Citron-Citron vert"},aK={title:" Espace communautaire",subtitle:"Partagez  Apprenez  Rivalisez",tab_social:"Social",tab_challenges:"Dfis",tab_forum:"Forum",my_friends:" Mes amis",friends_count:"Amis",add_friend:"Ajouter un ami",view_profile:"Voir le profil",level:"Niveau",recipes_shared:"recettes partages",community_recipes:" Recettes communautaires",share_recipe:"Partager une recette",by:"par",difficulty:"Difficult",easy:"Facile",medium:"Moyen",hard:"Difficile",prep_time:"Temps de prparation",ago:"il y a",try_recipe:"Essayer la recette",community_stats:"Statistiques communautaires",members:"Membres",discussions:"Discussions",challenges_label:"Dfis",complete_challenges:" Compltez des dfis pour gagner XP, des badges et des droits de vantardise !",participants:"Participants",time_left:"Temps restant",prize:"Prix",join_challenge:"Rejoindre le dfi",view_details:"Voir les dtails",days_left:"j",forum_search:"Rechercher des discussions...",forum_new_post:"Nouveau message",forum_title:"Forum",post_category:"Catgorie",post_replies:"Rponses",post_likes:"J'aime",reply:"Rpondre",save:"Enregistrer",category_tips:"Conseils",category_cultural:"Culturel",category_nutrition:"Nutrition",category_recipes:"Recettes",category_general:"Gnral",challenge_7day_veggie:"Dfi lgume de 7 jours",challenge_7day_desc:"Mangez des lgumes dans les 3 repas pendant 7 jours",challenge_7day_badge:" Badge dor + 500 XP",challenge_cultural:"Qute de cuisinier culturel",challenge_cultural_desc:"Cuisinez un plat traditionnel de 3 cultures diffrentes",challenge_cultural_badge:" Badge explorateur mondial + 750 XP",challenge_breakfast:"Championnat du petit-djeuner",challenge_breakfast_desc:"Crez la recette de petit-djeuner la plus saine",challenge_breakfast_badge:" Couronne de champion + 1000 XP",friend_chef_yamada:"Chef Yamada",friend_sakura:"Sakura123",friend_ramen:"RamenLover",recipe_tonkatsu:"Tonkatsu classique",recipe_stir_fry:"Saut de lgumes",recipe_ramen:"Ramen miso pic",country_japan:" Japon",country_china:" Chine",forum_post_proteins:"Meilleures protines pour les adolescents en croissance",forum_post_sushi:"Comment faire parfait Sushi  la maison",forum_post_meal_prep:"Conseils faciles pour la prparation des repas pour les tudiants occups",forum_post_tradition:"Aliments traditionnels d'Asie du Sud-Est",forum_author_nutrition:"NutritionExpert",forum_author_culinary:"ArtistesCulinaire",forum_author_healthy:"ChoixSain",forum_author_cultural:"ChefCulturel"},oK={energy_boost:"Coup de boost d'nergie",happy_tummy:"Ventre heureux",super_eyes:"Super yeux",crunchy_fun:"Plaisir croustillant",strong_teeth:"Dents fortes",yummy_snack:"Collation savoureuse",strong_bones:"Os forts",tasty_treat:"Friandise savoureuse",brain_power:"Puissance crbrale",healthy_fats:"Graisses saines",omega_3:"Omga-3",strong_muscles:"Muscles puissants",iron_boost:"Coup de fer",energy:"nergie",complete_protein:"Protine complte",brain_food:"Nourriture pour le cerveau",probiotics:"Probiotiques",muscle_recovery:"Rcupration musculaire",vitamin_a:"Vitamine A",complex_carbs:"Glucides complexes",lean_protein:"Protine maigre",b_vitamins:"Vitamines B",vitamin_c_boost:"Coup de boost de vitamine C",sweet_juicy:"Sucr et juteux",super_nutrients:"Super nutriments",crunchy_texture:"Texture croustillante",protein_power:"Puissance protique",sweet_taste:"Got sucr",iron_rich:"Riche en fer",super_strength:"Super force",stay_hydrated:"Restez hydrat",natural_coolness:"Fracheur naturelle",heart_healthy:"Bon pour le cur",juicy_goodness:"Bont juteuse",sweet_kernels:"Grains sucrs",brain_boost:"Coup de cerveau",antioxidants:"Antioxydants",vitamin_a_power:"Puissance vitamine A",warm_comfort:"Confort chaleureux",fiber_rich:"Riche en fibres",crispy_crunch:"Croustillant croustillant",antioxidant_benefits:"Avantages antioxydants",sweet_clusters:"Grappes sucres",eye_health:"Sant oculaire",natural_sweetness:"Douceur naturelle",vitamin_c:"Vitamine C",citrus_brightness:"Luminosit d'agrumes",immune_boost:"Coup de soutien immunitaire",tree_shaped_yum:"Forme d'arbre savoureux",energy_fuel:"Carburant nergtique",versatile_veggie:"Lgume polyvalent",super_nutrient:"Super nutriment",leafy_power:"Puissance feuillue"},lK={app_name:RY,nav:DY,common:FY,home:IY,age_groups:OY,voice_bot:BY,teen_features:zY,food_categories:VY,foods:HY,recipes:UY,voice_responses:GY,buttons:WY,food_info:$Y,story:qY,games:XY,cover_page:YY,weather_section:KY,shokuiku_saga:QY,did_you_know:ZY,recipes_section:JY,healthy_heroes:eK,badges_achievements:tK,food_kingdom:nK,settings:rK,seasonal_produce:iK,nutrition_tracker:sK,community_space:aK,food_benefits:oK},cK="EatXP",uK={home:"",recipes:"",games:"",profile:"",settings:""},dK={language:"",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:"",logout:"",login:"",register:"",back_to_home:" ",hello:"",choose_character:"",story_mode:"",change_theme:"",change_age:"",anime_themes:""},hK={welcome:"EatXP",subtitle:"!",start_learning:"",story_mode:"",story_desc:"!",play_games:"",games_desc:"!",read_comics:"",comics_desc:"!",food_map:"",food_map_desc:"!",cutscenes:"",cutscenes_desc:"!",manga:"",manga_desc:"!",daily_challenge:"",challenge_desc:"! ",challenge_text:"10!",accept_challenge:"",quick_recipes:""},fK={kids:"",tweens:"",teens:"",default:""},pK={title:"EatXP",listen:"...",speak:"",processing:"...",help_text:"!"},mK={shokuiku_saga:"RPG",shokuiku_desc:"",boss_battles:"",boss_desc:"",meal_mastery:"",meal_desc:"",manga_builder:"",manga_desc:"",real_missions:"",missions_desc:""},gK={fruits:"",veggies:"",proteins:"",grains:"",dairy:"",snacks:""},yK={banana:"",carrot:"",apple:"",cheese:"",avocado:"",broccoli:"",spinach:"",salmon:"",chicken:"",eggs:"",quinoa:"",greek_yogurt:"",sweet_potato:""},xK={rainbow_fruit_kabobs:"",funny_face_sandwich:"",apple_donuts:"",veggie_quesadilla:"",stir_fry_noodles:"",homemade_pizza:"",buddha_bowl:"",smoothie_bowl:""},vK={apple:"C",banana:"",carrot:"",broccoli:"",spinach:"!",milk:"",egg:"",fish:"3",water:"",salad:"",recipe:"!",cook:"?",healthy:"",exercise:"!",food:" - !",sugar:"",chocolate:"",pizza:"!"},bK={back:" ",next:" ",start:"",finish:"",play:"",stop:"",skip:""},_K={banana_benefit_1:"",banana_benefit_2:"",banana_fact:"!",carrot_benefit_1:"",carrot_benefit_2:"",carrot_fact:"!",apple_benefit_1:"",apple_benefit_2:"",apple_fact:"!"},wK={chapter_1_title:"",chapter_1_narrative:"! !",lesson_nutrition:"",lesson_content:"!     "},SK={food_quiz:"",food_match:"",cooking_catch:"",complete_challenge:""},MK={choose_chef_level:"!",little_chefs:"",little_chefs_ages:"5-8",little_chefs_desc:"!",junior_cooks:"",junior_cooks_ages:"9-12",junior_cooks_desc:"!",teen_chefs:"",teen_chefs_ages:"13-17",teen_chefs_desc:"!"},CK={title:"!",sunny:"!",cloudy:"!",rainy:"!",snowy:"!",windy:"!",watermelon:"",ice_cream:"",salad:"",sandwich:"",hot_soup:"",hot_cocoa:"",grilled_cheese:"",hot_oatmeal:"",energy_bars:"",warm_milk:"",rice_bowl:"",smoothie:"",pasta:"",baked_potato:""},EK={title:"RPG",back:"",level:"",xp:"",available_quests:"",quest_details:"",complete_quest:"",cancel:"",vegetable_valley_rescue:"",vegetable_valley_desc:"",protein_peak_challenge:"",protein_peak_desc:"",sugar_swamp_mystery:"",sugar_swamp_desc:"",hydration_haven:"",hydration_haven_desc:"",easy:"",medium:"",hard:"",your_progress:"",quests_completed:"",total_xp:""},TK={title:"?",honey_fact:"! 3000",strawberry_fact:"!",carrot_fact:"A!",water_fact:"75%!",breakfast_fact:"!",veggie_colors_fact:"!",broccoli_fact:"1!",lemon_fact:"",eating_slow_fact:"",chocolate_fact:""},NK={title:"",subtitle:"!",rainbow_fruit_kabobs:"",funny_face_sandwich:"",apple_donuts:"",veggie_quesadilla:"",stir_fry_noodles:"",homemade_pizza:"",buddha_bowl:"",smoothie_bowl:"",difficulty_easy:"",difficulty_medium:"",difficulty_hard:""},kK={title:"",subtitle:"!",fruit_forest:"",veggie_valley:"",protein_peaks:"",dairy_dome:"",grain_gardens:""},AK={title:"",subtitle:"!",total_points:"",first_recipe:"",first_recipe_desc:"",veggie_hero:"",veggie_hero_desc:"5",fruit_explorer:"",fruit_explorer_desc:"10",kitchen_star:"",kitchen_star_desc:"5",health_champion:"",health_champion_desc:"",novice_chef:"",fruit_wizard:"",green_guardian:"",protein_master:"",energy_champion:"",anime_eats_master:""},jK={title:"",exploration_tips:"",tip_1:"",tip_2:"",tip_3:"",tip_4:"",locked_regions:"",recipes:"",facts:"",fruit_forest_desc:"!",veggie_valley_desc:"!",protein_peaks_desc:"!",dairy_dome_desc:"!",grain_gardens_desc:"!"},PK={change_age_group:"",notifications:"",about:"EatXP",recipes_label:"",foods_label:"",badges_label:"",food_explorer:""},LK={title:" ",subtitle:"!",choose_season:":",fresh_picks:"",why_seasonal:"?",benefit_1:" ",benefit_2:" ",benefit_3:" ",benefit_4:" ",benefit_5:" ",spring:" ",spring_desc:"!",summer:" ",summer_desc:"!",autumn:" ",autumn_desc:"!",winter:" ",winter_desc:"!",strawberries:"",asparagus:"",peas:"",spinach:"",watermelon:"",tomato:"",corn:"",blueberries:"",pumpkin:"",apple:"",grape:"",carrot:"",orange:"",broccoli:"",potato:"",kale:"",vitamin_c_boost:"C",sweet_juicy:"",super_nutrients:"",crunchy_texture:"",protein_power:"",sweet_taste:"",iron_rich:"",super_strength:"",stay_hydrated:"",natural_coolness:"",heart_healthy:"",juicy_goodness:"",energy_boost:"",sweet_kernels:"",brain_boost:"",antioxidants:"",vitamin_a_power:"A",warm_comfort:"",fiber_rich:"",crispy_crunch:"",antioxidant_benefits:"",sweet_clusters:"",eye_health:"",natural_sweetness:"",vitamin_c:"C",citrus_brightness:"",immune_boost:"",tree_shaped_yum:"",energy_fuel:"",versatile_veggie:"",super_nutrient:"",leafy_power:"",complete_protein:"",probiotics:"",muscle_recovery:"",vitamin_a:"A",complex_carbs:"",lean_protein:"",b_vitamins:"B",brain_food:"",healthy_fats:"",omega_3:"3",strong_muscles:"",iron_boost:"",energy:"",strawberry_fact:"!",asparagus_fact:"110!",peas_fact:"1!",spinach_fact:"!",watermelon_fact:"92%!",tomato_fact:"!",corn_fact:"800!",blueberries_fact:"!",pumpkin_fact:"90%!",apple_fact:"136!",grape_fact:"8000!",carrot_fact:"1600!",orange_fact:"!",broccoli_fact:"!",potato_fact:"!",kale_fact:"!"},RK={title:" ",subtitle:"",build_meal:"",meal_name_placeholder:"...",browse_foods:"",scan:"",barcode_scanner:" ",barcode_placeholder:"... (Enter)",added_successfully:" :",barcode_not_found:" :",current_meal:"",no_items:"",save_meal:"",meal_grade:"",total_calories:"",total_sugar:"",additives:"",saved_meals:"",no_meals:"!",delete:"",sample_barcodes:"",copy_barcode:"",copied:"!",health_score:"",grade_a:"A - !",grade_b:"B - !",grade_c:"C - !",grade_d:"D - !",grade_f:"F - !",apple:"",banana:"",broccoli:"",carrots:"",chicken_breast:"",chocolate_bar:"",pizza_slice:"",salad:"",salmon:"",french_fries:"",yogurt:"",soft_drink_cola:" - ",soft_drink_lemon_lime:" - -"},DK={title:" ",subtitle:"    ",tab_social:"",tab_challenges:"",tab_forum:"",my_friends:" ",friends_count:"",add_friend:"",view_profile:"",level:"",recipes_shared:"",community_recipes:" ",share_recipe:"",by:"",difficulty:"",easy:"",medium:"",hard:"",prep_time:"",ago:"",try_recipe:"",community_stats:"",members:"",discussions:"",challenges_label:"",complete_challenges:" XP!",participants:"",time_left:"",prize:"",join_challenge:"",view_details:"",days_left:"",forum_search:"...",forum_new_post:"",forum_title:"",post_category:"",post_replies:"",post_likes:"",reply:"",save:"",category_tips:"",category_cultural:"",category_nutrition:"",category_recipes:"",category_general:"",challenge_7day_veggie:"7",challenge_7day_desc:"73",challenge_7day_badge:"  + 500 XP",challenge_cultural:"",challenge_cultural_desc:"3",challenge_cultural_badge:"  + 750 XP",challenge_breakfast:"",challenge_breakfast_desc:"",challenge_breakfast_badge:"  + 1000 XP",friend_chef_yamada:"",friend_sakura:"123",friend_ramen:"",recipe_tonkatsu:"",recipe_stir_fry:"",recipe_ramen:"",country_japan:" ",country_china:" ",forum_post_proteins:"",forum_post_sushi:"",forum_post_meal_prep:"",forum_post_tradition:"",forum_author_nutrition:"",forum_author_culinary:"",forum_author_healthy:"",forum_author_cultural:""},FK={energy_boost:"",happy_tummy:"",super_eyes:"",crunchy_fun:"",strong_teeth:"",yummy_snack:"",strong_bones:"",tasty_treat:"",brain_power:"",healthy_fats:"",omega_3:"3",strong_muscles:"",iron_boost:"",energy:"",complete_protein:"",brain_food:"",probiotics:"",muscle_recovery:"",vitamin_a:"A",complex_carbs:"",lean_protein:"",b_vitamins:"B",vitamin_c_boost:"C",sweet_juicy:"",super_nutrients:"",crunchy_texture:"",protein_power:"",sweet_taste:"",iron_rich:"",super_strength:"",stay_hydrated:"",natural_coolness:"",heart_healthy:"",juicy_goodness:"",sweet_kernels:"",brain_boost:"",antioxidants:"",vitamin_a_power:"A",warm_comfort:"",fiber_rich:"",crispy_crunch:"",antioxidant_benefits:"",sweet_clusters:"",eye_health:"",natural_sweetness:"",vitamin_c:"C",citrus_brightness:"",immune_boost:"",tree_shaped_yum:"",energy_fuel:"",versatile_veggie:"",super_nutrient:"",leafy_power:""},IK={app_name:cK,nav:uK,common:dK,home:hK,age_groups:fK,voice_bot:pK,teen_features:mK,food_categories:gK,foods:yK,recipes:xK,voice_responses:vK,buttons:bK,food_info:_K,story:wK,games:SK,cover_page:MK,weather_section:CK,shokuiku_saga:EK,did_you_know:TK,recipes_section:NK,healthy_heroes:kK,badges_achievements:AK,food_kingdom:jK,settings:PK,seasonal_produce:LK,nutrition_tracker:RK,community_space:DK,food_benefits:FK},OK="EatXP",BK={home:"",recipes:"",games:"",profile:"",settings:""},zK={language:"",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:" ",logout:" ",login:"",register:"",back_to_home:"   ",hello:"",choose_character:" ",story_mode:" ",change_theme:" ",change_age:" ",anime_themes:" "},VK={welcome:"EatXP    ",subtitle:"       !",start_learning:"  ",story_mode:" ",story_desc:" !",play_games:" ",games_desc:"   !",read_comics:" ",comics_desc:"  !",food_map:" ",food_map_desc:"   !",cutscenes:"",cutscenes_desc:" !",manga:"",manga_desc:" !",daily_challenge:" ",challenge_desc:"    ! ",challenge_text:"   10        !",accept_challenge:"  ",quick_recipes:" "},HK={kids:" ",tweens:" ",teens:" ",default:""},UK={title:"EatXP  ",listen:"  ...",speak:"    ",processing:"...",help_text:" ,         !"},GK={shokuiku_saga:"  ",shokuiku_desc:"   -  ",boss_battles:" ",boss_desc:"   ",meal_mastery:" ",meal_desc:"    ",manga_builder:" ",manga_desc:"-  ",real_missions:" ",missions_desc:"         "},WK={fruits:"",veggies:"",proteins:"",grains:"",dairy:"",snacks:""},$K={banana:"",carrot:"",apple:"",cheese:"",avocado:"",broccoli:"",spinach:"",salmon:"",chicken:"",eggs:"",quinoa:"",greek_yogurt:" ",sweet_potato:" "},qK={rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",pasta_primavera:" ",stir_fry_noodles:"  ",homemade_pizza:"   ",buddha_bowl:" ",smoothie_bowl:" "},XK={apple:"        !              ",banana:"             !        ",carrot:"  -          !      ",broccoli:"      !          ",spinach:"      !        !",milk:"           !       ",egg:"               !      ",fish:"  -3          !        ",water:"   !                   ",salad:"          !     ",recipe:"      !  , ,         !",cook:"          !       ?",healthy:"       , ,    !          ",exercise:"         !    ,    ,        !",food:"            !     - , , !",sugar:"              !     ",chocolate:"         !    ,       ",pizza:"    !             !"},YK={back:" ",next:" ",start:" ",finish:" ",play:"",stop:" ",skip:""},KK={banana_benefit_1:" ",banana_benefit_2:" ",banana_fact:"     !",carrot_benefit_1:" ",carrot_benefit_2:" ",carrot_fact:"   ,  !",apple_benefit_1:" ",apple_benefit_2:" ",apple_fact:"     !"},QK={chapter_1_title:"     ",chapter_1_narrative:"      !                   !",lesson_nutrition:"   ",lesson_content:"      !     ,     ,        ,      "},ZK={food_quiz:" ",food_match:"  ",cooking_catch:"   ",complete_challenge:"  "},JK={choose_chef_level:"   !",little_chefs:" ",little_chefs_ages:"5-8 ",little_chefs_desc:"   !",junior_cooks:" ",junior_cooks_ages:"9-12 ",junior_cooks_desc:"    !",teen_chefs:" ",teen_chefs_ages:"13-17 ",teen_chefs_desc:"    !"},eQ={title:"    !",sunny:"   !",cloudy:"    !",rainy:"   !",snowy:"     !",windy:" !",watermelon:"",ice_cream:"",salad:"",sandwich:"",hot_soup:" ",hot_cocoa:" ",grilled_cheese:" ",hot_oatmeal:" ",energy_bars:" ",warm_milk:" ",rice_bowl:"  ",smoothie:"",pasta:"",baked_potato:"   "},tQ={title:"  ",back:"",level:"",xp:"",available_quests:" ",quest_details:" ",complete_quest:"  ",cancel:" ",vegetable_valley_rescue:"  ",vegetable_valley_desc:"           ",protein_peak_challenge:"  ",protein_peak_desc:"         ",sugar_swamp_mystery:"  ",sugar_swamp_desc:"           ",hydration_haven:" ",hydration_haven_desc:"          ",easy:"",medium:"",hard:"",your_progress:" ",quests_completed:"    ",total_xp:"   "},nQ={title:"   ?",honey_fact:"    !       3000           ",strawberry_fact:"     ,   !",carrot_fact:"                  !",water_fact:"   75%  ,         !",breakfast_fact:"           !",veggie_colors_fact:"         -   !",broccoli_fact:"         !",lemon_fact:"         ",eating_slow_fact:"-               ",chocolate_fact:"         !"},rQ={title:" ",subtitle:"       !",rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",stir_fry_noodles:"  ",homemade_pizza:"   ",buddha_bowl:" ",smoothie_bowl:" ",difficulty_easy:" ",difficulty_medium:" ",difficulty_hard:" "},iQ={title:"  ",subtitle:"        !",fruit_forest:" ",veggie_valley:" ",protein_peaks:" ",dairy_dome:" ",grain_gardens:" "},sQ={title:" ",subtitle:"      !",total_points:" ",first_recipe:" ",first_recipe_desc:"    ",veggie_hero:" ",veggie_hero_desc:"5     ",fruit_explorer:" ",fruit_explorer_desc:"10   ",kitchen_star:"  ",kitchen_star_desc:"5   ",health_champion:" ",health_champion_desc:"    ",novice_chef:" ",fruit_wizard:" ",green_guardian:" ",protein_master:" ",energy_champion:" ",anime_eats_master:"  "},aQ={title:"  ",exploration_tips:" ",tip_1:"           ",tip_2:"        ",tip_3:"        ",tip_4:"         ",locked_regions:" ",recipes:"",facts:"",fruit_forest_desc:"           !",veggie_valley_desc:"   ,           !",protein_peaks_desc:"           !",dairy_dome_desc:"          !",grain_gardens_desc:"             !"},oQ={change_age_group:"  ",notifications:"",about:"EatXP   ",recipes_label:"",foods_label:" ",badges_label:"",food_explorer:"  "},lQ={title:"  ",subtitle:"    !",choose_season:"  :",fresh_picks:" ",why_seasonal:"   ?",benefit_1:"    ",benefit_2:"     ",benefit_3:"    ",benefit_4:"   ",benefit_5:"      ",spring:" ",spring_desc:"    !         ",summer:" ",summer_desc:" !        ",autumn:"  ",autumn_desc:"  !         ",winter:" ",winter_desc:" !         ",strawberries:"",asparagus:"",peas:"",spinach:"",watermelon:"",tomato:"",corn:"",blueberries:"",pumpkin:"",apple:"",grape:"",carrot:"",orange:"",broccoli:"",potato:"",kale:"",vitamin_c_boost:"  ",sweet_juicy:"  ",super_nutrients:"  ",crunchy_texture:" ",protein_power:"  ",sweet_taste:" ",iron_rich:"  ",super_strength:" ",stay_hydrated:" ",natural_coolness:" ",heart_healthy:"   ",juicy_goodness:" ",energy_boost:" ",sweet_kernels:" ",brain_boost:" ",antioxidants:"",vitamin_a_power:"   ",warm_comfort:" ",fiber_rich:"  ",crispy_crunch:" ",antioxidant_benefits:" ",sweet_clusters:" ",eye_health:"  ",natural_sweetness:" ",vitamin_c:" ",citrus_brightness:"   ",immune_boost:" ",tree_shaped_yum:"   ",energy_fuel:" ",versatile_veggie:" ",super_nutrient:"  ",leafy_power:" ",complete_protein:" ",probiotics:"",muscle_recovery:" ",vitamin_a:" ",complex_carbs:" ",lean_protein:" ",b_vitamins:" ",brain_food:"  ",healthy_fats:" ",omega_3:"-3",strong_muscles:" ",iron_boost:"  ",energy:"",strawberry_fact:"     !",asparagus_fact:"    10     !",peas_fact:"        !",spinach_fact:"            !",watermelon_fact:" 92%  !",tomato_fact:"     ,  !",corn_fact:"      800   !",blueberries_fact:"       !",pumpkin_fact:" 90%  !",apple_fact:"        36   !",grape_fact:" 8000         !",carrot_fact:"  1600    !",orange_fact:"     !",broccoli_fact:"      !",potato_fact:"        !",kale_fact:"            !"},cQ={title:"  ",subtitle:"        ",build_meal:"  ",meal_name_placeholder:"  ...",browse_foods:"   ",scan:" ",barcode_scanner:"  ",barcode_placeholder:"    ... (Enter )",added_successfully:"  :",barcode_not_found:"   :",current_meal:" ",no_items:"     ",save_meal:" ",meal_grade:" ",total_calories:" ",total_sugar:" ",additives:" ",saved_meals:"  ",no_meals:"        !",delete:"",sample_barcodes:" ",copy_barcode:"  ",copied:"  !",health_score:" ",grade_a:"A - !",grade_b:"B -  !",grade_c:"C - !",grade_d:"D -  !",grade_f:"F -    !",apple:"",banana:"",broccoli:"",carrots:"",chicken_breast:" ",chocolate_bar:" ",pizza_slice:"  ",salad:" ",salmon:"",french_fries:" ",yogurt:" ",soft_drink_cola:"  - ",soft_drink_lemon_lime:"  - -"},uQ={title:"  ",subtitle:"      ",tab_social:"",tab_challenges:"",tab_forum:"",my_friends:"  ",friends_count:"",add_friend:" ",view_profile:" ",level:"",recipes_shared:"   ",community_recipes:"  ",share_recipe:"  ",by:"",difficulty:"",easy:"",medium:"",hard:"",prep_time:"  ",ago:"",try_recipe:" ",community_stats:" ",members:"",discussions:"",challenges_label:"",complete_challenges:" XP,            !",participants:"",time_left:"  ",prize:"",join_challenge:"   ",view_details:" ",days_left:"",forum_search:"  ...",forum_new_post:" ",forum_title:"",post_category:"",post_replies:"",post_likes:"",reply:" ",save:"",category_tips:"",category_cultural:"",category_nutrition:"",category_recipes:"",category_general:"",challenge_7day_veggie:"7-  ",challenge_7day_desc:"7    3    ",challenge_7day_badge:"   + 500 XP",challenge_cultural:"  ",challenge_cultural_desc:"3       ",challenge_cultural_badge:"    + 750 XP",challenge_breakfast:" ",challenge_breakfast_desc:"    ",challenge_breakfast_badge:"   + 1000 XP",friend_chef_yamada:" ",friend_sakura:" 123",friend_ramen:" ",recipe_tonkatsu:" ",recipe_stir_fry:" -",recipe_ramen:"  ",country_japan:" ",country_china:" ",forum_post_proteins:"     ",forum_post_sushi:"     ",forum_post_meal_prep:"        ",forum_post_tradition:"-     ",forum_author_nutrition:" ",forum_author_culinary:" ",forum_author_healthy:" ",forum_author_cultural:" "},dQ={energy_boost:" ",happy_tummy:" ",super_eyes:" ",crunchy_fun:" ",strong_teeth:" ",yummy_snack:" ",strong_bones:" ",tasty_treat:" ",brain_power:" ",healthy_fats:" ",omega_3:"-3",strong_muscles:" ",iron_boost:"  ",energy:"",complete_protein:" ",brain_food:"  ",probiotics:"",muscle_recovery:" ",vitamin_a:" ",complex_carbs:" ",lean_protein:" ",b_vitamins:" ",vitamin_c_boost:"  ",sweet_juicy:"  ",super_nutrients:"  ",crunchy_texture:" ",protein_power:"  ",sweet_taste:" ",iron_rich:"  ",super_strength:" ",stay_hydrated:" ",natural_coolness:" ",heart_healthy:"   ",juicy_goodness:" ",sweet_kernels:" ",brain_boost:" ",antioxidants:"",vitamin_a_power:"   ",warm_comfort:" ",fiber_rich:"  ",crispy_crunch:" ",antioxidant_benefits:" ",sweet_clusters:" ",eye_health:"  ",natural_sweetness:" ",vitamin_c:" ",citrus_brightness:"   ",immune_boost:" ",tree_shaped_yum:"   ",energy_fuel:" ",versatile_veggie:" ",super_nutrient:"  ",leafy_power:" "},hQ={app_name:OK,nav:BK,common:zK,home:VK,age_groups:HK,voice_bot:UK,teen_features:GK,food_categories:WK,foods:$K,recipes:qK,voice_responses:XK,buttons:YK,food_info:KK,story:QK,games:ZK,cover_page:JK,weather_section:eQ,shokuiku_saga:tQ,did_you_know:nQ,recipes_section:rQ,healthy_heroes:iQ,badges_achievements:sQ,food_kingdom:aQ,settings:oQ,seasonal_produce:lQ,nutrition_tracker:cQ,community_space:uQ,food_benefits:dQ},fQ="EatXP",pQ={home:"",recipes:" ",games:"",profile:"",settings:""},mQ={language:"",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:" ",logout:"",login:"",register:" ",back_to_home:"  ",hello:"",choose_character:" ",story_mode:"",change_theme:" ",change_age:" ",anime_themes:" "},gQ={welcome:"EatXP ",subtitle:"   !",start_learning:" ",story_mode:"",story_desc:"  !",play_games:" ",games_desc:"  !",read_comics:"  ",comics_desc:"   !",food_map:" ",food_map_desc:" !",cutscenes:" ",cutscenes_desc:" !",manga:"",manga_desc:" !",daily_challenge:" ",challenge_desc:"    ! ",challenge_text:"      10  !",accept_challenge:" ",quick_recipes:"  "},yQ={kids:" ",tweens:" ",teens:" ",default:""},xQ={title:"EatXP  ",listen:"...",speak:"  ",processing:"...",help_text:",       !"},vQ={shokuiku_saga:"  RPG",shokuiku_desc:"    ",boss_battles:" ",boss_desc:"    ",meal_mastery:" ",meal_desc:"   ",manga_builder:"  ",manga_desc:"   ",real_missions:" ",missions_desc:"   "},bQ={fruits:"",veggies:"",proteins:"",grains:"",dairy:" ",snacks:" "},_Q={banana:"",carrot:"",apple:"",cheese:"",avocado:"",broccoli:"",spinach:" ",salmon:"",chicken:"",eggs:"",quinoa:"",greek_yogurt:" ",sweet_potato:""},wQ={rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",stir_fry_noodles:" ",homemade_pizza:"  ",buddha_bowl:" ",smoothie_bowl:" "},SQ={apple:"   !          .",banana:"  ,       !   .",carrot:"   ,     !      !",broccoli:"    .      !",spinach:"     .    !",milk:"  ,       .    !",egg:"    ,     .  !",fish:" -3 ,    .    !",water:"  !      ,      .",salad:"      .      !",recipe:"     ! , , ,      !",cook:"     .    ?",healthy:"    , ,  ,    .      .",exercise:"        .  ,   ,  ,  !",food:"        !    - , , !",sugar:"   ,    !      .",chocolate:"    ,   !      .",pizza:"   !        !"},MQ={back:" ",next:" ",start:"",finish:"",play:"",stop:"",skip:""},CQ={banana_benefit_1:" ",banana_benefit_2:" ",banana_fact:"   !",carrot_benefit_1:"  ",carrot_benefit_2:" ",carrot_fact:"    ,  !",apple_benefit_1:" ",apple_benefit_2:"  ",apple_fact:"   !"},EQ={chapter_1_title:"  ",chapter_1_narrative:"   !     .         !",lesson_nutrition:" ",lesson_content:"    !    ,    ,     ,     "},TQ={food_quiz:" ",food_match:"  ",cooking_catch:"  ",complete_challenge:" "},NQ={choose_chef_level:"    !",little_chefs:" ",little_chefs_ages:"5-8 ",little_chefs_desc:"    !",junior_cooks:" ",junior_cooks_ages:"9-12 ",junior_cooks_desc:"  !",teen_chefs:" ",teen_chefs_ages:"13-17 ",teen_chefs_desc:"  !"},kQ={title:"  !",sunny:"   !",cloudy:"  !",rainy:"  !",snowy:"  !",windy:" !",watermelon:"",ice_cream:" ",salad:"",sandwich:"",hot_soup:" ",hot_cocoa:" ",grilled_cheese:" ",hot_oatmeal:" ",energy_bars:" ",warm_milk:" ",rice_bowl:" ",smoothie:" ",pasta:"",baked_potato:"  "},AQ={title:"  RPG",back:"",level:"",xp:" ",available_quests:" ",quest_details:" ",complete_quest:" ",cancel:" ",vegetable_valley_rescue:"  ",vegetable_valley_desc:"    ",protein_peak_challenge:"  ",protein_peak_desc:"     ",sugar_swamp_mystery:"  ",sugar_swamp_desc:"       ",hydration_haven:" ",hydration_haven_desc:"      ",easy:"",medium:"",hard:"",your_progress:" ",quests_completed:"  ",total_xp:"   "},jQ={title:" ?",honey_fact:"  !     3000    .    !",strawberry_fact:"    ,    !",carrot_fact:"  A ,     !",water_fact:"   75% ,      !",breakfast_fact:"      .",veggie_colors_fact:"        !",broccoli_fact:"      !"},PQ={title:"  ",subtitle:"     !",rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",stir_fry_noodles:" ",homemade_pizza:"  ",buddha_bowl:" ",smoothie_bowl:" ",difficulty_easy:" ",difficulty_medium:" ",difficulty_hard:" "},LQ={title:"  ",subtitle:"      !",fruit_forest:" ",veggie_valley:" ",protein_peaks:" ",dairy_dome:" ",grain_gardens:" "},RQ={title:" ",subtitle:"    !",total_points:" ",first_recipe:"  ",first_recipe_desc:"    ",veggie_hero:" ",veggie_hero_desc:"5   ",fruit_explorer:" ",fruit_explorer_desc:"10    ",kitchen_star:" ",kitchen_star_desc:"5   ",health_champion:" ",health_champion_desc:"   ",novice_chef:" ",fruit_wizard:" ",green_guardian:" ",protein_master:" ",energy_champion:" ",anime_eats_master:"  "},DQ={title:"  ",exploration_tips:" ",tip_1:"       ",tip_2:"        ",tip_3:"       ",tip_4:"      ",locked_regions:" ",recipes:" ",facts:"",fruit_forest_desc:"       !",veggie_valley_desc:", ,        !",protein_peaks_desc:"     !",dairy_dome_desc:"        !",grain_gardens_desc:"        !"},FQ={change_age_group:"  ",notifications:"",about:"EatXP ",recipes_label:" ",foods_label:"",badges_label:"",food_explorer:"  "},IQ={energy_boost:" ",happy_tummy:" ",super_eyes:" ",crunchy_fun:" ",strong_teeth:" ",yummy_snack:"  ",strong_bones:" ",tasty_treat:" ",brain_power:" ",healthy_fats:" ",omega_3:" 3",strong_muscles:" ",iron_boost:" ",energy:"",complete_protein:" ",brain_food:" ",probiotics:"",muscle_recovery:" ",vitamin_a:" ",complex_carbs:" ",lean_protein:" ",b_vitamins:" ",vitamin_c_boost:"  ",sweet_juicy:" & ",super_nutrients:" ",crunchy_texture:" ",protein_power:" ",sweet_taste:" ",iron_rich:" ",super_strength:" ",stay_hydrated:" ",natural_coolness:" ",heart_healthy:" ",juicy_goodness:"  ",sweet_kernels:" ",brain_boost:" ",antioxidants:"-",vitamin_a_power:"  ",warm_comfort:" ",fiber_rich:" ",crispy_crunch:" ",antioxidant_benefits:"- ",sweet_clusters:" ",eye_health:" ",natural_sweetness:" ",vitamin_c:" ",citrus_brightness:" ",immune_boost:"   ",tree_shaped_yum:"  ",energy_fuel:" ",versatile_veggie:" ",super_nutrient:" ",leafy_power:" "},OQ={app_name:fQ,nav:pQ,common:mQ,home:gQ,age_groups:yQ,voice_bot:xQ,teen_features:vQ,food_categories:bQ,foods:_Q,recipes:wQ,voice_responses:SQ,buttons:MQ,food_info:CQ,story:EQ,games:TQ,cover_page:NQ,weather_section:kQ,shokuiku_saga:AQ,did_you_know:jQ,recipes_section:PQ,healthy_heroes:LQ,badges_achievements:RQ,food_kingdom:DQ,settings:FQ,food_benefits:IQ},BQ="EatXP",zQ={home:"",recipes:"",games:"",profile:"",settings:""},VQ={language:"",english:"English",spanish:"Espaol",french:"Franais",japanese:"",hindi:"",tamil:"",telugu:"",voice_bot:" ",logout:"",login:"",register:"",back_to_home:"   ",hello:"",choose_character:" ",story_mode:" ",change_theme:" ",change_age:" ",anime_themes:" "},HQ={welcome:"EatXP ",subtitle:"   !",start_learning:" ",story_mode:" ",story_desc:"  !",play_games:" ",games_desc:"   !",read_comics:" ",comics_desc:"   !",food_map:" ",food_map_desc:" !",cutscenes:"",cutscenes_desc:" !",manga:"",manga_desc:" !",daily_challenge:" ",challenge_desc:"     ! ",challenge_text:"       10  !",accept_challenge:" ",quick_recipes:" "},UQ={kids:" ",tweens:" ",teens:" ",default:""},GQ={title:"EatXP  ",listen:" ...",speak:"  ",processing:" ...",help_text:",      !"},WQ={shokuiku_saga:"  ",shokuiku_desc:"    ",boss_battles:" ",boss_desc:"    ",meal_mastery:" ",meal_desc:"   ",manga_builder:" ",manga_desc:"   ",real_missions:" ",missions_desc:"     "},$Q={fruits:"",veggies:"",proteins:"",grains:"",dairy:" ",snacks:""},qQ={banana:"",carrot:"",apple:"",cheese:"",avocado:"",broccoli:"",spinach:"",salmon:"",chicken:"",eggs:"",quinoa:"",greek_yogurt:" ",sweet_potato:""},XQ={rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",stir_fry_noodles:" ",homemade_pizza:"   ",buddha_bowl:" ",smoothie_bowl:" "},YQ={apple:"   ,      .",banana:"  ,     .    !",carrot:"   ,  .      !",broccoli:"    .       !",spinach:"    .    !",milk:"  ,       .    !",egg:"    ,     .  !",fish:"  3 ,    .    !",water:"  .          .",salad:"      .      !",recipe:"   . , ,       !",cook:"      .     ?",healthy:"    , ,     .     !",exercise:"      . , ,    !",food:"       .    - , , !",sugar:"       .    .",chocolate:"       .  ,  .",pizza:"  .       !"},KQ={back:" ",next:" ",start:"",finish:"",play:"",stop:"",skip:""},QQ={banana_benefit_1:" ",banana_benefit_2:" ",banana_fact:"  !",carrot_benefit_1:" ",carrot_benefit_2:" ",carrot_fact:"  ,  !",apple_benefit_1:" ",apple_benefit_2:" ",apple_fact:"   !"},ZQ={chapter_1_title:"  ",chapter_1_narrative:"   !     .        !",lesson_nutrition:" ",lesson_content:"    !    ,    ,      ,     "},JQ={food_quiz:" ",food_match:"  ",cooking_catch:"  ",complete_challenge:"  "},eZ={choose_chef_level:"   !",little_chefs:" ",little_chefs_ages:"5-8 ",little_chefs_desc:"   !",junior_cooks:" ",junior_cooks_ages:"9-12 ",junior_cooks_desc:"  !",teen_chefs:" ",teen_chefs_ages:"13-17 ",teen_chefs_desc:"  !"},tZ={title:"   !",sunny:"   !",cloudy:"   !",rainy:"  !",snowy:"   !",windy:" !",watermelon:"",ice_cream:" ",salad:"",sandwich:"",hot_soup:" ",hot_cocoa:" ",grilled_cheese:" ",hot_oatmeal:" ",energy_bars:" ",warm_milk:" ",rice_bowl:" ",smoothie:"",pasta:"",baked_potato:"  "},nZ={title:"  ",back:"",level:"",xp:"",available_quests:" ",quest_details:" ",complete_quest:"  ",cancel:" ",vegetable_valley_rescue:"  ",vegetable_valley_desc:"        ",protein_peak_challenge:"  ",protein_peak_desc:"     ",sugar_swamp_mystery:"  ",sugar_swamp_desc:"     ",hydration_haven:" ",hydration_haven_desc:"      ",easy:"",medium:"",hard:"",your_progress:" ",quests_completed:"   ",total_xp:"  "},rZ={title:" ?",honey_fact:"  !     3000    ,   .",strawberry_fact:"   ,  !",carrot_fact:"          A !",water_fact:"   75% ,        !",breakfast_fact:"         !",veggie_colors_fact:"        !",broccoli_fact:"         !",lemon_fact:"      .",eating_slow_fact:"      .",chocolate_fact:"     !"},iZ={title:" ",subtitle:"    !",rainbow_fruit_kabobs:"  ",funny_face_sandwich:"  ",apple_donuts:" ",veggie_quesadilla:" ",stir_fry_noodles:" ",homemade_pizza:"   ",buddha_bowl:" ",smoothie_bowl:" ",difficulty_easy:" ",difficulty_medium:"",difficulty_hard:" "},sZ={title:"  ",subtitle:"      !",fruit_forest:" ",veggie_valley:" ",protein_peaks:" ",dairy_dome:" ",grain_gardens:" "},aZ={title:" ",subtitle:"     !",total_points:" ",first_recipe:" ",first_recipe_desc:"    ",veggie_hero:" ",veggie_hero_desc:"5   ",fruit_explorer:" ",fruit_explorer_desc:"10   ",kitchen_star:" ",kitchen_star_desc:"5   ",health_champion:" ",health_champion_desc:"    ",novice_chef:" ",fruit_wizard:" ",green_guardian:" ",protein_master:" ",energy_champion:" ",anime_eats_master:"  "},oZ={title:"  ",exploration_tips:" ",tip_1:"           ",tip_2:"       ",tip_3:"       ",tip_4:"       ",locked_regions:"  ",recipes:"",facts:"",fruit_forest_desc:"         !",veggie_valley_desc:", ,          !",protein_peaks_desc:"        !",dairy_dome_desc:"       !",grain_gardens_desc:"      !"},lZ={change_age_group:"  ",notifications:"",about:"EatXP ",recipes_label:"",foods_label:"",badges_label:"",food_explorer:"  "},cZ={title:"  ",subtitle:"    !",choose_season:"  :",fresh_picks:" ",why_seasonal:"  ?",benefit_1:"    ",benefit_2:"    ",benefit_3:"  ",benefit_4:"   ",benefit_5:"    ",spring:" ",spring_desc:"   !      .",summer:" ",summer_desc:" !       .",autumn:" ",autumn_desc:" ! ,     .",winter:" ",winter_desc:" !        .",strawberries:"",asparagus:"",peas:"",spinach:"",watermelon:"",tomato:"",corn:"",blueberries:" ",pumpkin:"",apple:"",grape:"",carrot:"",orange:"",broccoli:"",potato:"",kale:"",vitamin_c_boost:"  ",sweet_juicy:" & ",super_nutrients:" ",crunchy_texture:" ",protein_power:" ",sweet_taste:" ",iron_rich:" ",super_strength:" ",stay_hydrated:" ",natural_coolness:" ",heart_healthy:" ",juicy_goodness:" ",energy_boost:" ",sweet_kernels:" ",brain_boost:" ",antioxidants:"-",vitamin_a_power:"  ",warm_comfort:" ",fiber_rich:" ",crispy_crunch:" ",antioxidant_benefits:"- ",sweet_clusters:" ",eye_health:" ",natural_sweetness:" ",vitamin_c:" ",citrus_brightness:" ",immune_boost:"   ",tree_shaped_yum:"  ",energy_fuel:" ",versatile_veggie:" ",super_nutrient:" ",leafy_power:" ",complete_protein:" ",probiotics:"",muscle_recovery:" ",vitamin_a:" ",complex_carbs:" ",lean_protein:" ",b_vitamins:" ",brain_food:" ",healthy_fats:" ",omega_3:" 3",strong_muscles:" ",iron_boost:" ",energy:"",strawberry_fact:"    !",asparagus_fact:"   10  !",peas_fact:"     !",spinach_fact:"        !",watermelon_fact:" 92% !",tomato_fact:"  ,  !",corn_fact:"    800   !",blueberries_fact:"    !",pumpkin_fact:" 90% !",apple_fact:"      36  !",grape_fact:" 8000   !",carrot_fact:"  1600    !",orange_fact:"  !",broccoli_fact:"  !",potato_fact:"    !",kale_fact:"       !"},uZ={title:"  ",subtitle:"      "},dZ={title:"  ",subtitle:"      "},hZ={energy_boost:" ",happy_tummy:" ",super_eyes:" ",crunchy_fun:" ",strong_teeth:" ",yummy_snack:" ",strong_bones:" ",tasty_treat:" ",brain_power:" ",healthy_fats:" ",omega_3:" 3",strong_muscles:" ",iron_boost:" ",energy:"",complete_protein:" ",brain_food:" ",probiotics:"",muscle_recovery:" ",vitamin_a:" ",complex_carbs:" ",lean_protein:" ",b_vitamins:" ",vitamin_c_boost:"  ",sweet_juicy:" & ",super_nutrients:" ",crunchy_texture:" ",protein_power:" ",sweet_taste:" ",iron_rich:" ",super_strength:" ",stay_hydrated:" ",natural_coolness:" ",heart_healthy:" ",juicy_goodness:" ",sweet_kernels:" ",brain_boost:" ",antioxidants:"-",vitamin_a_power:"  ",warm_comfort:" ",fiber_rich:" ",crispy_crunch:" ",antioxidant_benefits:"- ",sweet_clusters:" ",eye_health:" ",natural_sweetness:" ",vitamin_c:" ",citrus_brightness:" ",immune_boost:"   ",tree_shaped_yum:"  ",energy_fuel:" ",versatile_veggie:" ",super_nutrient:" ",leafy_power:" "},fZ={app_name:BQ,nav:zQ,common:VQ,home:HQ,age_groups:UQ,voice_bot:GQ,teen_features:WQ,food_categories:$Q,foods:qQ,recipes:XQ,voice_responses:YQ,buttons:KQ,food_info:QQ,story:ZQ,games:JQ,cover_page:eZ,weather_section:tZ,shokuiku_saga:nZ,did_you_know:rZ,recipes_section:iZ,healthy_heroes:sZ,badges_achievements:aZ,food_kingdom:oZ,settings:lZ,seasonal_produce:cZ,nutrition_tracker:uZ,community_space:dZ,food_benefits:hZ},pZ={en:{translation:iY},es:{translation:LY},fr:{translation:lK},ja:{translation:IK},hi:{translation:hQ},ta:{translation:OQ},te:{translation:fZ}},mZ=()=>{const t=localStorage.getItem("language");if(t)return t;const e=navigator.language.split("-")[0];return["en","es","fr","ja","hi","ta","te"].includes(e)?e:"en"};hn.use(IF).init({resources:pZ,lng:mZ(),fallbackLng:"en",interpolation:{escapeValue:!1}});const gZ=new cD,yZ=({children:t})=>{const{isAuthenticated:e,isLoading:n}=xu();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin mx-auto"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(ZD,{to:"/login",replace:!0})},xZ=()=>{const{user:t}=xu(),[e,n]=_.useState("tanjiro"),r=nl(),i=r.pathname==="/login"||r.pathname==="/register";return _.useEffect(()=>{iX()},[]),_.useEffect(()=>{t!=null&&t.characterId&&n(t.characterId)},[t==null?void 0:t.characterId]),l.jsxs(l.Fragment,{children:[l.jsx(kX,{characterId:e}),!i&&l.jsx(zA,{}),l.jsxs(eF,{children:[l.jsx(Ua,{path:"/login",element:l.jsx(SX,{})}),l.jsx(Ua,{path:"/register",element:l.jsx(MX,{})}),l.jsx(Ua,{path:"/features-demo",element:l.jsx(NX,{})}),l.jsx(Ua,{path:"/",element:l.jsx(yZ,{children:l.jsx(wX,{})})}),l.jsx(Ua,{path:"*",element:l.jsx(CX,{})})]})]})},vZ=()=>l.jsx(ZF,{i18n:hn,children:l.jsx(iF,{children:l.jsx(aF,{children:l.jsx(dD,{client:gZ,children:l.jsxs(B4,{children:[l.jsx(_R,{}),l.jsx(JR,{}),l.jsx(rF,{basename:"/EatXP/",children:l.jsx(xZ,{})})]})})})})});YM(document.getElementById("root")).render(l.jsx(vZ,{}));
